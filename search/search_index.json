{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"TCP\u4e09\u6b21\u63e1\u624b \u5f53\u5e94\u7528\u7a0b\u5e8f\u5e0c\u671b\u4e0e\u53e6\u4e00\u5e94\u7528\u7a0b\u5e8f\u5efa\u7acb\u901a\u4fe1\u65f6\uff0c\u4f1a\u8fdb\u884cTCP\u4e09\u6b21\u63e1\u624b\u3002\u5b8c\u6210\u4e09\u6b21\u63e1\u624b\u540e\uff0cTCP\u5c06\u5728\u4e24\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5efa\u7acb\u4e00\u4e2a\u5168\u53cc\u5de5\u901a\u4fe1\u3002 * \u7b2c\u4e00\u6b21\u63e1\u624b -\u5ba2\u6237\u7aef\u7ed9\u670d\u52a1\u7aef\u53d1\u9001\u4e00\u4e2aSYN\u62a5\u6587\uff0c\u5e76\u6307\u660e\u5ba2\u6237\u7aef\u7684\u521d\u59cb\u5316\u5e8f\u5217\u53f7\uff08syn=x\uff09,\u6b64\u65f6\u5ba2\u6237\u7aef\u5904\u4e8eSYN_Send\u72b6\u6001\u3002 * \u7b2c\u4e8c\u6b21\u63e1\u624b -\u670d\u52a1\u7aef\u5728\u63a5\u6536\u5230\u5ba2\u6237\u7aef\u53d1\u9001\u7684SYN\u62a5\u6587\u540e\u5bf9\u5176\u8fdb\u884c\u786e\u8ba4\uff08ack=x+1\uff09\uff0c\u540c\u65f6\u4ee5\u81ea\u5df1\u7684SYN\u62a5\u6587\u4f5c\u4e3a\u5e94\u7b54\uff0c\u5e76\u4e14\u4e5f\u6307\u5b9a\u81ea\u5df1\u7684\u521d\u59cb\u5316\u5e8f\u5217\u53f7\uff08syn=y\uff09,\u6b64\u65f6\u670d\u52a1\u5668\u5904\u4e8eSYN_REVD\u72b6\u6001\u3002 * \u7b2c\u4e09\u6b21\u63e1\u624b -\u5ba2\u6237\u7aef\u5728\u63a5\u6536\u5230SYN\u62a5\u6587\u540e,\u5411\u670d\u52a1\u5668\u53d1\u9001\u786e\u8ba4\u5305ACK(ack=y+1)\uff0c\u6b64\u65f6\u5ba2\u6237\u7aef\u5904\u4e8eestablised \u72b6\u6001\u3002\u670d\u52a1\u5668\u6536\u5230 ACK\u62a5\u6587\u4e4b\u540e\uff0c\u4e5f\u5904\u4e8eestablised \u72b6\u6001\uff0c\u6b64\u65f6\uff0c\u53cc\u65b9\u4ee5\u5efa\u7acb\u8d77\u4e86\u94fe\u63a5\u3002 \u4e09\u6b21\u63e1\u624b\u8fc7\u7a0b\u5982\u4e0b\uff1a SYN \u8868\u793a\u8bf7\u6c42\u5efa\u7acb\u8fde\u63a5, ACK \u8868\u793a\u786e\u8ba4\u5e8f\u53f7\uff0c seq \u4e3a\u6807\u5fd7\u6570\u636e\u5305\u5e8f\u53f7\uff0c ack \u786e\u8ba4\u5e8f\u53f7\uff08\u671f\u671b\u6536\u5230\u4e0b\u4e00\u4e2a\u6570\u636e\u5305\u7684\u5e8f\u53f7\uff09\u3002 \u4e3a\u4ec0\u4e48\u5efa\u7acb\u4e09\u6b21\u63e1\u624b \u786e\u8ba4\u5ba2\u6237\u7aef\u670d\u52a1\u7aef\u53d1\u9001\u548c\u63a5\u6536\u80fd\u529b\u662f\u5426\u6b63\u5e38\u3002 \u6307\u5b9a\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684\u521d\u59cb\u5316\u5e8f\u5217\u53f7\uff0c\u4e3a\u540e\u9762\u53ef\u9760\u4f20\u8f93\u505a\u51c6\u5907\u3002 \u91c7\u7528\u4e24\u6b21\u63e1\u624b\u51fa\u73b0\u7684\u95ee\u9898 \u6709\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff0c\u5f53A\u53d1\u9001\u4e00\u4e2a\u6d88\u606f\u7ed9B\uff0c\u4f46\u662f\u7531\u4e8e\u7f51\u7edc\u539f\u56e0\uff0c\u6d88\u606f\u88ab\u963b\u585e\u5728\u4e86\u67d0\u4e2a\u8282\u70b9\uff0c\u7136\u540e\u963b\u585e\u7684\u65f6\u95f4\u8d85\u51fa\u8bbe\u5b9a\u7684\u65f6\u95f4\uff0cA\u4f1a\u8ba4\u4e3a\u8fd9\u4e2a\u6d88\u606f\u4e22\u5931\u4e86\uff0c\u7136\u540e\u91cd\u65b0\u53d1\u9001\u6d88\u606f\u3002\u5f53A\u548cB\u901a\u4fe1\u5b8c\u6210\u540e\uff0c\u8fd9\u4e2a\u88abA\u8ba4\u4e3a\u5931\u6548\u7684\u6d88\u606f\uff0c\u5230\u8fbe\u4e86B\u3002\u5bf9\u4e8eB\u800c\u8a00\uff0c\u4ee5\u4e3a\u8fd9\u662f\u4e00\u4e2a\u65b0\u7684\u8bf7\u6c42\u94fe\u63a5\u6d88\u606f\uff0c\u5c31\u5411A\u53d1\u9001\u786e\u8ba4\uff0c \u5bf9\u4e8eA\u800c\u8a00\uff0c\u5b83\u8ba4\u4e3a\u6ca1\u6709\u7ed9B\u518d\u6b21\u53d1\u9001\u6d88\u606f\uff08\u56e0\u4e3a\u4e0a\u6b21\u7684\u901a\u8bdd\u5df2\u7ecf\u7ed3\u675f\uff09\u6240\u6709A\u4e0d\u4f1a\u7406\u776cB\u7684\u8fd9\u4e2a\u786e\u8ba4\uff0c\u4f46\u662fB\u5219\u4f1a\u4e00\u76f4\u7b49\u5f85A\u7684\u6d88\u606f\u3002 \u8fd9\u5c31\u5bfc\u81f4\u4e86B\u7684\u65f6\u95f4\u88ab\u6d6a\u8d39\uff08\u5bf9\u4e8e\u670d\u52a1\u5668\u800c\u8a00\uff0cCPU\u7b49\u8d44\u6e90\u662f\u4e00\u79cd\u6d6a\u8d39\uff09\uff0c\u8fd9\u6837\u662f\u4e0d\u53ef\u884c\u7684\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u4e24\u6b21\u63e1\u624b\u7684\u539f\u56e0\u4e86\u3002 \u7b2c\u4e09\u6b21\u63e1\u624b\u770b\u4f3c\u591a\u4f59\u5176\u5b9e\u4e0d\u7136\uff0c\u8fd9\u4e3b\u8981\u662f\u4e3a\u4e86\u9632\u6b62\u5df2\u5931\u6548\u7684\u8bf7\u6c42\u62a5\u6587\u6bb5\u7a81\u7136\u53c8\u4f20\u9001\u5230\u4e86\u670d\u52a1\u7aef\u800c\u4ea7\u751f\u8fde\u63a5\u7684\u8bef\u5224\u3002 TCP 4\u6b21\u6325\u624b \u7b2c\u4e00\u6b21\u63e1\u624b \uff1a\u5ba2\u6237\u7aef\u53d1\u9001FIN\u5305\uff0cFIN=1,\u5e8f\u5217\u53f7seq=u,\u5173\u95ed\u5ba2\u6237\u7aef\u5230\u670d\u52a1\u7aef\u7684\u6570\u636e\u4f20\u9001\uff0c\u5ba2\u6237\u7aef\u5904\u4e8eFIN_WAITE1\u72b6\u6001\u3002 \u7b2c\u4e8c\u6b21\u63e1\u624b \uff1a\u670d\u52a1\u5668\u7aef\u63a5\u6536\u5230FIN\u5305\uff0c\u53d1\u9001\u4e00\u4e2aACK\u5305\uff0cACK=1,ack=u+1,seq=v,serve\u8fdb\u5165CLOSE_WAITE\u72b6\u6001\uff0c\u6b64\u65f6\u670d\u52a1\u5668\u53ef\u4ee5\u7ee7\u7eed\u53d1\u9001\u5176\u4ed6\u6570\u636e\u5305\u3002 \u7b2c\u4e09\u6b21\u63e1\u624b \uff1a\u670d\u52a1\u5668\u7aef\u53d1\u9001FIN\u5305\uff0c\u7528\u6765\u5173\u95ed\u670d\u52a1\u5668\u5230\u5ba2\u6237\u7aef\u7684\u6570\u636e\u53d1\u9001\uff0cseq=w,ack=u+1,serve\u8fdb\u5165LAST_ACK\u72b6\u6001\u3002 \u7b2c\u56db\u6b21\u63e1\u624b \uff1a\u5ba2\u6237\u7aef\u6536\u5230FIN\u5305\uff0c\u5ba2\u6237\u7aef\u8fdb\u5165TIME_WAIT\u72b6\u6001\uff0c\u63a5\u7740\u53d1\u9001\u4e00\u4e2aACK\u5305\uff0cack=w+1\uff0cseq=u+1,serve\u8fdb\u5165CLOSED\u72b6\u6001,\u5b8c\u6210\u7b2c\u56db\u6b21\u63e1\u624b\u3002 4\u6b21\u6325\u624b\u56fe\u7247\u5982\u4e0b\uff1a UDP \u9762\u5411\u975e\u8fde\u63a5\uff0c\u4e0d\u7ef4\u62a4\u8fde\u63a5\u72b6\u6001\u3002 \u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\u3002 \u652f\u6301\u5e7f\u64ad\uff0c\u5373\u540c\u65f6\u5411\u591a\u4e2a\u5ba2\u6237\u7aef\u4f20\u8f93\u76f8\u540c\u4fe1\u606f\u3002 \u6570\u636e\u5305\u53ea\u67098\u4e2a\u5b57\u8282\uff08TCP20\u4e2a\u5b57\u8282\uff09\uff0c\u5f00\u9500\u5c0f\u3002 UDP\u548cTCP\u533a\u522b TCP\u9762\u5411\u8fde\u63a5\u9700\u8981\u7ef4\u6301\u8fde\u63a5\u72b6\u6001\uff0cUDP\u662f\u65e0\u8fde\u63a5\u7684\u3002 TCP\u4fdd\u8bc1\u53ef\u9760\u6027,\u901f\u5ea6\u76f8\u5bf9\u6162\uff1bUDP\u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\uff0c\u4e0d\u4fdd\u8bc1\u53ef\u9760\u6027\u3002 TCP\u5229\u7528\u5e8f\u5217\u53f7\u4fdd\u8bc1\u6570\u636e\u5305\u7684\u987a\u5e8f\u4ea4\u4ed8\uff0cUDP\u662f\u65e0\u5e8f\u7684\u3002 TCP\u536020\u4e2a\u5b57\u8282\uff0c\u76f8\u5bf9\u8f83\u5927\uff0cUDP8\u4e2a\u5b57\u8282\u76f8\u5bf9\u8f83\u5c0f\u3002 \u5728\u6d4f\u89c8\u5668\u4e2d\u952e\u5165URL\u540e\u7ecf\u5386\u7684\u8fc7\u7a0b 1.DNS\u89e3\u6790\uff0c\u5c06URL\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684IP\uff08\u6d4f\u89c8\u5668\u4f1a\u73b0\u5728\u672c\u5730\u7f13\u5b58\u627e\u5230URL\u5bf9\u5e94\u7684IP,\u6ca1\u6709\uff0c\u4f9d\u6b21\u5230\u64cd\u4f5c\u7cfb\u7edfDNS\u7f13\u5b58->\u64cd\u4f5c\u7cfb\u7edf\u7684host\u6587\u4ef6->\u64cd\u4f5c\u7cfb\u7edf\u5c06\u57df\u540d\u53d1\u9001\u5230\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\uff09\u3002 2.TCP\u8fde\u63a5\uff0c\u627e\u5230\u5bf9\u5e94\u7684IP\u5730\u5740\u540e\uff0c\u5ba2\u6237\u7aef\u4f1a\u4e0e\u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5\u3002 3.\u53d1\u9001HTTP\u8bf7\u6c42\uff0c\u5efa\u7acbTCP\u8fde\u63a5\u6210\u529f\u540e\uff0c\u6d4f\u89c8\u5668\u4f1a\u53d1\u9001Http\u8bf7\u6c42\u7ed9\u670d\u52a1\u5668\u3002 4.\u670d\u52a1\u5668\u5904\u7406Http\u8bf7\u6c42\uff0c\u5e76\u8fd4\u56deHTTP\u62a5\u6587\u3002 5.\u65ad\u5f00TCP\u8fde\u63a5,\u6d4f\u89c8\u5668\u89e3\u6790\u6e32\u67d3\u9875\u9762\u3002 http\u6d4f\u89c8\u5668\u7f13\u5b58\u673a\u5236 \u5f85\u8865\u5145 http\u548chttps\u7684\u533a\u522b \u5f85\u8865\u5145 get\u8bf7\u6c42\u548cPOST\u7684\u533a\u522b http\u5c42\u9762 -GET\u8bf7\u6c42\u5c06\u6570\u636e\u653e\u5728\u4e86URLh\u540e\u9762\uff0cPOST\u653e\u5728Request body\u91cc\u9762\u3002 \u6570\u636e\u5e93\u5c42\u9762 -GET\u8bf7\u6c42\u7b26\u5408\u5e42\u7b49\u6027\uff08\u540c\u4e00\u4e2aurl\u548c\u540c\u6837\u7684get\u53c2\u6570\uff0c\u5448\u73b0\u7ed9\u7528\u6237\u90fd\u662f\u540c\u6837\u7684\u7ed3\u679c\uff09\u548c\u5b89\u5168\u6027\uff08get\u4e0d\u4f1a\u5f15\u8d77\u6570\u636e\u7684\u53d8\u5316\uff0c\u4f8b\u5982\u8bf4\u5bf9\u6570\u636e\u5e93\u7684\u589e\u5220\u6539\uff09\uff0cPOST\u4e0d\u7b26\u5408\u3002 \u5176\u4ed6\u65b9\u9762 -GET\u8bf7\u6c42\u53ef\u4ee5\u88ab\u4e3b\u52a8\u7f13\u5b58\uff0c\u8fd8\u6709\u957f\u5ea6\u9650\u5236\uff0c\u800cPSOT\u4e0d\u884c\uff08\u88ab\u52a8\u7f13\u5b58\uff09\u3002 \u7ec6\u8282 -GET\u4ea7\u751f\u4e00\u4e2aTCP\u6570\u636e\u5305\uff08\u5bf9\u4e8eGET\u65b9\u5f0f\u7684\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u4f1a\u628ahttp header\u548cdata\u4e00\u5e76\u53d1\u9001\u51fa\u53bb\uff0c\u670d\u52a1\u5668\u54cd\u5e94200\uff08\u8fd4\u56de\u6570\u636e\uff09\uff09; POST\u4ea7\u751f\u4e24\u4e2aTCP\u6570\u636e\u5305\uff08\u5bf9\u4e8ePOST\uff0c\u6d4f\u89c8\u5668\u5148\u53d1\u9001header\uff0c\u670d\u52a1\u5668\u54cd\u5e94100 continue\uff0c\u6d4f\u89c8\u5668\u518d\u53d1\u9001data\uff0c\u670d\u52a1\u5668\u54cd\u5e94200 ok\uff08\u8fd4\u56de\u6570\u636e\uff09\uff09\u3002 session\u548ccookies\u7684\u533a\u522b cookies *\u662f\u7531\u670d\u52a1\u5668\u53d1\u7ed9\u5ba2\u6237\u7aef\u7684\u7279\u6b8a\u4fe1\u606f \u3002 * \u5ba2\u6237\u7aef\u518d\u6b21\u8bf7\u6c42\u65f6\uff0c\u4f1a\u628acookies\u56de\u53d1\u3002 * \u670d\u52a1\u5668\u63a5\u6536\u5230\u540e\uff0c\u4f1a\u89e3\u6790cookie\u751f\u6210\u4e0e\u5ba2\u6237\u7aef\u5bf9\u5e94\u7684\u5185\u5bb9\u3002 Cooike\u7684\u8bbe\u7f6e\u53ca\u53d1\u9001\u8fc7\u7a0b\u5982\u56fe\uff1a session * \u670d\u52a1\u5668\u7aef\u7684\u673a\u5236\uff0c\u5728\u670d\u52a1\u5668\u4e0a\u4fdd\u5b58\u4fe1\u606f\u3002 * \u89e3\u6790\u5ba2\u6237\u7aef\u8bf7\u6c42\u5e76\u64cd\u4f5csession id,\u6309\u9700\u4fdd\u5b58\u72b6\u6001\u4fe1\u606f\u3002 \u533a\u522b * cookies\u5b58\u653e\u5728\u6d4f\u89c8\u5668\u4e0a\uff0csession\u6570\u636e\u653e\u5728\u670d\u52a1\u5668\u4e0a\uff0ccooKie\u4e0d\u5360\u670d\u52a1\u5668\u8d44\u6e90\u3002 * Session\u76f8\u5bf9\u4e8eCookie\u66f4\u5b89\u5168\u3002 \uff081\uff09cookie\u4e0d\u662f\u5f88\u5b89\u5168\uff0c\u522b\u4eba\u53ef\u4ee5\u5206\u6790\u5b58\u653e\u5728\u672c\u5730\u7684cookie\u5e76\u8fdb\u884ccookie\u6b3a\u9a97\uff0c\u8003\u8651\u5230\u5b89\u5168\u5e94\u5f53\u4f7f\u7528session\u3002 \uff082\uff09session\u4f1a\u5728\u4e00\u5b9a\u65f6\u95f4\u5185\u4fdd\u5b58\u5728\u670d\u52a1\u5668\u4e0a\u3002\u5f53\u8bbf\u95ee\u589e\u591a\uff0c\u4f1a\u6bd4\u8f83\u5360\u7528\u4f60\u670d\u52a1\u5668\u7684\u6027\u80fd\uff0c\u8003\u8651\u5230\u51cf\u8f7b\u670d\u52a1\u5668\u6027\u80fd\u65b9\u9762\uff0c\u5e94\u5f53\u4f7f\u7528cookie\u3002 stocket\u901a\u4fe1 socket\u662f\u5728\u5e94\u7528\u5c42\u548c\u4f20\u8f93\u5c42\u4e4b\u95f4\u7684\u4e00\u4e2a\u62bd\u8c61\u5c42\uff0c\u5b83\u628aTCP/IP\u5c42\u590d\u6742\u7684\u64cd\u4f5c\u62bd\u8c61\u4e3a\u51e0\u4e2a\u7b80\u5355\u7684\u63a5\u53e3\u4f9b\u5e94\u7528\u5c42\u8c03\u7528\u5df2\u5b9e\u73b0\u8fdb\u7a0b\u5728\u7f51\u7edc\u4e2d\u901a\u4fe1\u3002 \u901a\u4fe1\u56fe\uff1a","title":"Home"},{"location":"#_1","text":"\u786e\u8ba4\u5ba2\u6237\u7aef\u670d\u52a1\u7aef\u53d1\u9001\u548c\u63a5\u6536\u80fd\u529b\u662f\u5426\u6b63\u5e38\u3002 \u6307\u5b9a\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684\u521d\u59cb\u5316\u5e8f\u5217\u53f7\uff0c\u4e3a\u540e\u9762\u53ef\u9760\u4f20\u8f93\u505a\u51c6\u5907\u3002","title":"\u4e3a\u4ec0\u4e48\u5efa\u7acb\u4e09\u6b21\u63e1\u624b"},{"location":"#_2","text":"\u6709\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff0c\u5f53A\u53d1\u9001\u4e00\u4e2a\u6d88\u606f\u7ed9B\uff0c\u4f46\u662f\u7531\u4e8e\u7f51\u7edc\u539f\u56e0\uff0c\u6d88\u606f\u88ab\u963b\u585e\u5728\u4e86\u67d0\u4e2a\u8282\u70b9\uff0c\u7136\u540e\u963b\u585e\u7684\u65f6\u95f4\u8d85\u51fa\u8bbe\u5b9a\u7684\u65f6\u95f4\uff0cA\u4f1a\u8ba4\u4e3a\u8fd9\u4e2a\u6d88\u606f\u4e22\u5931\u4e86\uff0c\u7136\u540e\u91cd\u65b0\u53d1\u9001\u6d88\u606f\u3002\u5f53A\u548cB\u901a\u4fe1\u5b8c\u6210\u540e\uff0c\u8fd9\u4e2a\u88abA\u8ba4\u4e3a\u5931\u6548\u7684\u6d88\u606f\uff0c\u5230\u8fbe\u4e86B\u3002\u5bf9\u4e8eB\u800c\u8a00\uff0c\u4ee5\u4e3a\u8fd9\u662f\u4e00\u4e2a\u65b0\u7684\u8bf7\u6c42\u94fe\u63a5\u6d88\u606f\uff0c\u5c31\u5411A\u53d1\u9001\u786e\u8ba4\uff0c \u5bf9\u4e8eA\u800c\u8a00\uff0c\u5b83\u8ba4\u4e3a\u6ca1\u6709\u7ed9B\u518d\u6b21\u53d1\u9001\u6d88\u606f\uff08\u56e0\u4e3a\u4e0a\u6b21\u7684\u901a\u8bdd\u5df2\u7ecf\u7ed3\u675f\uff09\u6240\u6709A\u4e0d\u4f1a\u7406\u776cB\u7684\u8fd9\u4e2a\u786e\u8ba4\uff0c\u4f46\u662fB\u5219\u4f1a\u4e00\u76f4\u7b49\u5f85A\u7684\u6d88\u606f\u3002 \u8fd9\u5c31\u5bfc\u81f4\u4e86B\u7684\u65f6\u95f4\u88ab\u6d6a\u8d39\uff08\u5bf9\u4e8e\u670d\u52a1\u5668\u800c\u8a00\uff0cCPU\u7b49\u8d44\u6e90\u662f\u4e00\u79cd\u6d6a\u8d39\uff09\uff0c\u8fd9\u6837\u662f\u4e0d\u53ef\u884c\u7684\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u4e24\u6b21\u63e1\u624b\u7684\u539f\u56e0\u4e86\u3002 \u7b2c\u4e09\u6b21\u63e1\u624b\u770b\u4f3c\u591a\u4f59\u5176\u5b9e\u4e0d\u7136\uff0c\u8fd9\u4e3b\u8981\u662f\u4e3a\u4e86\u9632\u6b62\u5df2\u5931\u6548\u7684\u8bf7\u6c42\u62a5\u6587\u6bb5\u7a81\u7136\u53c8\u4f20\u9001\u5230\u4e86\u670d\u52a1\u7aef\u800c\u4ea7\u751f\u8fde\u63a5\u7684\u8bef\u5224\u3002","title":"\u91c7\u7528\u4e24\u6b21\u63e1\u624b\u51fa\u73b0\u7684\u95ee\u9898"},{"location":"#udp","text":"\u9762\u5411\u975e\u8fde\u63a5\uff0c\u4e0d\u7ef4\u62a4\u8fde\u63a5\u72b6\u6001\u3002 \u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\u3002 \u652f\u6301\u5e7f\u64ad\uff0c\u5373\u540c\u65f6\u5411\u591a\u4e2a\u5ba2\u6237\u7aef\u4f20\u8f93\u76f8\u540c\u4fe1\u606f\u3002 \u6570\u636e\u5305\u53ea\u67098\u4e2a\u5b57\u8282\uff08TCP20\u4e2a\u5b57\u8282\uff09\uff0c\u5f00\u9500\u5c0f\u3002","title":"UDP"},{"location":"#udptcp","text":"TCP\u9762\u5411\u8fde\u63a5\u9700\u8981\u7ef4\u6301\u8fde\u63a5\u72b6\u6001\uff0cUDP\u662f\u65e0\u8fde\u63a5\u7684\u3002 TCP\u4fdd\u8bc1\u53ef\u9760\u6027,\u901f\u5ea6\u76f8\u5bf9\u6162\uff1bUDP\u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\uff0c\u4e0d\u4fdd\u8bc1\u53ef\u9760\u6027\u3002 TCP\u5229\u7528\u5e8f\u5217\u53f7\u4fdd\u8bc1\u6570\u636e\u5305\u7684\u987a\u5e8f\u4ea4\u4ed8\uff0cUDP\u662f\u65e0\u5e8f\u7684\u3002 TCP\u536020\u4e2a\u5b57\u8282\uff0c\u76f8\u5bf9\u8f83\u5927\uff0cUDP8\u4e2a\u5b57\u8282\u76f8\u5bf9\u8f83\u5c0f\u3002","title":"UDP\u548cTCP\u533a\u522b"},{"location":"#url","text":"1.DNS\u89e3\u6790\uff0c\u5c06URL\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684IP\uff08\u6d4f\u89c8\u5668\u4f1a\u73b0\u5728\u672c\u5730\u7f13\u5b58\u627e\u5230URL\u5bf9\u5e94\u7684IP,\u6ca1\u6709\uff0c\u4f9d\u6b21\u5230\u64cd\u4f5c\u7cfb\u7edfDNS\u7f13\u5b58->\u64cd\u4f5c\u7cfb\u7edf\u7684host\u6587\u4ef6->\u64cd\u4f5c\u7cfb\u7edf\u5c06\u57df\u540d\u53d1\u9001\u5230\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\uff09\u3002 2.TCP\u8fde\u63a5\uff0c\u627e\u5230\u5bf9\u5e94\u7684IP\u5730\u5740\u540e\uff0c\u5ba2\u6237\u7aef\u4f1a\u4e0e\u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5\u3002 3.\u53d1\u9001HTTP\u8bf7\u6c42\uff0c\u5efa\u7acbTCP\u8fde\u63a5\u6210\u529f\u540e\uff0c\u6d4f\u89c8\u5668\u4f1a\u53d1\u9001Http\u8bf7\u6c42\u7ed9\u670d\u52a1\u5668\u3002 4.\u670d\u52a1\u5668\u5904\u7406Http\u8bf7\u6c42\uff0c\u5e76\u8fd4\u56deHTTP\u62a5\u6587\u3002 5.\u65ad\u5f00TCP\u8fde\u63a5,\u6d4f\u89c8\u5668\u89e3\u6790\u6e32\u67d3\u9875\u9762\u3002","title":"\u5728\u6d4f\u89c8\u5668\u4e2d\u952e\u5165URL\u540e\u7ecf\u5386\u7684\u8fc7\u7a0b"},{"location":"#http","text":"\u5f85\u8865\u5145","title":"http\u6d4f\u89c8\u5668\u7f13\u5b58\u673a\u5236"},{"location":"#httphttps","text":"\u5f85\u8865\u5145","title":"http\u548chttps\u7684\u533a\u522b"},{"location":"#getpost","text":"http\u5c42\u9762 -GET\u8bf7\u6c42\u5c06\u6570\u636e\u653e\u5728\u4e86URLh\u540e\u9762\uff0cPOST\u653e\u5728Request body\u91cc\u9762\u3002 \u6570\u636e\u5e93\u5c42\u9762 -GET\u8bf7\u6c42\u7b26\u5408\u5e42\u7b49\u6027\uff08\u540c\u4e00\u4e2aurl\u548c\u540c\u6837\u7684get\u53c2\u6570\uff0c\u5448\u73b0\u7ed9\u7528\u6237\u90fd\u662f\u540c\u6837\u7684\u7ed3\u679c\uff09\u548c\u5b89\u5168\u6027\uff08get\u4e0d\u4f1a\u5f15\u8d77\u6570\u636e\u7684\u53d8\u5316\uff0c\u4f8b\u5982\u8bf4\u5bf9\u6570\u636e\u5e93\u7684\u589e\u5220\u6539\uff09\uff0cPOST\u4e0d\u7b26\u5408\u3002 \u5176\u4ed6\u65b9\u9762 -GET\u8bf7\u6c42\u53ef\u4ee5\u88ab\u4e3b\u52a8\u7f13\u5b58\uff0c\u8fd8\u6709\u957f\u5ea6\u9650\u5236\uff0c\u800cPSOT\u4e0d\u884c\uff08\u88ab\u52a8\u7f13\u5b58\uff09\u3002 \u7ec6\u8282 -GET\u4ea7\u751f\u4e00\u4e2aTCP\u6570\u636e\u5305\uff08\u5bf9\u4e8eGET\u65b9\u5f0f\u7684\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u4f1a\u628ahttp header\u548cdata\u4e00\u5e76\u53d1\u9001\u51fa\u53bb\uff0c\u670d\u52a1\u5668\u54cd\u5e94200\uff08\u8fd4\u56de\u6570\u636e\uff09\uff09; POST\u4ea7\u751f\u4e24\u4e2aTCP\u6570\u636e\u5305\uff08\u5bf9\u4e8ePOST\uff0c\u6d4f\u89c8\u5668\u5148\u53d1\u9001header\uff0c\u670d\u52a1\u5668\u54cd\u5e94100 continue\uff0c\u6d4f\u89c8\u5668\u518d\u53d1\u9001data\uff0c\u670d\u52a1\u5668\u54cd\u5e94200 ok\uff08\u8fd4\u56de\u6570\u636e\uff09\uff09\u3002","title":"get\u8bf7\u6c42\u548cPOST\u7684\u533a\u522b"},{"location":"#sessioncookies","text":"","title":"session\u548ccookies\u7684\u533a\u522b"},{"location":"#stocket","text":"socket\u662f\u5728\u5e94\u7528\u5c42\u548c\u4f20\u8f93\u5c42\u4e4b\u95f4\u7684\u4e00\u4e2a\u62bd\u8c61\u5c42\uff0c\u5b83\u628aTCP/IP\u5c42\u590d\u6742\u7684\u64cd\u4f5c\u62bd\u8c61\u4e3a\u51e0\u4e2a\u7b80\u5355\u7684\u63a5\u53e3\u4f9b\u5e94\u7528\u5c42\u8c03\u7528\u5df2\u5b9e\u73b0\u8fdb\u7a0b\u5728\u7f51\u7edc\u4e2d\u901a\u4fe1\u3002 \u901a\u4fe1\u56fe\uff1a","title":"stocket\u901a\u4fe1"},{"location":"JVM/","text":"java\u7279\u6027 \u5e73\u53f0\u65e0\u5173\uff1a\u4e00\u6b21\u7f16\u8bd1\uff0c\u5230\u5904\u8fd0\u884c\u3002 GC:\u81ea\u52a8\u56de\u6536\u5783\u573e. \u5f02\u5e38\u5904\u7406 \u8bed\u8a00\u7279\u6027\uff1a\u53cd\u5c04\uff0c\u6cdb\u578b\uff0c\u9762\u5411\u5bf9\u8c61\u3002 For full documentation visit mkdocs.org . \u5e73\u53f0\u65e0\u5173\u5982\u4f55\u5b9e\u73b0\u3002 \u539f\u7406: JAVA\u6e90\u7801\u9996\u5148\u4f1a\u88ab\u7f16\u8bd1\u6210\u5b57\u8282\u7801\uff0c\u518d\u6709\u4e0d\u540c\u5e73\u53f0\u7684JVM\u8fdb\u884c\u89e3\u6790\u5c06\u5b57\u8282\u7801\u8f6c\u6362\u4e3a\u76f8\u5e94\u5e73\u53f0\u7684\u673a\u5668\u6307\u4ee4\u3002 \u5982\u4f55\u67e5\u770b\u5b57\u8282\u7801\uff08javap \u547d\u4ee4\u53cd\u7f16\u8bd1\uff09 javap -c myJava \u8be5\u6307\u4ee4\u53ef\u628ajava\u5b57\u8282\u7801\u6587\u4ef6\u53cd\u7f16\u8bd1\u6c47\u7f16\u3002 \u4e3a\u4ec0\u4e48\u4e0d\u628a\u6e90\u7801\u76f4\u63a5\u7f16\u8bd1\u6210\u673a\u5668\u7801\u3002 \u7701\u53bb\u51c6\u5907\u5de5\u4f5c\uff1a\u56e0\u4e3a\u7f16\u8bd1\u6210\u673a\u5668\u7801\uff0c\u6bcf\u6b21\u6267\u884c\u65f6\u90fd\u8981\u8fdb\u884c\u8bed\u6cd5\uff0c\u8bed\u4e49\u7684\u68c0\u67e5\uff0c\u8fd9\u4e9b\u5de5\u4f5c\u4e0d\u4f1a\u88ab\u4fdd\u7559\u4e0b\u6765\uff0c\u56e0\u6b64\u5f15\u5165\u4e2d\u95f4\u5b57\u8282\u7801\uff0c\u7701\u53bb\u8fd9\u4e9b\u68c0\u67e5\u5de5\u4f5c\u3002 \u517c\u5bb9\u6027\uff0c\u4e5f\u53ef\u4ee5\u5c06\u522b\u7684\u8bed\u8a00\u89e3\u6790\u6210\u5b57\u8282\u7801\u5982Scala\uff0cGroovy\uff0cXtend\u7b49\u3002 JVM\u7684\u67b6\u6784 JVM\u67b6\u6784\u5927\u81f4\u5206\u4e3a4\u90e8\u5206\uff1a ClassLoader :\u4f9d\u636e\u7279\u5b9a\u683c\u5f0f\u52a0\u8f7dclass\u6587\u4ef6\u5230\u5185\u5b58\u3002 Excution Engine :\u5bf9\u547d\u4ee4\u8fdb\u884c\u89e3\u6790\u3002 Native Interface \uff1a\u878d\u5408\u4e0d\u540c\u7684\u5f00\u53d1\u8bed\u8a00\u7684\u539f\u751f\u5e93\u4e3ajava\u6240\u7528\u3002 java\u8fd0\u884c\u65f6\u6570\u636e\u533a\u57df \uff1aJVM\u7684\u5185\u5b58\u7a7a\u95f4\u7ed3\u6784\u6a21\u578b\u3002 \u4ec0\u4e48\u662f\u53cd\u5c04 Java\u53cd\u5c04\u8bf4\u7684\u662f\u5728\u8fd0\u884c\u72b6\u6001\u4e2d\uff0c\u5bf9\u4e8e\u4efb\u4f55\u4e00\u4e2a\u7c7b\uff0c\u6211\u4eec\u90fd\u80fd\u591f\u77e5\u9053\u8fd9\u4e2a\u7c7b\u6709\u54ea\u4e9b\u65b9\u6cd5\u548c\u5c5e\u6027\u3002\u5bf9\u4e8e\u4efb\u4f55\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6211\u4eec\u90fd\u80fd\u591f\u5bf9\u5b83\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\u8fdb\u884c\u8c03\u7528\u3002\u6211\u4eec\u628a\u8fd9\u79cd\u52a8\u6001\u83b7\u53d6\u5bf9\u8c61\u4fe1\u606f\u548c\u8c03\u7528\u5bf9\u8c61\u65b9\u6cd5\u7684\u529f\u80fd\u79f0\u4e4b\u4e3a\u53cd\u5c04\u673a\u5236\u3002 \u53cd\u5c04\u7684\u4e09\u79cd\u65b9\u5f0f *\u901a\u8fc7\u5bf9\u8c61\u8c03\u7528 getClass() Person p1 = new Person(); Class c1 = p1.getClass(); *\u76f4\u63a5\u901a\u8fc7 \u7c7b\u540d.class \u7684\u65b9\u5f0f\u5f97\u5230,\u8be5\u65b9\u6cd5\u6700\u4e3a\u5b89\u5168\u53ef\u9760\uff0c\u7a0b\u5e8f\u6027\u80fd\u66f4\u9ad8 \u8fd9\u8bf4\u660e\u4efb\u4f55\u4e00\u4e2a\u7c7b\u90fd\u6709\u4e00\u4e2a\u9690\u542b\u7684\u9759\u6001\u6210\u5458\u53d8\u91cf class Class c1 = Person.class; *\u901a\u8fc7 Class \u5bf9\u8c61\u7684 forName() \u9759\u6001\u65b9\u6cd5\u6765\u83b7\u53d6\uff0c\u7528\u7684\u6700\u591a\uff0c \u4f46\u53ef\u80fd\u629b\u51fa ClassNotFoundException \u5f02\u5e38 Class c3 = Class.forName(\"com.reflex.Person\"); \u5199\u4e00\u4e2a\u53cd\u5c04\u7684\u4f8b\u5b50 //1\u3001\u83b7\u53d6Class\u5bf9\u8c61 Class<?> c = Class.forName(\"com.reflex.Person\"); //2\u3001\u4f7f\u7528Class\u5bf9\u8c61\u521b\u5efa\u8be5\u7c7b\u5bf9\u8c61\uff1a Object obj = c.newInstance(); classLoder \u7c7b\u4ece\u7f16\u8bd1\u5230\u6267\u884c\u7684\u8fc7\u7a0b\uff1a 1. \u7f16\u8bd1\u5668\u5c06Person.java\u6587\u4ef6\u7f16\u8bd1\u6210\u5b57\u8282\u7801Person.class\u3002 2. ClassLoader \u5c06\u5b57\u8282\u7801\u6587\u4ef6\u8f6c\u6362\u6210JVM\u4e2d\u7684Class \u5bf9\u8c61\u3002 *3. JVM\u5229\u7528Class \u5bf9\u8c61\u5b9e\u4f8b\u5316Person\u5bf9\u8c61\u3002 \u7c7b\u52a0\u8f7d\u5668\uff0c\u5177\u4f53\u4f5c\u7528\u5c31\u662f\u5c06.class\u6587\u4ef6\u52a0\u8f7d\u5230JVM\u865a\u62df\u673a\u4e2d\u53bb\uff0c\u7a0b\u5e8f\u5c31\u53ef\u4ee5\u6b63\u786e\u8fd0\u884c\u4e86.\u7b2c\u4e00\u4e2a\u9636\u6bb5\u3002 \u4ec0\u4e48\u65f6\u5019\u5f00\u59cb\u9700\u8981\u7c7b\u52a0\u8f7d 1.\u5b9e\u4f8b\u901a\u8fc7\u4f7f\u7528new()\u5173\u952e\u5b57\u521b\u5efa\u6216\u8005\u4f7f\u7528class.forName\u53cd\u5c04\uff0c\u4f46\u5b83\u6709\u53ef\u80fd\u5bfc\u81f4\u53cd\u5c04\uff0c\u4f46\u5b83\u6709\u53ef\u80fd\u5bfc\u81f4ClassNotFoundException\u3002 2.\u7c7b\u7684\u9759\u6001\u65b9\u6cd5\u88ab\u8c03\u7528 3.\u7c7b\u7684\u9759\u6001\u57df\u88ab\u8d4b\u503c 4.\u9759\u6001\u57df\u88ab\u8bbf\u95ee\uff0c\u800c\u4e14\u5b83\u4e0d\u662f\u5e38\u91cf ClassLoader\u7684\u4e09\u79cd\u7c7b\u578b\u3002 BootStrapClassLoader :C++\u7f16\u5199\uff0c\u52a0\u8f7d\u6838\u5fc3\u5e93java.; ExtClassLoader :java\u7f16\u5199\uff0c\u52a0\u8f7d\u6269\u5c55\u5e93javax. ; AppClassLoader :java\u7f16\u5199\uff0c\u52a0\u8f7d\u7a0b\u5e8f\u6240\u5728\u76ee\u5f55; \u7f16\u5199\u4e00\u4e2aclassLoader (1)\u7ee7\u627fClassLoader\u7c7b\u3002(2)\u91cd\u5199fiandClass()\u65b9\u6cd5\u3002(3)\u8c03\u7528defineClass()\u65b9\u6cd5\uff0cdefineClass\u65b9\u6cd5\u5c06\u5b57\u8282\u7801\u8f6c\u5316\u4e3a\u7c7b\u3002 protected synchronized Class<?> loadClass(String name, boolean resolve) throws ClassNotFoundException { // First, check if the class has already been loaded Class c = findLoadedClass(name); //\u6ca1\u6709\u88ab\u52a0\u8f7d if (c == null) { try { //\u53bb\u7236\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d if (parent != null) { c = parent.loadClass(name, false); } else { //\u5982\u679c\u7236\u7c7b\u4e3a\u662fnull\u5373(Bootstrap ClassLoader) c = findBootstrapClass0(name); } //\u90fd\u6ca1\u627e\u5230,findClass()\u7528\u6237\u81ea\u5b9a\u4e49\u5b9e\u73b0,\u9ed8\u8ba4\u6ca1\u6709\u5b9e\u73b0 } catch (ClassNotFoundException e) { // If still not found, then invoke findClass in order // to find the class. c = findClass(name); } } if (resolve) { resolveClass(c); } return c; } \u53cc\u4eb2\u59d4\u6d3e\u673a\u5236\u662f\u4ec0\u4e48\uff0c\u4f5c\u7528 \u5f53JVM\u8981\u52a0\u8f7dPerson.class\u65f6 (1)\u9996\u5148\u4f1a\u53bb\u81ea\u5b9a\u4e49\u7c7b\u52a0\u8f7d\u4e2d\u67e5\u627e\u770b\u662f\u5426\u52a0\u8f7d\u8fc7\uff0c\u5982\u679c\u5df2\u7ecf\u52a0\u8f7d\u8fc7\uff0c\u5219\u8fd4\u56de\u5b57\u8282\u7801\u3002 (2)\u5982\u679c\u6ca1\u6709\uff0c\u5219\u53bb\u5b83\u7684\u7236\u7c7b\u52a0\u8f7d\u5668AppClassLoader\u67e5\u770b\u662f\u5426\u52a0\u8f7d\u3002\u4ee5\u6b64\u7c7b\u63a8\u3002 (3)\u5982\u679c\u9876\u5c42\u52a0\u8f7d\u5668BootStrapClassLoader\u4e5f\u672a\u52a0\u8f7d\u8fc7\uff0c\u5219\u5f00\u59cb\u52a0\u8f7d\uff0c\u6ca1\u627e\u5230\u5219\u5230\u5b83\u7684\u5b50\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\u3002 (4)\u6700\u540e\u5728\u81ea\u5b9a\u4e49\u7c7b\u52a0\u8f7d\u5668\u4e2d\u90fd\u672a\u52a0\u8f7d\uff0c\u90a3\u4e48\u5c31\u629b\u51faClassNotFoundException() \u4f5c\u7528 jvm\u5982\u4f55\u8ba4\u5b9a\u4e24\u4e2a\u5bf9\u8c61\u540c\u5c5e\u4e8e\u4e00\u4e2a\u7c7b\u578b\uff0c\u5fc5\u987b\u540c\u65f6\u6ee1\u8db3\u4e0b\u9762\u4e24\u4e2a\u6761\u4ef6\uff1a \u90fd\u662f\u7528\u540c\u540d\u7684\u7c7b\u5b8c\u6210\u5b9e\u4f8b\u5316\u7684\u3002 \u4e24\u4e2a\u5b9e\u4f8b\u5404\u81ea\u5bf9\u5e94\u7684\u540c\u540d\u7684\u7c7b\u7684\u52a0\u8f7d\u5668\u5fc5\u987b\u662f\u540c\u4e00\u4e2a\u3002\u6bd4\u5982\u4e24\u4e2a\u76f8\u540c\u540d\u5b57\u7684\u7c7b\uff0c\u4e00\u4e2a\u662f\u7528\u7cfb\u7edf\u52a0\u8f7d\u5668\u52a0\u8f7d\u7684\uff0c\u4e00\u4e2a\u6269\u5c55\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\u7684\uff0c\u4e24\u4e2a\u7c7b\u751f\u6210\u7684\u5bf9\u8c61\u5c06\u88abjvm\u8ba4\u5b9a\u4e3a\u4e0d\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\u3002 1.\u9632\u6b62\u5185\u5b58\u4e2d\u51fa\u73b0\u591a\u4efd\u540c\u6837\u7684\u5b57\u8282\u7801 2.\u4e3a\u4e86\u7cfb\u7edf\u7c7b\u7684\u5b89\u5168\uff0c\u7c7b\u4f3c\u201c java.lang.Object\u201d\u8fd9\u79cd\u6838\u5fc3\u7c7b\uff0cjvm\u9700\u8981\u4fdd\u8bc1\u4ed6\u4eec\u751f\u6210\u7684\u5bf9\u8c61\u90fd\u4f1a\u88ab\u8ba4\u5b9a\u4e3a\u540c\u4e00\u79cd\u7c7b\u578b\u3002\u5373\u201c\u901a\u8fc7\u4ee3\u7406\u6a21\u5f0f\uff0c\u5bf9\u4e8e Java \u6838\u5fc3\u5e93\u7684\u7c7b\u7684\u52a0\u8f7d\u5de5\u4f5c\u7531\u5f15\u5bfc\u7c7b\u52a0\u8f7d\u5668\u6765\u7edf\u4e00\u5b8c\u6210\uff0c\u4fdd\u8bc1\u4e86 Java \u5e94\u7528\u6240\u4f7f\u7528\u7684\u90fd\u662f\u540c\u4e00\u4e2a\u7248\u672c\u7684 Java \u6838\u5fc3\u5e93\u7684\u7c7b\uff0c\u662f\u4e92\u76f8\u517c\u5bb9\u7684\u3002 \u5982\u679c\u81ea\u5df1\u5199\u4e00\u4e2ajava.lang.Object\uff0c\u56e0\u4e3a\u53cc\u4eb2\u59d4\u6d3e\u673a\u5236\uff0cJVM\u53ea\u4f1a\u52a0\u8f7d\u7cfb\u7edf\u7684java.lang.Object\u800c\u4e0d\u4f1a\u52a0\u8f7d\u81ea\u5df1\u5b9a\u4e49\u7684\u3002 \u7834\u574f\u53cc\u4eb2\u59d4\u6258\u673a\u5236 \u7b2c\u4e00\u6b21 \uff1a\u91cd\u5199loadClass(),\u7834\u574f\u53cc\u4eb2\u59d4\u6258 \u7b2c\u4e8c\u6b21 \uff1a\u52a0\u8f7dJDBC\u9a71\u52a8\u5668\u65f6 \u6839\u636e\u7c7b\u52a0\u8f7d\u673a\u5236\uff0c\u82e5A\u7c7b\u8c03\u7528B\u7c7b\uff0c\u5219B\u7c7b\u7531A\u7c7b\u7684\u52a0\u8f7d\u5668\u52a0\u8f7d DBC\u4e4b\u6240\u4ee5\u8981\u7834\u574f\u53cc\u4eb2\u59d4\u6d3e\u6a21\u5f0f\u662f\u56e0\u4e3a\uff0cJDBC\u7684\u6838\u5fc3\u5728rt.jar\u4e2d\u7531\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\uff0c\u800c\u5176\u5b9e\u73b0\u5219\u5728\u5404\u5382\u5546\u5b9e\u73b0\u7684\u7684jar\u5305\u4e2d\uff0c\u6839\u636e\u7c7b\u52a0\u8f7d\u673a\u5236\uff0c\u82e5A\u7c7b\u8c03\u7528B\u7c7b\uff0c\u5219B\u7c7b\u7531A\u7c7b\u7684\u52a0\u8f7d\u5668\u52a0\u8f7d\uff0c\u4e5f\u5c31\u662f\u8bf4\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668\u8981\u52a0\u8f7djar\u5305\u4e0b\u7684\u7c7b\uff0c\u6211\u4eec\u90fd\u77e5\u9053\u8fd9\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668\u8d1f\u8d23\u52a0\u8f7d $JAVA_HOME\u4e2djre/lib/rt.jar \u91cc\u6240\u6709\u7684class\uff0c\u90a3\u4e48JDBC\u662f\u5982\u4f55\u52a0\u8f7d\u8fd9\u4e9bDriver\u5b9e\u73b0\u7c7b\u7684\uff1f \u901a\u8fc7 Thread.currentThread().getContextClassLoader() >\u5f97\u5230\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u52a0\u8f7d\u5668\u6765\u52a0\u8f7dDriver\u5b9e\u73b0\u7c7b\u3002 loadClass()\u548cClass.forName()\u7684\u533a\u522b \u7c7b\u7684\u52a0\u8f7d\u8fc7\u7a0b\uff1a \uff01 \u7c7b\u52a0\u8f7d\u8fc7\u7a0b java\u7684\u5185\u5b58\u6a21\u578b JDK8\u7684\u5185\u5b58\u6a21\u578b: \u7ebf\u7a0b\u79c1\u6709 \uff1a\u7a0b\u5e8f\u8ba1\u6570\u5668\uff0c\u865a\u62df\u673a\u6808\uff0c\u672c\u5730\u65b9\u6cd5\u6808 \u7ebf\u7a0b\u5171\u4eab \uff1a(MetaSpace)\u5143\u7a7a\u95f4,Java\u5806 JDK8\u5bf9JVM\u67b6\u6784\u7684\u6539\u9020\u5c06\u7c7b\u5143\u6570\u636e\u653e\u5230\u672c\u5730\u5185\u5b58\u4e2d\uff0c\u53e6\u5916\uff0c\u5c06\u5e38\u91cf\u6c60\u548c\u9759\u6001\u53d8\u91cf\u653e\u5230Java\u5806\u91cc.\u5143\u7a7a\u95f4\u7684\u672c\u8d28\u548c\u6c38\u4e45\u4ee3\u7c7b\u4f3c\uff0c\u90fd\u662f\u5bf9JVM\u89c4\u8303\u4e2d\u65b9\u6cd5\u533a\u7684\u5b9e\u73b0\u3002\u4e0d\u8fc7\u5143\u7a7a\u95f4\u4e0e\u6c38\u4e45\u4ee3\u4e4b\u95f4\u7684\u6700\u5927\u533a\u522b\u5728\u4e8e\uff1a\u5143\u7a7a\u95f4\u5e76\u4e0d\u5728\u865a\u62df\u673a\u4e2d\uff0c\u800c\u662f\u4f7f\u7528\u672c\u5730\u5185\u5b58\u3002 \u7ebf\u7a0b\u72ec\u5360\u90e8\u5206 PC\u8ba1\u6570\u5668 \uff1a\u6539\u53d8\u8ba1\u6570\u5668\u7684\u503c\u9009\u53d6\u4e0b\u4e00\u6761\u9700\u8981\u6267\u884c\u7684\u5b57\u8282\u7801\u65b9\u6cd5\u3002\u548c\u7ebf\u7a0b1\u5bf91 java\u865a\u62df\u673a\u6808 \uff1ajava\u65b9\u6cd5\u6267\u884c\u7684\u5185\u5b58\u6a21\u578b;\u5305\u542b\u591a\u4e2a\u6808\u5e27\u3002\u6267\u884c\u4e00\u4e2a\u65b9\u6cd5\u4ea7\u751f\u4e00\u4e2a\u6808\u5e27\u3002 \u7ebf\u7a0b\u5171\u4eab\u90e8\u5206 \u5143\u7a7a\u95f4(metaSpace)\u548c\u6c38\u4e45\u4ee3(permGen):\u5143\u7a7a\u95f4\u4f7f\u7528\u7684\u662f\u672c\u5730\u5185\u5b58\uff0c\u6c38\u4e45\u4ee3\u4f7f\u7528\u7684JVM\u5185\u5b58\u3002 \u5143\u7a7a\u95f4(metaSpace)\u548cpermGen\u7684\u4f18\u52bf\u3002 \u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u5b58\u50a8\u5728\u6c38\u4e45\u4ee3\u4e2d\uff0c\u5bb9\u6613\u51fa\u73b0\u6027\u80fd\u95ee\u9898\u548c\u5185\u5b58\u6ea2\u51fa\u3002 \u7c7b\u548c\u65b9\u6cd5\u4fe1\u606f\u5927\u5c0f\u96be\u4e8e\u786e\u5b9a\uff0c\u7ed9\u6c38\u4e45\u4ee3\u7684\u5927\u5c0f\u6307\u5b9a\u5e26\u6765\u56f0\u96be\u3002 *\u6c38\u4e45\u4ee3\u4f1a\u4e3aGC\u5e26\u6765\u4e0d\u5fc5\u8981\u7684\u590d\u6742\u6027\u3002 java\u5806 \u5bf9\u8c61\u5b9e\u4f8b\u7684\u5206\u914d\u533a\u57df\u3002 GC\u7ba1\u7406\u7684\u4e3b\u8981\u533a\u57df java\u5185\u5b58\u6a21\u578b\u5e38\u8003\u9898 JVM\u4e09\u5927\u6027\u80fd\u8c03\u4f18\u53c2\u6570-Xms -Xmx -Xss -XSS:\u89c4\u5b9a\u7ebf\u7a0b\u6bcf\u4e2a\u865a\u62df\u673a\u6808\u7684\u5927\u5c0f\u3002 -Xms:\u5806\u5927\u5c0f\u7684\u521d\u59cb\u503c\u3002 -Xmx:\u5806\u80fd\u8fbe\u5230\u6700\u5927\u503c\u3002 \u5982\u679c\u5806\u5927\u5c0f\u4e0d\u591f\u65f6\uff0c\u5806\u4f1a\u81ea\u52a8\u6269\u5bb9\u4e3aXmx\u8bbe\u7f6e\u7684\u503c\u3002\u4e00\u822c\u5c06Xmx\u548cXms\u4e00\u6837\u5927\u3002\u5806\u592a\u5c0f\u4f1a\u53d1\u751f\u5185\u5b58\u6296\u52a8(\u4e0d\u65adnew\u5bf9\u8c61\u65f6\uff0c\u5185\u5b58\u9891\u7e41\u5730\u5206\u914d\u548c\u56de\u6536\uff0c\u800c\u9891\u7e41\u7684gc\u4f1a\u5bfc\u81f4\u5361\u987f) \u5806\u548c\u6808\u7684\u533a\u522b \u5185\u5b58\u975e\u914d\u7b56\u7565 \u9759\u6001\u5b58\u50a8 \uff1a\u7f16\u8bd1\u65f6\u786e\u5b9a\u6bcf\u4e2a\u6570\u636e\u76ee\u6807\u5728\u8fd0\u884c\u65f6\u7684\u5b58\u50a8\u7a7a\u95f4\u9700\u6c42\u3002(\u7f16\u8bd1\u5373\u786e\u5b9a) \u6808\u5f0f\u5b58\u50a8 :\u6570\u636e\u533a\u9700\u6c42\u5728\u7f16\u8bd1\u65f6\u672a\u77e5\uff0c\u8fd0\u884c\u65f6\u6a21\u5757\u5165\u53e3\u524d\u786e\u5b9a\u3002 * \u5806\u5f0f\u5b58\u50a8 :\u7f16\u8bd1\u65f6\u548c\u8fd0\u884c\u65f6\u6a21\u5757\u5165\u53e3\u90fd\u65e0\u6cd5\u786e\u5b9a\uff0c\u52a8\u6001\u5206\u914d\u3002 \u5806\u548c\u6808\u7684\u8054\u7cfb\u3002 \u8054\u7cfb\uff1a\u5f15\u7528\u5bf9\u8c61\uff0c\u6570\u7ec4\u65f6\uff0c\u6808\u91cc\u5b9a\u4e49\u53d8\u91cf\u4fdd\u5b58\u5806\u4e2d\u76ee\u6807\u7684\u9996\u5730\u5740\u3002 \u533a\u522b \u7ba1\u7406\u65b9\u5f0f :\u6808\u4e0d\u9700\u8981GC\uff0c\u5806\u9700\u8981GC\u3002 \u7a7a\u95f4\u5927\u5c0f :\u6808\u6bd4\u5806\u5c0f\u3002 \u788e\u7247\u76f8\u5173 :\u6808\u4ea7\u751f\u7684\u788e\u7247\u8fdc\u5c0f\u4e8e\u5806\u3002 \u5206\u914d\u65b9\u5f0f :\u6808\u652f\u6301\u9759\u6001\u548c\u52a8\u6001\u5206\u914d\uff0c\u5806\u53ea\u652f\u6301\u52a8\u6001\u5206\u914d\u3002 * \u6548\u7387 :\u6808\u7684\u6548\u7387\u6bd4\u5806\u9ad8\u3002 \u4e0d\u540cJDK\u7248\u672c\u4e0bString\u7684intern\u65b9\u6cd5\u533a\u522b(JDK6\u548cJDK6+)","title":"jVM"},{"location":"JVM/#_1","text":"\u539f\u7406: JAVA\u6e90\u7801\u9996\u5148\u4f1a\u88ab\u7f16\u8bd1\u6210\u5b57\u8282\u7801\uff0c\u518d\u6709\u4e0d\u540c\u5e73\u53f0\u7684JVM\u8fdb\u884c\u89e3\u6790\u5c06\u5b57\u8282\u7801\u8f6c\u6362\u4e3a\u76f8\u5e94\u5e73\u53f0\u7684\u673a\u5668\u6307\u4ee4\u3002","title":"\u5e73\u53f0\u65e0\u5173\u5982\u4f55\u5b9e\u73b0\u3002"},{"location":"JVM/#javap","text":"javap -c myJava \u8be5\u6307\u4ee4\u53ef\u628ajava\u5b57\u8282\u7801\u6587\u4ef6\u53cd\u7f16\u8bd1\u6c47\u7f16\u3002","title":"\u5982\u4f55\u67e5\u770b\u5b57\u8282\u7801\uff08javap \u547d\u4ee4\u53cd\u7f16\u8bd1\uff09"},{"location":"JVM/#_2","text":"\u7701\u53bb\u51c6\u5907\u5de5\u4f5c\uff1a\u56e0\u4e3a\u7f16\u8bd1\u6210\u673a\u5668\u7801\uff0c\u6bcf\u6b21\u6267\u884c\u65f6\u90fd\u8981\u8fdb\u884c\u8bed\u6cd5\uff0c\u8bed\u4e49\u7684\u68c0\u67e5\uff0c\u8fd9\u4e9b\u5de5\u4f5c\u4e0d\u4f1a\u88ab\u4fdd\u7559\u4e0b\u6765\uff0c\u56e0\u6b64\u5f15\u5165\u4e2d\u95f4\u5b57\u8282\u7801\uff0c\u7701\u53bb\u8fd9\u4e9b\u68c0\u67e5\u5de5\u4f5c\u3002 \u517c\u5bb9\u6027\uff0c\u4e5f\u53ef\u4ee5\u5c06\u522b\u7684\u8bed\u8a00\u89e3\u6790\u6210\u5b57\u8282\u7801\u5982Scala\uff0cGroovy\uff0cXtend\u7b49\u3002","title":"\u4e3a\u4ec0\u4e48\u4e0d\u628a\u6e90\u7801\u76f4\u63a5\u7f16\u8bd1\u6210\u673a\u5668\u7801\u3002"},{"location":"JVM/#jvm","text":"JVM\u67b6\u6784\u5927\u81f4\u5206\u4e3a4\u90e8\u5206\uff1a ClassLoader :\u4f9d\u636e\u7279\u5b9a\u683c\u5f0f\u52a0\u8f7dclass\u6587\u4ef6\u5230\u5185\u5b58\u3002 Excution Engine :\u5bf9\u547d\u4ee4\u8fdb\u884c\u89e3\u6790\u3002 Native Interface \uff1a\u878d\u5408\u4e0d\u540c\u7684\u5f00\u53d1\u8bed\u8a00\u7684\u539f\u751f\u5e93\u4e3ajava\u6240\u7528\u3002 java\u8fd0\u884c\u65f6\u6570\u636e\u533a\u57df \uff1aJVM\u7684\u5185\u5b58\u7a7a\u95f4\u7ed3\u6784\u6a21\u578b\u3002","title":"JVM\u7684\u67b6\u6784"},{"location":"JVM/#_3","text":"Java\u53cd\u5c04\u8bf4\u7684\u662f\u5728\u8fd0\u884c\u72b6\u6001\u4e2d\uff0c\u5bf9\u4e8e\u4efb\u4f55\u4e00\u4e2a\u7c7b\uff0c\u6211\u4eec\u90fd\u80fd\u591f\u77e5\u9053\u8fd9\u4e2a\u7c7b\u6709\u54ea\u4e9b\u65b9\u6cd5\u548c\u5c5e\u6027\u3002\u5bf9\u4e8e\u4efb\u4f55\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6211\u4eec\u90fd\u80fd\u591f\u5bf9\u5b83\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\u8fdb\u884c\u8c03\u7528\u3002\u6211\u4eec\u628a\u8fd9\u79cd\u52a8\u6001\u83b7\u53d6\u5bf9\u8c61\u4fe1\u606f\u548c\u8c03\u7528\u5bf9\u8c61\u65b9\u6cd5\u7684\u529f\u80fd\u79f0\u4e4b\u4e3a\u53cd\u5c04\u673a\u5236\u3002","title":"\u4ec0\u4e48\u662f\u53cd\u5c04"},{"location":"JVM/#_4","text":"*\u901a\u8fc7\u5bf9\u8c61\u8c03\u7528 getClass() Person p1 = new Person(); Class c1 = p1.getClass(); *\u76f4\u63a5\u901a\u8fc7 \u7c7b\u540d.class \u7684\u65b9\u5f0f\u5f97\u5230,\u8be5\u65b9\u6cd5\u6700\u4e3a\u5b89\u5168\u53ef\u9760\uff0c\u7a0b\u5e8f\u6027\u80fd\u66f4\u9ad8 \u8fd9\u8bf4\u660e\u4efb\u4f55\u4e00\u4e2a\u7c7b\u90fd\u6709\u4e00\u4e2a\u9690\u542b\u7684\u9759\u6001\u6210\u5458\u53d8\u91cf class Class c1 = Person.class; *\u901a\u8fc7 Class \u5bf9\u8c61\u7684 forName() \u9759\u6001\u65b9\u6cd5\u6765\u83b7\u53d6\uff0c\u7528\u7684\u6700\u591a\uff0c \u4f46\u53ef\u80fd\u629b\u51fa ClassNotFoundException \u5f02\u5e38 Class c3 = Class.forName(\"com.reflex.Person\"); \u5199\u4e00\u4e2a\u53cd\u5c04\u7684\u4f8b\u5b50 //1\u3001\u83b7\u53d6Class\u5bf9\u8c61 Class<?> c = Class.forName(\"com.reflex.Person\"); //2\u3001\u4f7f\u7528Class\u5bf9\u8c61\u521b\u5efa\u8be5\u7c7b\u5bf9\u8c61\uff1a Object obj = c.newInstance();","title":"\u53cd\u5c04\u7684\u4e09\u79cd\u65b9\u5f0f"},{"location":"JVM/#classloder","text":"\u7c7b\u4ece\u7f16\u8bd1\u5230\u6267\u884c\u7684\u8fc7\u7a0b\uff1a 1. \u7f16\u8bd1\u5668\u5c06Person.java\u6587\u4ef6\u7f16\u8bd1\u6210\u5b57\u8282\u7801Person.class\u3002 2. ClassLoader \u5c06\u5b57\u8282\u7801\u6587\u4ef6\u8f6c\u6362\u6210JVM\u4e2d\u7684Class \u5bf9\u8c61\u3002 *3. JVM\u5229\u7528Class \u5bf9\u8c61\u5b9e\u4f8b\u5316Person\u5bf9\u8c61\u3002 \u7c7b\u52a0\u8f7d\u5668\uff0c\u5177\u4f53\u4f5c\u7528\u5c31\u662f\u5c06.class\u6587\u4ef6\u52a0\u8f7d\u5230JVM\u865a\u62df\u673a\u4e2d\u53bb\uff0c\u7a0b\u5e8f\u5c31\u53ef\u4ee5\u6b63\u786e\u8fd0\u884c\u4e86.\u7b2c\u4e00\u4e2a\u9636\u6bb5\u3002","title":"classLoder"},{"location":"JVM/#_5","text":"1.\u5b9e\u4f8b\u901a\u8fc7\u4f7f\u7528new()\u5173\u952e\u5b57\u521b\u5efa\u6216\u8005\u4f7f\u7528class.forName\u53cd\u5c04\uff0c\u4f46\u5b83\u6709\u53ef\u80fd\u5bfc\u81f4\u53cd\u5c04\uff0c\u4f46\u5b83\u6709\u53ef\u80fd\u5bfc\u81f4ClassNotFoundException\u3002 2.\u7c7b\u7684\u9759\u6001\u65b9\u6cd5\u88ab\u8c03\u7528 3.\u7c7b\u7684\u9759\u6001\u57df\u88ab\u8d4b\u503c 4.\u9759\u6001\u57df\u88ab\u8bbf\u95ee\uff0c\u800c\u4e14\u5b83\u4e0d\u662f\u5e38\u91cf","title":"\u4ec0\u4e48\u65f6\u5019\u5f00\u59cb\u9700\u8981\u7c7b\u52a0\u8f7d"},{"location":"JVM/#classloader","text":"BootStrapClassLoader :C++\u7f16\u5199\uff0c\u52a0\u8f7d\u6838\u5fc3\u5e93java.; ExtClassLoader :java\u7f16\u5199\uff0c\u52a0\u8f7d\u6269\u5c55\u5e93javax. ; AppClassLoader :java\u7f16\u5199\uff0c\u52a0\u8f7d\u7a0b\u5e8f\u6240\u5728\u76ee\u5f55;","title":"ClassLoader\u7684\u4e09\u79cd\u7c7b\u578b\u3002"},{"location":"JVM/#classloader_1","text":"(1)\u7ee7\u627fClassLoader\u7c7b\u3002(2)\u91cd\u5199fiandClass()\u65b9\u6cd5\u3002(3)\u8c03\u7528defineClass()\u65b9\u6cd5\uff0cdefineClass\u65b9\u6cd5\u5c06\u5b57\u8282\u7801\u8f6c\u5316\u4e3a\u7c7b\u3002 protected synchronized Class<?> loadClass(String name, boolean resolve) throws ClassNotFoundException { // First, check if the class has already been loaded Class c = findLoadedClass(name); //\u6ca1\u6709\u88ab\u52a0\u8f7d if (c == null) { try { //\u53bb\u7236\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d if (parent != null) { c = parent.loadClass(name, false); } else { //\u5982\u679c\u7236\u7c7b\u4e3a\u662fnull\u5373(Bootstrap ClassLoader) c = findBootstrapClass0(name); } //\u90fd\u6ca1\u627e\u5230,findClass()\u7528\u6237\u81ea\u5b9a\u4e49\u5b9e\u73b0,\u9ed8\u8ba4\u6ca1\u6709\u5b9e\u73b0 } catch (ClassNotFoundException e) { // If still not found, then invoke findClass in order // to find the class. c = findClass(name); } } if (resolve) { resolveClass(c); } return c; }","title":"\u7f16\u5199\u4e00\u4e2aclassLoader"},{"location":"JVM/#_6","text":"\u5f53JVM\u8981\u52a0\u8f7dPerson.class\u65f6 (1)\u9996\u5148\u4f1a\u53bb\u81ea\u5b9a\u4e49\u7c7b\u52a0\u8f7d\u4e2d\u67e5\u627e\u770b\u662f\u5426\u52a0\u8f7d\u8fc7\uff0c\u5982\u679c\u5df2\u7ecf\u52a0\u8f7d\u8fc7\uff0c\u5219\u8fd4\u56de\u5b57\u8282\u7801\u3002 (2)\u5982\u679c\u6ca1\u6709\uff0c\u5219\u53bb\u5b83\u7684\u7236\u7c7b\u52a0\u8f7d\u5668AppClassLoader\u67e5\u770b\u662f\u5426\u52a0\u8f7d\u3002\u4ee5\u6b64\u7c7b\u63a8\u3002 (3)\u5982\u679c\u9876\u5c42\u52a0\u8f7d\u5668BootStrapClassLoader\u4e5f\u672a\u52a0\u8f7d\u8fc7\uff0c\u5219\u5f00\u59cb\u52a0\u8f7d\uff0c\u6ca1\u627e\u5230\u5219\u5230\u5b83\u7684\u5b50\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\u3002 (4)\u6700\u540e\u5728\u81ea\u5b9a\u4e49\u7c7b\u52a0\u8f7d\u5668\u4e2d\u90fd\u672a\u52a0\u8f7d\uff0c\u90a3\u4e48\u5c31\u629b\u51faClassNotFoundException()","title":"\u53cc\u4eb2\u59d4\u6d3e\u673a\u5236\u662f\u4ec0\u4e48\uff0c\u4f5c\u7528"},{"location":"JVM/#_7","text":"jvm\u5982\u4f55\u8ba4\u5b9a\u4e24\u4e2a\u5bf9\u8c61\u540c\u5c5e\u4e8e\u4e00\u4e2a\u7c7b\u578b\uff0c\u5fc5\u987b\u540c\u65f6\u6ee1\u8db3\u4e0b\u9762\u4e24\u4e2a\u6761\u4ef6\uff1a \u90fd\u662f\u7528\u540c\u540d\u7684\u7c7b\u5b8c\u6210\u5b9e\u4f8b\u5316\u7684\u3002 \u4e24\u4e2a\u5b9e\u4f8b\u5404\u81ea\u5bf9\u5e94\u7684\u540c\u540d\u7684\u7c7b\u7684\u52a0\u8f7d\u5668\u5fc5\u987b\u662f\u540c\u4e00\u4e2a\u3002\u6bd4\u5982\u4e24\u4e2a\u76f8\u540c\u540d\u5b57\u7684\u7c7b\uff0c\u4e00\u4e2a\u662f\u7528\u7cfb\u7edf\u52a0\u8f7d\u5668\u52a0\u8f7d\u7684\uff0c\u4e00\u4e2a\u6269\u5c55\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\u7684\uff0c\u4e24\u4e2a\u7c7b\u751f\u6210\u7684\u5bf9\u8c61\u5c06\u88abjvm\u8ba4\u5b9a\u4e3a\u4e0d\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\u3002 1.\u9632\u6b62\u5185\u5b58\u4e2d\u51fa\u73b0\u591a\u4efd\u540c\u6837\u7684\u5b57\u8282\u7801 2.\u4e3a\u4e86\u7cfb\u7edf\u7c7b\u7684\u5b89\u5168\uff0c\u7c7b\u4f3c\u201c java.lang.Object\u201d\u8fd9\u79cd\u6838\u5fc3\u7c7b\uff0cjvm\u9700\u8981\u4fdd\u8bc1\u4ed6\u4eec\u751f\u6210\u7684\u5bf9\u8c61\u90fd\u4f1a\u88ab\u8ba4\u5b9a\u4e3a\u540c\u4e00\u79cd\u7c7b\u578b\u3002\u5373\u201c\u901a\u8fc7\u4ee3\u7406\u6a21\u5f0f\uff0c\u5bf9\u4e8e Java \u6838\u5fc3\u5e93\u7684\u7c7b\u7684\u52a0\u8f7d\u5de5\u4f5c\u7531\u5f15\u5bfc\u7c7b\u52a0\u8f7d\u5668\u6765\u7edf\u4e00\u5b8c\u6210\uff0c\u4fdd\u8bc1\u4e86 Java \u5e94\u7528\u6240\u4f7f\u7528\u7684\u90fd\u662f\u540c\u4e00\u4e2a\u7248\u672c\u7684 Java \u6838\u5fc3\u5e93\u7684\u7c7b\uff0c\u662f\u4e92\u76f8\u517c\u5bb9\u7684\u3002 \u5982\u679c\u81ea\u5df1\u5199\u4e00\u4e2ajava.lang.Object\uff0c\u56e0\u4e3a\u53cc\u4eb2\u59d4\u6d3e\u673a\u5236\uff0cJVM\u53ea\u4f1a\u52a0\u8f7d\u7cfb\u7edf\u7684java.lang.Object\u800c\u4e0d\u4f1a\u52a0\u8f7d\u81ea\u5df1\u5b9a\u4e49\u7684\u3002","title":"\u4f5c\u7528"},{"location":"JVM/#_8","text":"\u7b2c\u4e00\u6b21 \uff1a\u91cd\u5199loadClass(),\u7834\u574f\u53cc\u4eb2\u59d4\u6258 \u7b2c\u4e8c\u6b21 \uff1a\u52a0\u8f7dJDBC\u9a71\u52a8\u5668\u65f6 \u6839\u636e\u7c7b\u52a0\u8f7d\u673a\u5236\uff0c\u82e5A\u7c7b\u8c03\u7528B\u7c7b\uff0c\u5219B\u7c7b\u7531A\u7c7b\u7684\u52a0\u8f7d\u5668\u52a0\u8f7d DBC\u4e4b\u6240\u4ee5\u8981\u7834\u574f\u53cc\u4eb2\u59d4\u6d3e\u6a21\u5f0f\u662f\u56e0\u4e3a\uff0cJDBC\u7684\u6838\u5fc3\u5728rt.jar\u4e2d\u7531\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\uff0c\u800c\u5176\u5b9e\u73b0\u5219\u5728\u5404\u5382\u5546\u5b9e\u73b0\u7684\u7684jar\u5305\u4e2d\uff0c\u6839\u636e\u7c7b\u52a0\u8f7d\u673a\u5236\uff0c\u82e5A\u7c7b\u8c03\u7528B\u7c7b\uff0c\u5219B\u7c7b\u7531A\u7c7b\u7684\u52a0\u8f7d\u5668\u52a0\u8f7d\uff0c\u4e5f\u5c31\u662f\u8bf4\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668\u8981\u52a0\u8f7djar\u5305\u4e0b\u7684\u7c7b\uff0c\u6211\u4eec\u90fd\u77e5\u9053\u8fd9\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668\u8d1f\u8d23\u52a0\u8f7d $JAVA_HOME\u4e2djre/lib/rt.jar \u91cc\u6240\u6709\u7684class\uff0c\u90a3\u4e48JDBC\u662f\u5982\u4f55\u52a0\u8f7d\u8fd9\u4e9bDriver\u5b9e\u73b0\u7c7b\u7684\uff1f \u901a\u8fc7 Thread.currentThread().getContextClassLoader() >\u5f97\u5230\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u52a0\u8f7d\u5668\u6765\u52a0\u8f7dDriver\u5b9e\u73b0\u7c7b\u3002","title":"\u7834\u574f\u53cc\u4eb2\u59d4\u6258\u673a\u5236"},{"location":"JVM/#loadclassclassforname","text":"\u7c7b\u7684\u52a0\u8f7d\u8fc7\u7a0b\uff1a \uff01 \u7c7b\u52a0\u8f7d\u8fc7\u7a0b","title":"loadClass()\u548cClass.forName()\u7684\u533a\u522b"},{"location":"JVM/#java","text":"JDK8\u7684\u5185\u5b58\u6a21\u578b: \u7ebf\u7a0b\u79c1\u6709 \uff1a\u7a0b\u5e8f\u8ba1\u6570\u5668\uff0c\u865a\u62df\u673a\u6808\uff0c\u672c\u5730\u65b9\u6cd5\u6808 \u7ebf\u7a0b\u5171\u4eab \uff1a(MetaSpace)\u5143\u7a7a\u95f4,Java\u5806 JDK8\u5bf9JVM\u67b6\u6784\u7684\u6539\u9020\u5c06\u7c7b\u5143\u6570\u636e\u653e\u5230\u672c\u5730\u5185\u5b58\u4e2d\uff0c\u53e6\u5916\uff0c\u5c06\u5e38\u91cf\u6c60\u548c\u9759\u6001\u53d8\u91cf\u653e\u5230Java\u5806\u91cc.\u5143\u7a7a\u95f4\u7684\u672c\u8d28\u548c\u6c38\u4e45\u4ee3\u7c7b\u4f3c\uff0c\u90fd\u662f\u5bf9JVM\u89c4\u8303\u4e2d\u65b9\u6cd5\u533a\u7684\u5b9e\u73b0\u3002\u4e0d\u8fc7\u5143\u7a7a\u95f4\u4e0e\u6c38\u4e45\u4ee3\u4e4b\u95f4\u7684\u6700\u5927\u533a\u522b\u5728\u4e8e\uff1a\u5143\u7a7a\u95f4\u5e76\u4e0d\u5728\u865a\u62df\u673a\u4e2d\uff0c\u800c\u662f\u4f7f\u7528\u672c\u5730\u5185\u5b58\u3002","title":"java\u7684\u5185\u5b58\u6a21\u578b"},{"location":"JVM/#_9","text":"PC\u8ba1\u6570\u5668 \uff1a\u6539\u53d8\u8ba1\u6570\u5668\u7684\u503c\u9009\u53d6\u4e0b\u4e00\u6761\u9700\u8981\u6267\u884c\u7684\u5b57\u8282\u7801\u65b9\u6cd5\u3002\u548c\u7ebf\u7a0b1\u5bf91 java\u865a\u62df\u673a\u6808 \uff1ajava\u65b9\u6cd5\u6267\u884c\u7684\u5185\u5b58\u6a21\u578b;\u5305\u542b\u591a\u4e2a\u6808\u5e27\u3002\u6267\u884c\u4e00\u4e2a\u65b9\u6cd5\u4ea7\u751f\u4e00\u4e2a\u6808\u5e27\u3002","title":"\u7ebf\u7a0b\u72ec\u5360\u90e8\u5206"},{"location":"JVM/#_10","text":"","title":"\u7ebf\u7a0b\u5171\u4eab\u90e8\u5206"},{"location":"JVM/#metaspacepermgenjvm","text":"\u5143\u7a7a\u95f4(metaSpace)\u548cpermGen\u7684\u4f18\u52bf\u3002 \u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u5b58\u50a8\u5728\u6c38\u4e45\u4ee3\u4e2d\uff0c\u5bb9\u6613\u51fa\u73b0\u6027\u80fd\u95ee\u9898\u548c\u5185\u5b58\u6ea2\u51fa\u3002 \u7c7b\u548c\u65b9\u6cd5\u4fe1\u606f\u5927\u5c0f\u96be\u4e8e\u786e\u5b9a\uff0c\u7ed9\u6c38\u4e45\u4ee3\u7684\u5927\u5c0f\u6307\u5b9a\u5e26\u6765\u56f0\u96be\u3002 *\u6c38\u4e45\u4ee3\u4f1a\u4e3aGC\u5e26\u6765\u4e0d\u5fc5\u8981\u7684\u590d\u6742\u6027\u3002 java\u5806 \u5bf9\u8c61\u5b9e\u4f8b\u7684\u5206\u914d\u533a\u57df\u3002 GC\u7ba1\u7406\u7684\u4e3b\u8981\u533a\u57df","title":"\u5143\u7a7a\u95f4(metaSpace)\u548c\u6c38\u4e45\u4ee3(permGen):\u5143\u7a7a\u95f4\u4f7f\u7528\u7684\u662f\u672c\u5730\u5185\u5b58\uff0c\u6c38\u4e45\u4ee3\u4f7f\u7528\u7684JVM\u5185\u5b58\u3002"},{"location":"JVM/#java_1","text":"","title":"java\u5185\u5b58\u6a21\u578b\u5e38\u8003\u9898"},{"location":"JVM/#jvm-xms-xmx-xss","text":"-XSS:\u89c4\u5b9a\u7ebf\u7a0b\u6bcf\u4e2a\u865a\u62df\u673a\u6808\u7684\u5927\u5c0f\u3002 -Xms:\u5806\u5927\u5c0f\u7684\u521d\u59cb\u503c\u3002 -Xmx:\u5806\u80fd\u8fbe\u5230\u6700\u5927\u503c\u3002 \u5982\u679c\u5806\u5927\u5c0f\u4e0d\u591f\u65f6\uff0c\u5806\u4f1a\u81ea\u52a8\u6269\u5bb9\u4e3aXmx\u8bbe\u7f6e\u7684\u503c\u3002\u4e00\u822c\u5c06Xmx\u548cXms\u4e00\u6837\u5927\u3002\u5806\u592a\u5c0f\u4f1a\u53d1\u751f\u5185\u5b58\u6296\u52a8(\u4e0d\u65adnew\u5bf9\u8c61\u65f6\uff0c\u5185\u5b58\u9891\u7e41\u5730\u5206\u914d\u548c\u56de\u6536\uff0c\u800c\u9891\u7e41\u7684gc\u4f1a\u5bfc\u81f4\u5361\u987f)","title":"JVM\u4e09\u5927\u6027\u80fd\u8c03\u4f18\u53c2\u6570-Xms  -Xmx  -Xss"},{"location":"JVM/#_11","text":"","title":"\u5806\u548c\u6808\u7684\u533a\u522b"},{"location":"JVM/#_12","text":"\u9759\u6001\u5b58\u50a8 \uff1a\u7f16\u8bd1\u65f6\u786e\u5b9a\u6bcf\u4e2a\u6570\u636e\u76ee\u6807\u5728\u8fd0\u884c\u65f6\u7684\u5b58\u50a8\u7a7a\u95f4\u9700\u6c42\u3002(\u7f16\u8bd1\u5373\u786e\u5b9a) \u6808\u5f0f\u5b58\u50a8 :\u6570\u636e\u533a\u9700\u6c42\u5728\u7f16\u8bd1\u65f6\u672a\u77e5\uff0c\u8fd0\u884c\u65f6\u6a21\u5757\u5165\u53e3\u524d\u786e\u5b9a\u3002 * \u5806\u5f0f\u5b58\u50a8 :\u7f16\u8bd1\u65f6\u548c\u8fd0\u884c\u65f6\u6a21\u5757\u5165\u53e3\u90fd\u65e0\u6cd5\u786e\u5b9a\uff0c\u52a8\u6001\u5206\u914d\u3002","title":"\u5185\u5b58\u975e\u914d\u7b56\u7565"},{"location":"JVM/#_13","text":"\u8054\u7cfb\uff1a\u5f15\u7528\u5bf9\u8c61\uff0c\u6570\u7ec4\u65f6\uff0c\u6808\u91cc\u5b9a\u4e49\u53d8\u91cf\u4fdd\u5b58\u5806\u4e2d\u76ee\u6807\u7684\u9996\u5730\u5740\u3002","title":"\u5806\u548c\u6808\u7684\u8054\u7cfb\u3002"},{"location":"JVM/#_14","text":"\u7ba1\u7406\u65b9\u5f0f :\u6808\u4e0d\u9700\u8981GC\uff0c\u5806\u9700\u8981GC\u3002 \u7a7a\u95f4\u5927\u5c0f :\u6808\u6bd4\u5806\u5c0f\u3002 \u788e\u7247\u76f8\u5173 :\u6808\u4ea7\u751f\u7684\u788e\u7247\u8fdc\u5c0f\u4e8e\u5806\u3002 \u5206\u914d\u65b9\u5f0f :\u6808\u652f\u6301\u9759\u6001\u548c\u52a8\u6001\u5206\u914d\uff0c\u5806\u53ea\u652f\u6301\u52a8\u6001\u5206\u914d\u3002 * \u6548\u7387 :\u6808\u7684\u6548\u7387\u6bd4\u5806\u9ad8\u3002","title":"\u533a\u522b"},{"location":"JVM/#jdkstringinternjdk6jdk6","text":"","title":"\u4e0d\u540cJDK\u7248\u672c\u4e0bString\u7684intern\u65b9\u6cd5\u533a\u522b(JDK6\u548cJDK6+)"},{"location":"TCP/","text":"Welcome to My-Note For full documentation visit mkdocs.org . Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs help - Print this help message. Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Welcome to My-Note"},{"location":"TCP/#welcome-to-my-note","text":"For full documentation visit mkdocs.org .","title":"Welcome to My-Note"},{"location":"TCP/#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs help - Print this help message.","title":"Commands"},{"location":"TCP/#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"Thread/","text":"\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u533a\u522b \u8fdb\u7a0b\u662f\u7cfb\u7edf\u8d44\u6e90\u5206\u914d\u7684\u57fa\u672c\u5355\u4f4d,\u7ebf\u7a0b\u662fCPU\u8c03\u5ea6\u548c\u5206\u6d3e\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u7ebf\u7a0b\u5c5e\u4e8e\u67d0\u4e2a\u8fdb\u7a0b\uff0c\u5171\u4eab\u5176\u8d44\u6e90\u3002 \u6240\u6709\u4e0e\u8fdb\u7a0b\u6709\u5173\u7684\u8d44\u6e90\u88ab\u8bb0\u5f55\u5728PCB\u4e2d\uff1b \u7ebf\u7a0b\u53ea\u7531\u5806\u6808\u5bc4\u5b58\u5668\u548c\uff0c\u7a0b\u5e8f\u8ba1\u6570\u5668\u548cTCB\u7ec4\u6210\u3002 \u533a\u522b \u7ebf\u7a0b\u4e0d\u80fd\u770b\u4f5c\u72ec\u7acb\u5e94\u7528\uff0c\u800c\u8fdb\u7a0b\u53ef\u770b\u505a\u72ec\u7acb\u8d44\u6e90\u3002 \u8fdb\u7a0b\u6709\u72ec\u7acb\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u76f8\u4e92\u4e0d\u5f71\u54cd\uff0c\u7ebf\u7a0b\u53ea\u662f\u8fdb\u7a0b\u7684\u4e0d\u540c\u6267\u884c\u8def\u5f84\u3002 \u7ebf\u7a0b\u6ca1\u6709\u72ec\u7acb\u7a7a\u95f4\uff0c\u591a\u8fdb\u7a0b\u7a0b\u5e8f\u6bd4\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u5065\u58ee\u3002 \u8fdb\u7a0b\u5207\u6362\u6bd4\u7ebf\u7a0b\u7684\u5207\u6362\u5f00\u9500\u5927\u3002 java\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u5173\u7cfb \u8fd0\u884c\u4e00\u4e2a\u7a0b\u5e8f\u4f1a\u4ea7\u751f\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u8fdb\u7a0b\u5305\u542b\u81f3\u5c11\u4e00\u4e2a\u7ebf\u7a0b \u6bcf\u4e2a\u8fdb\u7a0b\u5bf9\u5e94\u4e00\u4e2aJVM\u5b9e\u4f8b\uff0c\u591a\u4e2a\u7ebf\u7a0b\u5171\u4eabJVM\u5806 *java\u91c7\u7528\u5355\u7ebf\u7a0b\u7f16\u7a0b\u6a21\u578b\uff0c\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u521b\u5efa\u4e3b\u7ebf\u7a0b Thread\u7684run()\u548cstart()\u7684\u533a\u522b start\u65b9\u6cd5\u4f1a\u521b\u5efa\u4e00\u4e2a\u5b50\u7ebf\u7a0b\u5e76\u542f\u52a8\uff0c\u53bb\u6267\u884crun\u65b9\u6cd5\u3002 run()\u65b9\u6cd5\u53ea\u662fthread\u7684\u4e00\u4e2a\u666e\u901a\u65b9\u6cd5\uff0c\u8c03\u7528\u5b83\u4ecd\u7136\u5728\u5b50\u7ebf\u7a0b\u8fdb\u884c\u3002 Thread\u7c7b\u548cRunnabel\u7684\u5173\u7cfb Thread\u5b9e\u73b0\u4e86Runnable\u63a5\u53e3\u3002\u63a5\u53e3Runnable\u53ea\u6709\u4e00\u4e2arun\u65b9\u6cd5\u3002 *Runnable\u521b\u5efa\u7ebf\u7a0b public class RunableTest implements Runnable { //step1\uff1a\u5b9e\u73b0runable\u63a5\u53e3 @Override public void run() { System.out.println(\"\u7ebf\u7a0b\u6267\u884c\u4f53\"); } public static void main(String[] args) { //\u521b\u5efarunable\u63a5\u53e3\u5b9e\u73b0\u7c7b\u5bf9\u8c61 RunableTest runableTest = new RunableTest(); //\u521b\u5efaThread\u5bf9\u8c61\uff0c\u4f20\u5165runable\u63a5\u53e3\u5b9e\u73b0\u7c7b\u5bf9\u8c61 Thread thread = new Thread(runableTest); //\u542f\u52a8\u7ebf\u7a0b thread.start(); System.out.println(\"\u7ebf\u7a0b\u6b63\u5728\u542f\u52a8\"); for (int i = 0; i < 100; i++) { System.out.println(\"\u4e3b\u7ebf\u7a0b\u6267\u884c\u4f53\"); } } } \u5173\u7cfb\uff1a Thread\u7c7b\u5b9e\u73b0\u4e86Runnable\u63a5\u53e3\u7684\u7c7b\uff0c\u4f7f\u5f97run\u65b9\u6cd5\u652f\u6301\u591a\u7ebf\u7a0b\u3002 \u56e0\u4e3a\u7c7b\u7684\u5355\u4e00\u7ee7\u627f\u539f\u5219\uff0c\u63a8\u8350\u4f7f\u7528Runnable\u63a5\u53e3\u521b\u5efa\u7ebf\u7a0b\u3002 \u5982\u4f55\u7ed9run()\u65b9\u6cd5\u4f20\u53c2 \u5982\u4f55\u5904\u7406\u7ebf\u7a0b\u7684\u8fd4\u56de\u503c 1\u4e3b\u7ebf\u7a0b\u7b49\u5f85\u6cd5\uff08slee\u7b49\u5f85\u5b50\u7ebf\u7a0b\u5b8c\u6210\uff09\u3002 2\u4f7f\u7528\u4e3b\u7ebf\u7a0b\u7684join()\u65b9\u6cd5\u4ee5\u7b49\u5f85\u5b50\u7ebf\u7a0b\u5b8c\u6bd5\u3002 3.\u901a\u8fc7Callable\u63a5\u53e3\u5b9e\u73b0\uff1aFutureTask Or \u7ebf\u7a0b\u6c60\u53bb\u83b7\u53d6\u3002 import java.util.concurrent.Callable; import java.util.concurrent.ExecutionException; import java.util.concurrent.FutureTask; /* * \u4e00\u3001\u521b\u5efa\u6267\u884c\u7ebf\u7a0b\u7684\u65b9\u5f0f\u4e09\uff1a\u5b9e\u73b0 Callable \u63a5\u53e3\u3002 \u76f8\u8f83\u4e8e\u5b9e\u73b0 Runnable \u63a5\u53e3\u7684\u65b9\u5f0f\uff0c\u65b9\u6cd5\u53ef\u4ee5\u6709\u8fd4\u56de\u503c\uff0c\u5e76\u4e14\u53ef\u4ee5\u629b\u51fa\u5f02\u5e38\u3002 * * \u4e8c\u3001\u6267\u884c Callable \u65b9\u5f0f\uff0c\u9700\u8981 FutureTask \u5b9e\u73b0\u7c7b\u7684\u652f\u6301\uff0c\u7528\u4e8e\u63a5\u6536\u8fd0\u7b97\u7ed3\u679c\u3002 FutureTask \u662f Future \u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b */ public class TestCallable { public static void main(String[] args) { ThreadDemo td = new ThreadDemo(); //1.\u6267\u884c Callable \u65b9\u5f0f\uff0c\u9700\u8981 FutureTask \u5b9e\u73b0\u7c7b\u7684\u652f\u6301\uff0c\u7528\u4e8e\u63a5\u6536\u8fd0\u7b97\u7ed3\u679c\u3002 FutureTask<Integer> result = new FutureTask<>(td); new Thread(result).start(); //2.\u63a5\u6536\u7ebf\u7a0b\u8fd0\u7b97\u540e\u7684\u7ed3\u679c try { Integer sum = result.get(); //FutureTask \u53ef\u7528\u4e8e \u95ed\u9501 \u7c7b\u4f3c\u4e8eCountDownLatch\u7684\u4f5c\u7528\uff0c\u5728\u6240\u6709\u7684\u7ebf\u7a0b\u6ca1\u6709\u6267\u884c\u5b8c\u6210\u4e4b\u540e\u8fd9\u91cc\u662f\u4e0d\u4f1a\u6267\u884c\u7684 System.out.println(sum); System.out.println(\"------------------------------------\"); } catch (InterruptedException | ExecutionException e) { e.printStackTrace(); } } } class ThreadDemo implements Callable<Integer> { @Override public Integer call() throws Exception { int sum = 0; for (int i = 0; i <= 100000; i++) { sum += i; } return sum; } } *\u901a\u8fc7\u7ebf\u7a0b\u6c60\u8fd4\u56de\u7ed3\u679c public class Main { public static void main(String[] args) throws InterruptedException, ExecutionException { ExecutorService executor = Executors.newFixedThreadPool(2); //\u521b\u5efa\u4e00\u4e2aCallable1\uff0c5\u79d2\u540e\u8fd4\u56deString\u7c7b\u578b Callable myCallable = new Callable() { @Override public String call() throws Exception { Thread.sleep(5000); System.out.println(\"calld\u65b9\u6cd5\u6267\u884c\u4e86\"); return \"call\u65b9\u6cd5\u8fd4\u56de\u503c\"; } }; ////\u521b\u5efa\u4e00\u4e2aCallable2\uff0c5\u79d2\u540e\u8fd4\u56deString\u7c7b\u578b Callable myCallable2 = new Callable() { @Override public String call() throws Exception { Thread.sleep(3000); System.out.println(\"calld2\u65b9\u6cd5\u6267\u884c\u4e86\"); return \"call2\u65b9\u6cd5\u8fd4\u56de\u503c\"; } }; System.out.println(\"\u63d0\u4ea4\u4efb\u52a1\u4e4b\u524d \"+getStringDate()); Future future = executor.submit(myCallable); Future future2 = executor.submit(myCallable2); System.out.println(\"\u63d0\u4ea4\u4efb\u52a1\u4e4b\u540e \"+getStringDate()); System.out.println(\"\u5f00\u59cb\u83b7\u53d6\u7b2c\u4e00\u4e2a\u8fd4\u56de\u503c \"+getStringDate()); System.out.println(\"\u83b7\u53d6\u8fd4\u56de\u503c: \"+future.get()); System.out.println(\"\u83b7\u53d6\u7b2c\u4e00\u4e2a\u8fd4\u56de\u503c\u7ed3\u675f\uff0c\u5f00\u59cb\u83b7\u53d6\u7b2c\u4e8c\u4e2a\u8fd4\u56de\u503c \"+getStringDate()); System.out.println(\"\u83b7\u53d6\u8fd4\u56de\u503c2: \"+future2.get()); System.out.println(\"\u83b7\u53d6\u7b2c\u4e8c\u4e2a\u8fd4\u56de\u503c\u7ed3\u675f \"+getStringDate()); } public static String getStringDate() { Date currentTime = new Date(); SimpleDateFormat formatter = new SimpleDateFormat(\"HH:mm:ss\"); String dateString = formatter.format(currentTime); return dateString; } } \u8f93\u51fa\uff1a \u63d0\u4ea4\u4efb\u52a1\u4e4b\u524d 14:14:47 \u63d0\u4ea4\u4efb\u52a1\u4e4b\u540e 14:14:48 \u5f00\u59cb\u83b7\u53d6\u7b2c\u4e00\u4e2a\u8fd4\u56de\u503c 14:14:48 calld2\u65b9\u6cd5\u6267\u884c\u4e86 calld\u65b9\u6cd5\u6267\u884c\u4e86 \u83b7\u53d6\u8fd4\u56de\u503c: call\u65b9\u6cd5\u8fd4\u56de\u503c \u83b7\u53d6\u7b2c\u4e00\u4e2a\u8fd4\u56de\u503c\u7ed3\u675f\uff0c\u5f00\u59cb\u83b7\u53d6\u7b2c\u4e8c\u4e2a\u8fd4\u56de\u503c 14:14:53 \u83b7\u53d6\u8fd4\u56de\u503c2: call2\u65b9\u6cd5\u8fd4\u56de\u503c \u83b7\u53d6\u7b2c\u4e8c\u4e2a\u8fd4\u56de\u503c\u7ed3\u675f 14:14:53 \u7ebf\u7a0b\u7684\u72b6\u6001 6\u4e2a\u72b6\u6001 Thread.sleep()\u548cObject.wait()\u7684\u533a\u522b Thread.sleep()\u4f1a\u8ba9\u51faCPU,\u4f46\u4e0d\u4f1a\u91ca\u653e\u9501\u3002 Object.wait()\u4e0d\u4ec5\u4f1a\u8ba9\u51faCPU,\u800c\u4e14\u8fd8\u4f1a\u91ca\u653e\u5360\u7528\u540c\u6b65\u8d44\u6e90\u7684\u9501\u3002 notify()\u548cnotifyAll()\u533a\u522b \u4e24\u4e2a\u6982\u5ff5\uff1a\u9501\u6c60\uff0c\u7b49\u5f85\u6c60\u3002 \u9501\u6c60\uff1a\u5047\u8bbe\u7ebf\u7a0bA\u5df2\u7ecf\u62e5\u6709\u5bf9\u8c61\u9501\uff0c\u7ebf\u7a0bB\u3001C\u60f3\u8981\u83b7\u53d6\u9501\u5c31\u4f1a\u88ab\u963b\u585e\uff0c\u8fdb\u5165\u4e00\u4e2a\u5730\u65b9\u53bb\u7b49\u5f85\u9501\u7684\u7b49\u5f85\uff0c\u8fd9\u4e2a\u5730\u65b9\u5c31\u662f\u8be5\u5bf9\u8c61\u7684\u9501\u6c60\uff1b \u7b49\u5f85\u6c60\uff1a\u5047\u8bbe\u7ebf\u7a0bA\u8c03\u7528\u67d0\u4e2a\u5bf9\u8c61\u7684wait\u65b9\u6cd5\uff0c\u7ebf\u7a0bA\u5c31\u4f1a\u91ca\u653e\u8be5\u5bf9\u8c61\u9501\uff0c\u540c\u65f6\u7ebf\u7a0bA\u8fdb\u5165\u8be5\u5bf9\u8c61\u7684\u7b49\u5f85\u6c60\u4e2d\uff0c\u8fdb\u5165\u7b49\u5f85\u6c60\u4e2d\u7684\u7ebf\u7a0b\u4e0d\u4f1a\u53bb\u7ade\u4e89\u8be5\u5bf9\u8c61\u7684\u9501\u3002 *1\u3001notify\u53ea\u4f1a\u968f\u673a\u9009\u53d6\u4e00\u4e2a\u5904\u4e8e\u7b49\u5f85\u6c60\u4e2d\u7684\u7ebf\u7a0b\u8fdb\u5165\u9501\u6c60\u53bb\u7ade\u4e89\u83b7\u53d6\u9501\u7684\u673a\u4f1a\uff1b *2\u3001notifyAll\u4f1a\u8ba9\u6240\u6709\u5904\u4e8e\u7b49\u5f85\u6c60\u7684\u7ebf\u7a0b\u5168\u90e8\u8fdb\u5165\u9501\u6c60\u53bb\u7ade\u4e89\u83b7\u53d6\u9501\u7684\u673a\u4f1a\uff1b yield\u7684\u51fd\u6570 yield\u5f53\u8c03\u7528Thread.yield()\u51fd\u6570\u7684\u65f6\u5019\uff0c\u56de\u7ed9\u7ebf\u7a0b\u8c03\u5ea6\u5668\u4e00\u4e2a\u5f53\u524d\u7ebf\u7a0b\u613f\u610f\u8ba9\u51faCPU\u7684\u4f7f\u7528\u7684\u6697\u793a\uff0c\u4f46\u662f\u7ebf\u7a0b\u8c03\u5ea6\u5668\u53ef\u80fd\u4f1a\u5ffd\u7565\u8fd9\u4e2a\u6697\u793a\u3002\u5bf9\u9501\u7684\u884c\u4e3a\u65e0\u5f71\u54cd\u3002 \u5982\u4f55\u4e2d\u65ad\u7ebf\u7a0b \u5df2\u88ab\u629b\u5f03\u7684\u65b9\u6cd5\u901a\u8fc7\u8c03\u7528Stop\u65b9\u6cd5\u3002 \u8c03\u7528Interrupt()\u65b9\u6cd5\u3002\u901a\u77e5\u7ebf\u7a0b \u8be5\u4e2d\u65ad\u4e86\u3002 1\u5982\u679c\u7ebf\u7a0b\u5904\u4e8e\u963b\u585e\u72b6\u6001\uff0c\u90a3\u4e48\u7ebf\u7a0b\u5c06\u7acb\u5373\u9000\u51fa\u963b\u585e\u72b6\u6001\uff0c\u5e76\u629b\u51fa\u4e00\u4e2aInterruptedException\u5f02\u5e38\u3002 2\u5982\u679c\u7ebf\u7a0b\u5904\u4e8e\u6b63\u5e38\u6d3b\u52a8\uff0c\u90a3\u4e48\u4f1a\u5c06\u8be5\u7ebf\u7a0b\u7684\u4e2d\u65ad\u6807\u5fd7\u4f4d\u8bbe\u4e3aTrue.\u7ebf\u7a0b\u5c06\u7ee7\u7eed\u6b63\u5e38\u8fd0\u884c\uff0c\u4e0d\u53d7\u5f71\u54cd\u3002\u56e0\u6b64\u9700\u8981\u8c03\u7528\u7ebf\u7a0b\u914d\u5408\u4e2d\u65ad\u3002(1)\u5728\u6b63\u5e38\u8fd0\u884c\u4efb\u52a1\u65f6\uff0c\u7ecf\u5e38\u68c0\u67e5\u672c\u7ebf\u7a0b\u7684\u4e2d\u65ad\u6807\u5fd7\u4f4d\uff0c\u5982\u679c\u88ab\u8bbe\u7f6e\u4e86\u4e2d\u65ad\u6807\u5fd7\u4f4d\u5c31\u81ea\u884c\u505c\u6b62\u7ebf\u7a0b\u3002 \u7ebf\u7a0b\u95f4\u72b6\u6001\u8f6c\u6362\u56fe","title":"\u591a\u7ebf\u7a0b"},{"location":"Thread/#threadrunstart","text":"start\u65b9\u6cd5\u4f1a\u521b\u5efa\u4e00\u4e2a\u5b50\u7ebf\u7a0b\u5e76\u542f\u52a8\uff0c\u53bb\u6267\u884crun\u65b9\u6cd5\u3002 run()\u65b9\u6cd5\u53ea\u662fthread\u7684\u4e00\u4e2a\u666e\u901a\u65b9\u6cd5\uff0c\u8c03\u7528\u5b83\u4ecd\u7136\u5728\u5b50\u7ebf\u7a0b\u8fdb\u884c\u3002","title":"Thread\u7684run()\u548cstart()\u7684\u533a\u522b"},{"location":"Thread/#threadrunnabel","text":"Thread\u5b9e\u73b0\u4e86Runnable\u63a5\u53e3\u3002\u63a5\u53e3Runnable\u53ea\u6709\u4e00\u4e2arun\u65b9\u6cd5\u3002 *Runnable\u521b\u5efa\u7ebf\u7a0b public class RunableTest implements Runnable { //step1\uff1a\u5b9e\u73b0runable\u63a5\u53e3 @Override public void run() { System.out.println(\"\u7ebf\u7a0b\u6267\u884c\u4f53\"); } public static void main(String[] args) { //\u521b\u5efarunable\u63a5\u53e3\u5b9e\u73b0\u7c7b\u5bf9\u8c61 RunableTest runableTest = new RunableTest(); //\u521b\u5efaThread\u5bf9\u8c61\uff0c\u4f20\u5165runable\u63a5\u53e3\u5b9e\u73b0\u7c7b\u5bf9\u8c61 Thread thread = new Thread(runableTest); //\u542f\u52a8\u7ebf\u7a0b thread.start(); System.out.println(\"\u7ebf\u7a0b\u6b63\u5728\u542f\u52a8\"); for (int i = 0; i < 100; i++) { System.out.println(\"\u4e3b\u7ebf\u7a0b\u6267\u884c\u4f53\"); } } } \u5173\u7cfb\uff1a Thread\u7c7b\u5b9e\u73b0\u4e86Runnable\u63a5\u53e3\u7684\u7c7b\uff0c\u4f7f\u5f97run\u65b9\u6cd5\u652f\u6301\u591a\u7ebf\u7a0b\u3002 \u56e0\u4e3a\u7c7b\u7684\u5355\u4e00\u7ee7\u627f\u539f\u5219\uff0c\u63a8\u8350\u4f7f\u7528Runnable\u63a5\u53e3\u521b\u5efa\u7ebf\u7a0b\u3002","title":"Thread\u7c7b\u548cRunnabel\u7684\u5173\u7cfb"},{"location":"Thread/#run","text":"","title":"\u5982\u4f55\u7ed9run()\u65b9\u6cd5\u4f20\u53c2"},{"location":"Thread/#_1","text":"1\u4e3b\u7ebf\u7a0b\u7b49\u5f85\u6cd5\uff08slee\u7b49\u5f85\u5b50\u7ebf\u7a0b\u5b8c\u6210\uff09\u3002 2\u4f7f\u7528\u4e3b\u7ebf\u7a0b\u7684join()\u65b9\u6cd5\u4ee5\u7b49\u5f85\u5b50\u7ebf\u7a0b\u5b8c\u6bd5\u3002 3.\u901a\u8fc7Callable\u63a5\u53e3\u5b9e\u73b0\uff1aFutureTask Or \u7ebf\u7a0b\u6c60\u53bb\u83b7\u53d6\u3002 import java.util.concurrent.Callable; import java.util.concurrent.ExecutionException; import java.util.concurrent.FutureTask; /* * \u4e00\u3001\u521b\u5efa\u6267\u884c\u7ebf\u7a0b\u7684\u65b9\u5f0f\u4e09\uff1a\u5b9e\u73b0 Callable \u63a5\u53e3\u3002 \u76f8\u8f83\u4e8e\u5b9e\u73b0 Runnable \u63a5\u53e3\u7684\u65b9\u5f0f\uff0c\u65b9\u6cd5\u53ef\u4ee5\u6709\u8fd4\u56de\u503c\uff0c\u5e76\u4e14\u53ef\u4ee5\u629b\u51fa\u5f02\u5e38\u3002 * * \u4e8c\u3001\u6267\u884c Callable \u65b9\u5f0f\uff0c\u9700\u8981 FutureTask \u5b9e\u73b0\u7c7b\u7684\u652f\u6301\uff0c\u7528\u4e8e\u63a5\u6536\u8fd0\u7b97\u7ed3\u679c\u3002 FutureTask \u662f Future \u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b */ public class TestCallable { public static void main(String[] args) { ThreadDemo td = new ThreadDemo(); //1.\u6267\u884c Callable \u65b9\u5f0f\uff0c\u9700\u8981 FutureTask \u5b9e\u73b0\u7c7b\u7684\u652f\u6301\uff0c\u7528\u4e8e\u63a5\u6536\u8fd0\u7b97\u7ed3\u679c\u3002 FutureTask<Integer> result = new FutureTask<>(td); new Thread(result).start(); //2.\u63a5\u6536\u7ebf\u7a0b\u8fd0\u7b97\u540e\u7684\u7ed3\u679c try { Integer sum = result.get(); //FutureTask \u53ef\u7528\u4e8e \u95ed\u9501 \u7c7b\u4f3c\u4e8eCountDownLatch\u7684\u4f5c\u7528\uff0c\u5728\u6240\u6709\u7684\u7ebf\u7a0b\u6ca1\u6709\u6267\u884c\u5b8c\u6210\u4e4b\u540e\u8fd9\u91cc\u662f\u4e0d\u4f1a\u6267\u884c\u7684 System.out.println(sum); System.out.println(\"------------------------------------\"); } catch (InterruptedException | ExecutionException e) { e.printStackTrace(); } } } class ThreadDemo implements Callable<Integer> { @Override public Integer call() throws Exception { int sum = 0; for (int i = 0; i <= 100000; i++) { sum += i; } return sum; } } *\u901a\u8fc7\u7ebf\u7a0b\u6c60\u8fd4\u56de\u7ed3\u679c public class Main { public static void main(String[] args) throws InterruptedException, ExecutionException { ExecutorService executor = Executors.newFixedThreadPool(2); //\u521b\u5efa\u4e00\u4e2aCallable1\uff0c5\u79d2\u540e\u8fd4\u56deString\u7c7b\u578b Callable myCallable = new Callable() { @Override public String call() throws Exception { Thread.sleep(5000); System.out.println(\"calld\u65b9\u6cd5\u6267\u884c\u4e86\"); return \"call\u65b9\u6cd5\u8fd4\u56de\u503c\"; } }; ////\u521b\u5efa\u4e00\u4e2aCallable2\uff0c5\u79d2\u540e\u8fd4\u56deString\u7c7b\u578b Callable myCallable2 = new Callable() { @Override public String call() throws Exception { Thread.sleep(3000); System.out.println(\"calld2\u65b9\u6cd5\u6267\u884c\u4e86\"); return \"call2\u65b9\u6cd5\u8fd4\u56de\u503c\"; } }; System.out.println(\"\u63d0\u4ea4\u4efb\u52a1\u4e4b\u524d \"+getStringDate()); Future future = executor.submit(myCallable); Future future2 = executor.submit(myCallable2); System.out.println(\"\u63d0\u4ea4\u4efb\u52a1\u4e4b\u540e \"+getStringDate()); System.out.println(\"\u5f00\u59cb\u83b7\u53d6\u7b2c\u4e00\u4e2a\u8fd4\u56de\u503c \"+getStringDate()); System.out.println(\"\u83b7\u53d6\u8fd4\u56de\u503c: \"+future.get()); System.out.println(\"\u83b7\u53d6\u7b2c\u4e00\u4e2a\u8fd4\u56de\u503c\u7ed3\u675f\uff0c\u5f00\u59cb\u83b7\u53d6\u7b2c\u4e8c\u4e2a\u8fd4\u56de\u503c \"+getStringDate()); System.out.println(\"\u83b7\u53d6\u8fd4\u56de\u503c2: \"+future2.get()); System.out.println(\"\u83b7\u53d6\u7b2c\u4e8c\u4e2a\u8fd4\u56de\u503c\u7ed3\u675f \"+getStringDate()); } public static String getStringDate() { Date currentTime = new Date(); SimpleDateFormat formatter = new SimpleDateFormat(\"HH:mm:ss\"); String dateString = formatter.format(currentTime); return dateString; } } \u8f93\u51fa\uff1a \u63d0\u4ea4\u4efb\u52a1\u4e4b\u524d 14:14:47 \u63d0\u4ea4\u4efb\u52a1\u4e4b\u540e 14:14:48 \u5f00\u59cb\u83b7\u53d6\u7b2c\u4e00\u4e2a\u8fd4\u56de\u503c 14:14:48 calld2\u65b9\u6cd5\u6267\u884c\u4e86 calld\u65b9\u6cd5\u6267\u884c\u4e86 \u83b7\u53d6\u8fd4\u56de\u503c: call\u65b9\u6cd5\u8fd4\u56de\u503c \u83b7\u53d6\u7b2c\u4e00\u4e2a\u8fd4\u56de\u503c\u7ed3\u675f\uff0c\u5f00\u59cb\u83b7\u53d6\u7b2c\u4e8c\u4e2a\u8fd4\u56de\u503c 14:14:53 \u83b7\u53d6\u8fd4\u56de\u503c2: call2\u65b9\u6cd5\u8fd4\u56de\u503c \u83b7\u53d6\u7b2c\u4e8c\u4e2a\u8fd4\u56de\u503c\u7ed3\u675f 14:14:53","title":"\u5982\u4f55\u5904\u7406\u7ebf\u7a0b\u7684\u8fd4\u56de\u503c"},{"location":"Thread/#_2","text":"6\u4e2a\u72b6\u6001","title":"\u7ebf\u7a0b\u7684\u72b6\u6001"},{"location":"Thread/#threadsleepobjectwait","text":"Thread.sleep()\u4f1a\u8ba9\u51faCPU,\u4f46\u4e0d\u4f1a\u91ca\u653e\u9501\u3002 Object.wait()\u4e0d\u4ec5\u4f1a\u8ba9\u51faCPU,\u800c\u4e14\u8fd8\u4f1a\u91ca\u653e\u5360\u7528\u540c\u6b65\u8d44\u6e90\u7684\u9501\u3002","title":"Thread.sleep()\u548cObject.wait()\u7684\u533a\u522b"},{"location":"Thread/#notifynotifyall","text":"\u4e24\u4e2a\u6982\u5ff5\uff1a\u9501\u6c60\uff0c\u7b49\u5f85\u6c60\u3002 \u9501\u6c60\uff1a\u5047\u8bbe\u7ebf\u7a0bA\u5df2\u7ecf\u62e5\u6709\u5bf9\u8c61\u9501\uff0c\u7ebf\u7a0bB\u3001C\u60f3\u8981\u83b7\u53d6\u9501\u5c31\u4f1a\u88ab\u963b\u585e\uff0c\u8fdb\u5165\u4e00\u4e2a\u5730\u65b9\u53bb\u7b49\u5f85\u9501\u7684\u7b49\u5f85\uff0c\u8fd9\u4e2a\u5730\u65b9\u5c31\u662f\u8be5\u5bf9\u8c61\u7684\u9501\u6c60\uff1b \u7b49\u5f85\u6c60\uff1a\u5047\u8bbe\u7ebf\u7a0bA\u8c03\u7528\u67d0\u4e2a\u5bf9\u8c61\u7684wait\u65b9\u6cd5\uff0c\u7ebf\u7a0bA\u5c31\u4f1a\u91ca\u653e\u8be5\u5bf9\u8c61\u9501\uff0c\u540c\u65f6\u7ebf\u7a0bA\u8fdb\u5165\u8be5\u5bf9\u8c61\u7684\u7b49\u5f85\u6c60\u4e2d\uff0c\u8fdb\u5165\u7b49\u5f85\u6c60\u4e2d\u7684\u7ebf\u7a0b\u4e0d\u4f1a\u53bb\u7ade\u4e89\u8be5\u5bf9\u8c61\u7684\u9501\u3002 *1\u3001notify\u53ea\u4f1a\u968f\u673a\u9009\u53d6\u4e00\u4e2a\u5904\u4e8e\u7b49\u5f85\u6c60\u4e2d\u7684\u7ebf\u7a0b\u8fdb\u5165\u9501\u6c60\u53bb\u7ade\u4e89\u83b7\u53d6\u9501\u7684\u673a\u4f1a\uff1b *2\u3001notifyAll\u4f1a\u8ba9\u6240\u6709\u5904\u4e8e\u7b49\u5f85\u6c60\u7684\u7ebf\u7a0b\u5168\u90e8\u8fdb\u5165\u9501\u6c60\u53bb\u7ade\u4e89\u83b7\u53d6\u9501\u7684\u673a\u4f1a\uff1b","title":"notify()\u548cnotifyAll()\u533a\u522b"},{"location":"Thread/#yield","text":"yield\u5f53\u8c03\u7528Thread.yield()\u51fd\u6570\u7684\u65f6\u5019\uff0c\u56de\u7ed9\u7ebf\u7a0b\u8c03\u5ea6\u5668\u4e00\u4e2a\u5f53\u524d\u7ebf\u7a0b\u613f\u610f\u8ba9\u51faCPU\u7684\u4f7f\u7528\u7684\u6697\u793a\uff0c\u4f46\u662f\u7ebf\u7a0b\u8c03\u5ea6\u5668\u53ef\u80fd\u4f1a\u5ffd\u7565\u8fd9\u4e2a\u6697\u793a\u3002\u5bf9\u9501\u7684\u884c\u4e3a\u65e0\u5f71\u54cd\u3002","title":"yield\u7684\u51fd\u6570"},{"location":"Thread/#_3","text":"\u5df2\u88ab\u629b\u5f03\u7684\u65b9\u6cd5\u901a\u8fc7\u8c03\u7528Stop\u65b9\u6cd5\u3002 \u8c03\u7528Interrupt()\u65b9\u6cd5\u3002\u901a\u77e5\u7ebf\u7a0b \u8be5\u4e2d\u65ad\u4e86\u3002 1\u5982\u679c\u7ebf\u7a0b\u5904\u4e8e\u963b\u585e\u72b6\u6001\uff0c\u90a3\u4e48\u7ebf\u7a0b\u5c06\u7acb\u5373\u9000\u51fa\u963b\u585e\u72b6\u6001\uff0c\u5e76\u629b\u51fa\u4e00\u4e2aInterruptedException\u5f02\u5e38\u3002 2\u5982\u679c\u7ebf\u7a0b\u5904\u4e8e\u6b63\u5e38\u6d3b\u52a8\uff0c\u90a3\u4e48\u4f1a\u5c06\u8be5\u7ebf\u7a0b\u7684\u4e2d\u65ad\u6807\u5fd7\u4f4d\u8bbe\u4e3aTrue.\u7ebf\u7a0b\u5c06\u7ee7\u7eed\u6b63\u5e38\u8fd0\u884c\uff0c\u4e0d\u53d7\u5f71\u54cd\u3002\u56e0\u6b64\u9700\u8981\u8c03\u7528\u7ebf\u7a0b\u914d\u5408\u4e2d\u65ad\u3002(1)\u5728\u6b63\u5e38\u8fd0\u884c\u4efb\u52a1\u65f6\uff0c\u7ecf\u5e38\u68c0\u67e5\u672c\u7ebf\u7a0b\u7684\u4e2d\u65ad\u6807\u5fd7\u4f4d\uff0c\u5982\u679c\u88ab\u8bbe\u7f6e\u4e86\u4e2d\u65ad\u6807\u5fd7\u4f4d\u5c31\u81ea\u884c\u505c\u6b62\u7ebf\u7a0b\u3002","title":"\u5982\u4f55\u4e2d\u65ad\u7ebf\u7a0b"},{"location":"Thread/#_4","text":"","title":"\u7ebf\u7a0b\u95f4\u72b6\u6001\u8f6c\u6362\u56fe"},{"location":"about/","text":"\u6570\u636e\u5e93\u7684\u67b6\u6784 \u4e3a\u4ec0\u4e48\u4f7f\u7528\u7d22\u5f15 \u4ec0\u4e48\u6837\u7684\u4fe1\u606f\u80fd\u6210\u4e3a\u7d22\u5f15 \u5bc6\u96c6\u7d22\u5f15\u548c\u7a00\u758f\u7d22\u5f15\u7684\u533a\u522b \u5982\u4f55\u5b9a\u4f4d\u5e76\u4f18\u5316\u6162\u67e5\u8be2sql \u7d22\u5f15\u662f\u5efa\u7acb\u8d8a\u591a\u8d8a\u597d\u5417 hash\u7d22\u5f15\u548cb+\u6811\u7684\u533a\u522b \u6700\u5de6\u524d\u7f00\u5339\u914d\u539f\u5219 \u9501 #MyISAM\u7684\u5f15\u64ce\u548cINOODB\u9501\u7684\u533a\u522b #MYISAM\u7684\u5e94\u7528\u573a\u666f\u548cINOODB\u5e94\u7528\u573a\u666f \u4e8b\u52a1 #\u6570\u636e\u5e93\u4e8b\u52a1\u7684\u56db\u5927\u7279\u6027 #\u4e8b\u52a1\u7684\u5e76\u53d1\u8bbf\u95ee\u7684\u95ee\u9898\u4ee5\u53ca\u4e8b\u52a1\u7684\u9694\u79bb\u673a\u5236\u3002 #InooDB\u4e0bRR\u7ea7\u522b\u5982\u4f55\u907f\u514d\u5e7b\u8bfb next-key\u9501\uff1a\u884c\u9501+Gap\u9501 gap\u9501\uff1a For full documentation visit [mkdocs.org](https://mkdocs.org). ## Commands * `mkdocs new [dir-name]` - Create a new project. * `mkdocs serve` - Start the live-reloading docs server. * `mkdocs build` - Build the documentation site. * `mkdocs help` - Print this help message. ## Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"About"},{"location":"about/#sql","text":"","title":"\u5982\u4f55\u5b9a\u4f4d\u5e76\u4f18\u5316\u6162\u67e5\u8be2sql"},{"location":"about/#_1","text":"","title":"\u7d22\u5f15\u662f\u5efa\u7acb\u8d8a\u591a\u8d8a\u597d\u5417"},{"location":"about/#hashb","text":"","title":"hash\u7d22\u5f15\u548cb+\u6811\u7684\u533a\u522b"},{"location":"about/#_2","text":"","title":"\u6700\u5de6\u524d\u7f00\u5339\u914d\u539f\u5219"},{"location":"database/","text":"\u6570\u636e\u5e93\u7684\u67b6\u6784 \u4e3a\u4ec0\u4e48\u4f7f\u7528\u7d22\u5f15,\u7d22\u5f15\u8d8a\u591a\u8d8a\u597d\u5417\uff0c\u7d22\u5f15\u6709\u54ea\u4e9b\u7ed3\u6784 \u521b\u5efa\u7d22\u5f15\u53ef\u4ee5\u52a0\u5feb\u6570\u636e\u7684\u68c0\u7d22\u901f\u5ea6\uff08\u4e0d\u521b\u5efa\u7d22\u5f15\uff0c\u6570\u636e\u5e93\u67e5\u8be2\u9ed8\u8ba4\u8fdb\u884c\u5168\u8868\u626b\u63cf)\u3002 \u4f46\u662f \u6570\u636e\u91cf\u5c0f\u4e0d\u9700\u8981\u5efa\u7acb\u7d22\u5f15\u3002\uff08\u6570\u636e\u91cf\u8d85\u8fc7300\uff09 \u521b\u5efa\u548c\u7ef4\u62a4\u7d22\u5f15\u9700\u8981\u8017\u8d39\u65f6\u95f4\u3002\u8fd9\u79cd\u65f6\u95f4\u968f\u7740\u6570\u636e\u91cf\u7684\u589e\u5927\u800c\u589e\u5927\u3002 \u7d22\u5f15\u9700\u8981\u5360\u636e\u7269\u7406\u7a7a\u95f4\uff0c\u5982\u679c\u7d22\u5f15\u5efa\u7acb\u8fc7\u591a\uff0c\u3002 \u5f53\u5bf9\u8868\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u589e\u52a0\u3001\u5220\u9664\u548c\u4fee\u6539\u7684\u65f6\u5019\uff0c\u7d22\u5f15\u4e5f\u8981\u52a8\u6001\u7684\u7ef4\u62a4\uff0c\u8fd9\u6837\u5c31\u964d\u4f4e\u4e86\u6570\u636e\u7684\u7ef4\u62a4\u901f\u5ea6\u3002 \u7d22\u5f15\u7684\u7ed3\u6784 B+\u6811\uff0c\u5e38\u7528\uff0c\u53ef\u4ee5\u8fdb\u884c\u8303\u56f4\u5dee\u503c\uff0c\u5355\u503c\u67e5\u8be2\u3002\u4ee5\u53ca\u6392\u5e8f hash\u7d22\u5f15\uff1a\u53ea\u80fd\u7528\u4e8e\u5355\u503c\u67e5\u8be2\uff0c\u4e0d\u80fd\u6392\u5e8f\u548c\u8303\u56f4\u67e5\u8be2\u3002 *\u4f4d\u56fe\u7d22\u5f15\uff1a\u4f4d\u56fe\u8868\u793a\u7684\u7d22\u5f15\uff0c\u5bf9\u5217\u7684\u6bcf\u4e2a\u952e\u503c\u5efa\u7acb\u4e00\u4e2a\u4f4d\u56fe\u3002\u9002\u5408 select count(XX) \u65f6,\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u7d22\u5f15\u4e2d\u4e00\u4e2a\u4f4d\u56fe\u5c31\u5feb\u901f\u5f97\u51fa\u7edf\u8ba1\u6570\u636e\uff1b \u5f53\u6839\u636e\u952e\u503c\u505aand\uff0cor\u6216 in(x,y,..)\u3002 \u4ec0\u4e48\u6837\u7684\u4fe1\u606f\u80fd\u6210\u4e3a\u7d22\u5f15 1\u8868\u7684\u4e3b\u952e\u548c\u5916\u952e\uff0c\u552f\u4e00\u952e\uff0c\u5177\u6709\u4e00\u5b9a\u7684 \u533a\u5206\u6027\u3002 2\u7ecf\u5e38\u4e0e\u5176\u4ed6\u8868\u8fdb\u884c\u8fde\u63a5\u7684\u8868\uff0c\u5728\u8fde\u63a5\u5b57\u6bb5\u4e0a\u5e94\u8be5\u5efa\u7acb\u7d22\u5f15\u3002 3\u7d22\u5f15\u5e94\u8be5\u5efa\u5728\u5c0f\u5b57\u6bb5\u4e0a\uff0c\u5bf9\u4e8e\u5927\u7684\u6587\u672c\u5b57\u6bb5\u751a\u81f3\u8d85\u957f\u5b57\u6bb5\uff0c\u4e0d\u8981\u5efa\u7d22\u5f15\u3002 4\u7d22\u5f15\u5e94\u8be5\u5efa\u5728\u9009\u62e9\u6027\u9ad8\u7684\u5b57\u6bb5\u4e0a \u5bc6\u96c6\u7d22\u5f15\u548c\u7a00\u758f\u7d22\u5f15\u7684\u533a\u522b '\u5bc6\u96c6\u7d22\u5f15'\uff1a\u53f6\u5b50\u8282\u70b9\u4fdd\u5b58\u7684\u4e0d\u53ea\u662f\u952e\u503c\uff0c\u8fd8\u4fdd\u5b58\u4e86\u4f4d\u4e8e\u540c\u4e00\u884c\u8bb0\u5f55\u91cc\u7684\u5176\u4ed6\u5217\u7684\u4fe1\u606f\uff0c\u7531\u4e8e\u5bc6\u96c6\u7d22\u5f15\u51b3\u5b9a\u4e86\u8868\u7684\u7269\u7406\u6392\u5217\u987a\u5e8f\uff0c\u4e00\u4e2a\u8868\u53ea\u6709\u4e00\u4e2a\u7269\u7406\u6392\u5217\u987a\u5e8f\uff0c\u6240\u4ee5\u4e00\u4e2a\u8868\u53ea\u80fd\u521b\u5efa\u4e00\u4e2a\u5bc6\u96c6\u7d22\u5f15\u3002 '\u7a00\u758f\u7d22\u5f15'\uff1a\u7a00\u758f\u7d22\u5f15\u6587\u4ef6\u4e2d\u53ea\u4e3a\u641c\u7d22\u7801\u7684\u67d0\u4e9b\u503c\u5efa\u7acb\u7d22\u5f15\u9879 \u8fd9\u53ef\u4ee5\u7406\u89e3\u4e3a\u53f6\u5b50\u7ed3\u70b9\u53ea\u4fdd\u5b58\u4e86\u952e\u4f4d\u4fe1\u606f\u4ee5\u53ca\u8be5\u884c\u6570\u636e\u7684\u5730\u5740\uff0c\u6709\u7684\u7a00\u758f\u7d22\u5f15\u53ea\u4fdd\u5b58\u4e86\u952e\u4f4d\u4fe1\u606f\u4e3b\u952e\u3002 *\u533a\u522b\uff1a \u7a00\u758f\u7d22\u5f15\u5360\u7528\u7684\u7d22\u5f15\u5b58\u50a8\u7a7a\u95f4\u6bd4\u8f83\u5c0f\uff0c\u4f46\u662f\u67e5\u627e\u65f6\u95f4\u8f83\u957f\uff1b \u5bc6\u96c6\u7d22\u5f15\u7d22\u5f15\u67e5\u627e\u65f6\u95f4\u8f83\u77ed\uff0c\u7d22\u5f15\u5b58\u50a8\u7a7a\u95f4\u8f83\u5927\u3002 myIsam\uff1a\u4e3b\u952e\u7d22\u5f15\uff0c\u552f\u4e00\u952e\u7d22\u5f15\uff0c\u8fd8\u662f\u666e\u901a\u7d22\u5f15 \u2014\u90fd\u662f \u7a00\u758f\u7d22\u5f15\u3002 \u5728Innodb\u4e2d \u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u5bc6\u96c6\u7d22\u5f15 Innodb\u4e2d\u9009\u53d6\u89c4\u5219\uff1a (1)\u3001\u5982\u679c\u4e00\u4e2a\u4e3b\u952e\u88ab\u5b9a\u4e49\u4e86 \u5219\u8be5\u4e3b\u952e\u4f5c\u4e3a\u5bc6\u96c6\u7d22\u5f15 (2)\u3001\u82e5\u8be5\u4e3b\u952e\u6ca1\u6709\u88ab\u5b9a\u4e49 \u5219\u8be5\u8868\u7684\u7b2c\u4e00\u4e2a\u552f\u4e00\u975e\u7a7a\u7d22\u5f15\u4f5c\u4e3a\u5bc6\u96c6\u7d22\u5f15 (3)\u3001\u82e5\u4e0d\u6ee1\u8db3\u4e0a\u8ff0\u6761\u4ef6 \u5219innodb\u5185\u90e8\u4f1a\u751f\u6210\u4e00\u4e2a\u9690\u85cf\u4e3b\u952e(\u5bc6\u96c6\u7d22\u5f15) (4)\u3001\u975e\u4e3b\u952e\u7d22\u5f15\u5b58\u50a8\u76f8\u5173\u952e\u4f4d\u548c\u5176\u5bf9\u5e94\u7684\u4e3b\u952e\u503c \u5305\u542b\u4e24\u6b21\u67e5\u627e\uff1a\u901a\u8fc7\u8f85\u52a9\u7d22\u5f15\u627e\u5230\u4e3b\u952e\uff0c\u518d\u6839\u636e\u4e3b\u952e\u5728\u5bc6\u96c6\u7d22\u5f15\u4e2d\u627e\u5230\u6570\u636e\u3002 \u5982\u4f55\u5b9a\u4f4d\u5e76\u4f18\u5316\u6162\u67e5\u8be2sql \u6839\u636e\u6162\u65e5\u5fd7\u5b9a\u4f4d\u6162\u67e5\u8be2sql 1show variables like \"%query%\"(\u67e5\u770b\u67e5\u8be2\u8bbe\u7f6e,mysql \u9ed8\u8ba4\u6162\u67e5\u8be2\u4e3a10\u79d2) 2.show status like \"%slow_queries%\"(\u663e\u793a\u6162\u67e5\u8be2\u7684\u6570\u91cf) 3set global shlow_query_log=on(\u6253\u5f00\u6162\u67e5\u8be2\u65e5\u5fd7) 4set globallong_query_time=1;(\u8bbe\u7f6e\u6162\u67e5\u8be2\u4e3a1\u79d2\uff0c\u6570\u636e\u5e93\u91cd\u542f\u540e\uff0c\u5931\u6548) \u4f7f\u7528explain\u5206\u6790sql 3\u4e2a\u5173\u952e\u5b57\uff1atype\u67e5\u8be2\u7684\u7c7b\u578b\uff08\u5168\u8868\u626b\u63cf\u8fd8\u662f\u7d22\u5f15\u7b49\uff09;extra; *\u4f7fsql\u5c3d\u91cf\u8d70\u7d22\u5f15 hash\u7d22\u5f15\u548cb+\u6811\u7684\u533a\u522b \u6700\u5de6\u524d\u7f00\u5339\u914d\u539f\u5219 \u9501 MyISAM\u7684\u5f15\u64ce\u548cINNODB\u9501\u7684\u533a\u522b MyISAM\u9ed8\u8ba4\u4f7f\u7528\u8868\u7ea7\u9501\uff0c\u4e0d\u652f\u6301\u884c\u7ea7\u9501\u3002 InnoDB\u9ed8\u8ba4\u7528\u7684\u884c\u7ea7\u9501\uff0c\u4e5f\u652f\u6301\u8868\u7ea7\u9501\u3002 \u4e50\u89c2\u9501\uff0c\u60b2\u89c2\u9501\uff0c\u5171\u4eab\u9501\uff0c\u6392\u4ed6\u9501\u3002 MYISAM\u7684\u5e94\u7528\u573a\u666f\u548cINOODB\u5e94\u7528\u573a\u666f MYISAM \u9002\u5408\u9891\u7e41\u6267\u884c\u5168\u8868\u7684count\u8bed\u53e5\uff08\u901a\u8fc7\u4e00\u4e2a\u53d8\u91cf\u4fdd\u5b58\u6574\u4e2a\u8868\u7684\u884c\u6570\uff09\u3002 \u9002\u5408\u5bf9\u6570\u636e\u589e\u5220\u6539\u9891\u7387\u4e0d\u9ad8\uff08\u4f1a\u6d89\u53ca\u5230\u8868\u9501\uff09\uff0c\u67e5\u8be2\u9891\u7387\u9ad8\u3002 \u9002\u5408\u6ca1\u6709\u4e8b\u52a1\u7684\u3002 InnoDB\u5e94\u7528\u573a\u666f \u6570\u636e\u589e\u5220\u6539\u9891\u7387\u6bd4\u8f83\u9ad8\u3002 \u53ef\u9760\u6027\u8981\u6c42\u6bd4\u8f83\u9ad8\uff0c\u8981\u6c42\u652f\u6301\u4e8b\u52a1\u3002 \u4e8b\u52a1 \u662f\u5e76\u53d1\u63a7\u5236\u7684\u57fa\u672c\u5355\u4f4d\u3002\u6240\u8c13\u7684\u4e8b\u52a1\uff0c\u5b83\u662f\u4e00\u4e2a\u64cd\u4f5c\u5e8f\u5217\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u8981\u4e48\u90fd\u6267\u884c\uff0c\u8981\u4e48\u90fd\u4e0d\u6267\u884c\uff0c\u5b83\u662f\u4e00\u4e2a\u4e0d\u53ef\u5206\u5272\u7684\u5de5\u4f5c\u5355\u4f4d. \u6570\u636e\u5e93\u4e8b\u52a1\u7684\u56db\u5927\u7279\u6027 ACID Atomic :\u539f\u5b50\u6027\u4e8b\u52a1\u5305\u542b\u7684\u6240\u6709\u64cd\u4f5c\u8981\u4e48\u5168\u90e8\u6210\u529f\uff0c\u8981\u4e48\u5168\u90e8\u5931\u8d25\u56de\u6eda;\u6210\u529f\u5fc5\u987b\u8981\u5b8c\u5168\u5e94\u7528\u5230\u6570\u636e\u5e93\uff0c\u5931\u8d25\u5219\u4e0d\u80fd\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u5f71\u54cd\uff1b Consistency :\u4e00\u81f4\u6027\u662f\u6307\u4e8b\u52a1\u5fc5\u987b\u4f7f\u6570\u636e\u5e93\u4ece\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001\u53d8\u6362\u5230\u53e6\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e00\u4e2a\u4e8b\u52a1\u6267\u884c\u4e4b\u524d\u548c\u6267\u884c\u4e4b\u540e\u90fd\u5fc5\u987b\u5904\u4e8e\u4e00\u81f4\u6027\u72b6\u6001\u3002\u62ff\u8f6c\u8d26\u6765\u8bf4\uff0c\u5047\u8bbe\u7528\u6237A\u548c\u7528\u6237B\u4e24\u8005\u7684\u94b1\u52a0\u8d77\u6765\u4e00\u5171\u662f5000\uff0c\u90a3\u4e48\u4e0d\u7ba1A\u548cB\u4e4b\u95f4\u5982\u4f55\u8f6c\u8d26\uff0c\u8f6c\u51e0\u6b21\u8d26\uff0c\u4e8b\u52a1\u7ed3\u675f\u540e\u4e24\u4e2a\u7528\u6237\u7684\u94b1\u76f8\u52a0\u8d77\u6765\u5e94\u8be5\u8fd8\u5f97\u662f5000\u3002 Isolation :\u9694\u79bb\u6027\u662f\u6307\u5f53\u591a\u4e2a\u7528\u6237\u5e76\u53d1\u8bbf\u95ee\u6570\u636e\u5e93\u65f6\uff0c\u6570\u636e\u5e93\u4e3a\u6bcf\u4e00\u4e2a\u7528\u6237\u5f00\u542f\u7684\u4e8b\u52a1\uff0c\u4e0d\u88ab\u5176\u4ed6\u4e8b\u52a1\u7684\u64cd\u4f5c\u6240\u5e72\u6270\uff0c\u591a\u4e2a\u5e76\u53d1\u4e8b\u52a1\u4e4b\u95f4\u8981\u76f8\u4e92\u9694\u79bb\uff1b Durability :\u6301\u4e45\u6027\u4e00\u4e2a\u4e8b\u52a1\u4e00\u65e6\u88ab\u63d0\u4ea4\u4e86\uff0c\u90a3\u4e48\u5bf9\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u7684\u6539\u53d8\u5c31\u662f\u6c38\u4e45\u6027\u7684\uff0c\u5373\u4fbf\u5728\u6570\u636e\u5e93\u7cfb\u7edf\u9047\u5230\u6545\u969c\u7684\u60c5\u51b5\u4e0b\u4e5f\u4e0d\u4f1a\u4e22\u5931\u4e8b\u7269\u7684\u64cd\u4f5c\u3002 \u4e8b\u52a1\u7684\u5e76\u53d1\u8bbf\u95ee\u7684\u95ee\u9898\u4ee5\u53ca\u4e8b\u52a1\u7684\u9694\u79bb\u673a\u5236\u3002 \u810f\u8bfb \uff1a\u662f\u6307\u4e2a\u4e8b\u52a1\u5904\u7406\u8fc7\u7a0b\u91cc\u8bfb\u53d6\u4e86\u53e6\u4e00\u4e2a\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\u4e2d\u7684\u6570\u636e\u7136\u540e\u4f7f\u7528\u4e86\u8fd9\u4e2a\u6570\u636e\u3002 \u4e0d\u53ef\u91cd\u590d\u8bfb \uff1a\u4e0d\u53ef\u91cd\u590d\u8bfb\u662f\u6307\u5728\u5bf9\u4e8e\u6570\u636e\u5e93\u4e2d\u7684\u67d0\u4e2a\u6570\u636e\uff0c\u4e00\u4e2a\u4e8b\u52a1\u8303\u56f4\u5185\u591a\u6b21\u67e5\u8be2\u5374\u8fd4\u56de\u4e86\u4e0d\u540c\u7684\u6570\u636e\u503c\uff0c\u8fd9\u662f\u7531\u4e8e\u5728\u67e5\u8be2\u95f4\u9694\uff0c\u88ab\u53e6\u4e00\u4e2a\u4e8b\u52a1\u4fee\u6539\u5e76\u63d0\u4ea4\u4e86\u3002 * \u5e7b\u8bfb \uff1a\u5f53\u4e8b\u52a1\u4e0d\u662f\u72ec\u7acb\u6267\u884c\u65f6\u53d1\u751f\u7684\u4e00\u79cd\u73b0\u8c61\uff0c\u4f8b\u5982\u7b2c\u4e00\u4e2a\u4e8b\u52a1\u5bf9\u4e00\u4e2a\u8868\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u4fee\u6539\uff0c\u8fd9\u79cd\u6570\u636e\u6d89\u53ca\u5230\u8868\u4e2d\u7684\u5168\u90e8\u6570\u636e\u884c\uff0c\u540c\u65f6\uff0c\u7b2c\u4e8c\u4e2a\u4e8b\u52a1\u4e5f\u5bf9\u8fd9\u4e2a\u8868\u6570\u636e\u8fdb\u884c\u4fee\u6539\uff0c\u8fd9\u4e2a\u4fee\u6539\u662f\u5bf9\u8868\u4e2d\u65b0\u589e/\u5220\u9664\u4e00\u6761\u6570\u636e\uff0c\u90a3\u4e48\u64cd\u4f5c\u7b2c\u4e00\u4e2a\u4e8b\u52a1\u7684\u7528\u6237\u53d1\u73b0\u8868\u4e2d\u7684\u6570\u636e\u8fd8\u6ca1\u6709\u4fee\u6539\u7684\u6570\u636e\u884c\uff0c\u5c31\u597d\u50cf\u53d1\u751f\u4e86\u5e7b\u89c9\u4e00\u6837\uff0c\u8fd9\u5c31\u662f\u53d1\u751f\u4e86\u5e7b\u8bfb\u3002 \u6ce8:\u5e7b\u8bfb\u548c\u4e0d\u53ef\u91cd\u590d\u8bfb\u90fd\u8bfb\u53d6\u53e6\u4e00\u6761\u5df2\u7ecf\u63d0\u4ea4\u7684\u4e8b\u52a1\uff0c\u6240\u4e0d\u540c\u7684\u662f\u4e0d\u53ef\u91cd\u590d\u8bfb\u67e5\u8be2\u7684\u90fd\u662f\u540c\u4e00\u6570\u636e\u9879\uff0c\u800c\u5e7b\u8bfb\u9488\u5bf9\u7684\u662f\u4e00\u6279\u6570\u636e\u6574\u4f53\u3002 \u9694\u79bb\u7ea7\u522b\uff1a \u6570\u636e\u5e93\u63d0\u4f9b\u7684\u56db\u79cd\u9694\u79bb\u7ea7\u522b\uff1a Read uncommitted(\u8bfb\u672a\u63d0\u4ea4) \uff1a\u6700\u4f4e\u7ea7\u522b\uff0c\u4efb\u4f55\u60c5\u51b5\u90fd\u4f1a\u53d1\u751f\u3002 Read Committed(\u8bfb\u5df2\u63d0\u4ea4) \uff1a\u53ef\u907f\u514d\u810f\u8bfb\u7684\u53d1\u751f\uff0c\u4f1a\u53d1\u751f\u4e0d\u53ef\u91cd\u590d\u8bfb\u3002 Repeatable read(\u53ef\u91cd\u590d\u8bfb) \uff1a\u53ef\u907f\u514d\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u7684\u53d1\u751f\u3002 Serializable(\u4e32\u884c\u5316) \uff1a\u907f\u514d\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u5e7b\u8bfb\u7684\u53d1\u751f\u3002 InooDB\u4e0bRR\u7ea7\u522b\u5982\u4f55\u907f\u514d\u5e7b\u8bfb next-key\u9501\uff1a\u884c\u9501+Gap\u9501 gap\u9501\uff1a","title":"\u6570\u636e\u5e93"},{"location":"database/#sql","text":"\u6839\u636e\u6162\u65e5\u5fd7\u5b9a\u4f4d\u6162\u67e5\u8be2sql 1show variables like \"%query%\"(\u67e5\u770b\u67e5\u8be2\u8bbe\u7f6e,mysql \u9ed8\u8ba4\u6162\u67e5\u8be2\u4e3a10\u79d2) 2.show status like \"%slow_queries%\"(\u663e\u793a\u6162\u67e5\u8be2\u7684\u6570\u91cf) 3set global shlow_query_log=on(\u6253\u5f00\u6162\u67e5\u8be2\u65e5\u5fd7) 4set globallong_query_time=1;(\u8bbe\u7f6e\u6162\u67e5\u8be2\u4e3a1\u79d2\uff0c\u6570\u636e\u5e93\u91cd\u542f\u540e\uff0c\u5931\u6548) \u4f7f\u7528explain\u5206\u6790sql 3\u4e2a\u5173\u952e\u5b57\uff1atype\u67e5\u8be2\u7684\u7c7b\u578b\uff08\u5168\u8868\u626b\u63cf\u8fd8\u662f\u7d22\u5f15\u7b49\uff09;extra; *\u4f7fsql\u5c3d\u91cf\u8d70\u7d22\u5f15","title":"\u5982\u4f55\u5b9a\u4f4d\u5e76\u4f18\u5316\u6162\u67e5\u8be2sql"},{"location":"database/#hashb","text":"","title":"hash\u7d22\u5f15\u548cb+\u6811\u7684\u533a\u522b"},{"location":"database/#_1","text":"","title":"\u6700\u5de6\u524d\u7f00\u5339\u914d\u539f\u5219"},{"location":"database/#_2","text":"","title":"\u9501"},{"location":"database/#myisaminnodb","text":"MyISAM\u9ed8\u8ba4\u4f7f\u7528\u8868\u7ea7\u9501\uff0c\u4e0d\u652f\u6301\u884c\u7ea7\u9501\u3002 InnoDB\u9ed8\u8ba4\u7528\u7684\u884c\u7ea7\u9501\uff0c\u4e5f\u652f\u6301\u8868\u7ea7\u9501\u3002","title":"MyISAM\u7684\u5f15\u64ce\u548cINNODB\u9501\u7684\u533a\u522b"},{"location":"database/#_3","text":"","title":"\u4e50\u89c2\u9501\uff0c\u60b2\u89c2\u9501\uff0c\u5171\u4eab\u9501\uff0c\u6392\u4ed6\u9501\u3002"},{"location":"database/#myisaminoodb","text":"MYISAM \u9002\u5408\u9891\u7e41\u6267\u884c\u5168\u8868\u7684count\u8bed\u53e5\uff08\u901a\u8fc7\u4e00\u4e2a\u53d8\u91cf\u4fdd\u5b58\u6574\u4e2a\u8868\u7684\u884c\u6570\uff09\u3002 \u9002\u5408\u5bf9\u6570\u636e\u589e\u5220\u6539\u9891\u7387\u4e0d\u9ad8\uff08\u4f1a\u6d89\u53ca\u5230\u8868\u9501\uff09\uff0c\u67e5\u8be2\u9891\u7387\u9ad8\u3002 \u9002\u5408\u6ca1\u6709\u4e8b\u52a1\u7684\u3002 InnoDB\u5e94\u7528\u573a\u666f \u6570\u636e\u589e\u5220\u6539\u9891\u7387\u6bd4\u8f83\u9ad8\u3002 \u53ef\u9760\u6027\u8981\u6c42\u6bd4\u8f83\u9ad8\uff0c\u8981\u6c42\u652f\u6301\u4e8b\u52a1\u3002","title":"MYISAM\u7684\u5e94\u7528\u573a\u666f\u548cINOODB\u5e94\u7528\u573a\u666f"},{"location":"database/#_4","text":"\u662f\u5e76\u53d1\u63a7\u5236\u7684\u57fa\u672c\u5355\u4f4d\u3002\u6240\u8c13\u7684\u4e8b\u52a1\uff0c\u5b83\u662f\u4e00\u4e2a\u64cd\u4f5c\u5e8f\u5217\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u8981\u4e48\u90fd\u6267\u884c\uff0c\u8981\u4e48\u90fd\u4e0d\u6267\u884c\uff0c\u5b83\u662f\u4e00\u4e2a\u4e0d\u53ef\u5206\u5272\u7684\u5de5\u4f5c\u5355\u4f4d.","title":"\u4e8b\u52a1"},{"location":"database/#_5","text":"ACID Atomic :\u539f\u5b50\u6027\u4e8b\u52a1\u5305\u542b\u7684\u6240\u6709\u64cd\u4f5c\u8981\u4e48\u5168\u90e8\u6210\u529f\uff0c\u8981\u4e48\u5168\u90e8\u5931\u8d25\u56de\u6eda;\u6210\u529f\u5fc5\u987b\u8981\u5b8c\u5168\u5e94\u7528\u5230\u6570\u636e\u5e93\uff0c\u5931\u8d25\u5219\u4e0d\u80fd\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u5f71\u54cd\uff1b Consistency :\u4e00\u81f4\u6027\u662f\u6307\u4e8b\u52a1\u5fc5\u987b\u4f7f\u6570\u636e\u5e93\u4ece\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001\u53d8\u6362\u5230\u53e6\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e00\u4e2a\u4e8b\u52a1\u6267\u884c\u4e4b\u524d\u548c\u6267\u884c\u4e4b\u540e\u90fd\u5fc5\u987b\u5904\u4e8e\u4e00\u81f4\u6027\u72b6\u6001\u3002\u62ff\u8f6c\u8d26\u6765\u8bf4\uff0c\u5047\u8bbe\u7528\u6237A\u548c\u7528\u6237B\u4e24\u8005\u7684\u94b1\u52a0\u8d77\u6765\u4e00\u5171\u662f5000\uff0c\u90a3\u4e48\u4e0d\u7ba1A\u548cB\u4e4b\u95f4\u5982\u4f55\u8f6c\u8d26\uff0c\u8f6c\u51e0\u6b21\u8d26\uff0c\u4e8b\u52a1\u7ed3\u675f\u540e\u4e24\u4e2a\u7528\u6237\u7684\u94b1\u76f8\u52a0\u8d77\u6765\u5e94\u8be5\u8fd8\u5f97\u662f5000\u3002 Isolation :\u9694\u79bb\u6027\u662f\u6307\u5f53\u591a\u4e2a\u7528\u6237\u5e76\u53d1\u8bbf\u95ee\u6570\u636e\u5e93\u65f6\uff0c\u6570\u636e\u5e93\u4e3a\u6bcf\u4e00\u4e2a\u7528\u6237\u5f00\u542f\u7684\u4e8b\u52a1\uff0c\u4e0d\u88ab\u5176\u4ed6\u4e8b\u52a1\u7684\u64cd\u4f5c\u6240\u5e72\u6270\uff0c\u591a\u4e2a\u5e76\u53d1\u4e8b\u52a1\u4e4b\u95f4\u8981\u76f8\u4e92\u9694\u79bb\uff1b Durability :\u6301\u4e45\u6027\u4e00\u4e2a\u4e8b\u52a1\u4e00\u65e6\u88ab\u63d0\u4ea4\u4e86\uff0c\u90a3\u4e48\u5bf9\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u7684\u6539\u53d8\u5c31\u662f\u6c38\u4e45\u6027\u7684\uff0c\u5373\u4fbf\u5728\u6570\u636e\u5e93\u7cfb\u7edf\u9047\u5230\u6545\u969c\u7684\u60c5\u51b5\u4e0b\u4e5f\u4e0d\u4f1a\u4e22\u5931\u4e8b\u7269\u7684\u64cd\u4f5c\u3002","title":"\u6570\u636e\u5e93\u4e8b\u52a1\u7684\u56db\u5927\u7279\u6027"},{"location":"database/#_6","text":"\u810f\u8bfb \uff1a\u662f\u6307\u4e2a\u4e8b\u52a1\u5904\u7406\u8fc7\u7a0b\u91cc\u8bfb\u53d6\u4e86\u53e6\u4e00\u4e2a\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\u4e2d\u7684\u6570\u636e\u7136\u540e\u4f7f\u7528\u4e86\u8fd9\u4e2a\u6570\u636e\u3002 \u4e0d\u53ef\u91cd\u590d\u8bfb \uff1a\u4e0d\u53ef\u91cd\u590d\u8bfb\u662f\u6307\u5728\u5bf9\u4e8e\u6570\u636e\u5e93\u4e2d\u7684\u67d0\u4e2a\u6570\u636e\uff0c\u4e00\u4e2a\u4e8b\u52a1\u8303\u56f4\u5185\u591a\u6b21\u67e5\u8be2\u5374\u8fd4\u56de\u4e86\u4e0d\u540c\u7684\u6570\u636e\u503c\uff0c\u8fd9\u662f\u7531\u4e8e\u5728\u67e5\u8be2\u95f4\u9694\uff0c\u88ab\u53e6\u4e00\u4e2a\u4e8b\u52a1\u4fee\u6539\u5e76\u63d0\u4ea4\u4e86\u3002 * \u5e7b\u8bfb \uff1a\u5f53\u4e8b\u52a1\u4e0d\u662f\u72ec\u7acb\u6267\u884c\u65f6\u53d1\u751f\u7684\u4e00\u79cd\u73b0\u8c61\uff0c\u4f8b\u5982\u7b2c\u4e00\u4e2a\u4e8b\u52a1\u5bf9\u4e00\u4e2a\u8868\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u4fee\u6539\uff0c\u8fd9\u79cd\u6570\u636e\u6d89\u53ca\u5230\u8868\u4e2d\u7684\u5168\u90e8\u6570\u636e\u884c\uff0c\u540c\u65f6\uff0c\u7b2c\u4e8c\u4e2a\u4e8b\u52a1\u4e5f\u5bf9\u8fd9\u4e2a\u8868\u6570\u636e\u8fdb\u884c\u4fee\u6539\uff0c\u8fd9\u4e2a\u4fee\u6539\u662f\u5bf9\u8868\u4e2d\u65b0\u589e/\u5220\u9664\u4e00\u6761\u6570\u636e\uff0c\u90a3\u4e48\u64cd\u4f5c\u7b2c\u4e00\u4e2a\u4e8b\u52a1\u7684\u7528\u6237\u53d1\u73b0\u8868\u4e2d\u7684\u6570\u636e\u8fd8\u6ca1\u6709\u4fee\u6539\u7684\u6570\u636e\u884c\uff0c\u5c31\u597d\u50cf\u53d1\u751f\u4e86\u5e7b\u89c9\u4e00\u6837\uff0c\u8fd9\u5c31\u662f\u53d1\u751f\u4e86\u5e7b\u8bfb\u3002 \u6ce8:\u5e7b\u8bfb\u548c\u4e0d\u53ef\u91cd\u590d\u8bfb\u90fd\u8bfb\u53d6\u53e6\u4e00\u6761\u5df2\u7ecf\u63d0\u4ea4\u7684\u4e8b\u52a1\uff0c\u6240\u4e0d\u540c\u7684\u662f\u4e0d\u53ef\u91cd\u590d\u8bfb\u67e5\u8be2\u7684\u90fd\u662f\u540c\u4e00\u6570\u636e\u9879\uff0c\u800c\u5e7b\u8bfb\u9488\u5bf9\u7684\u662f\u4e00\u6279\u6570\u636e\u6574\u4f53\u3002","title":"\u4e8b\u52a1\u7684\u5e76\u53d1\u8bbf\u95ee\u7684\u95ee\u9898\u4ee5\u53ca\u4e8b\u52a1\u7684\u9694\u79bb\u673a\u5236\u3002"},{"location":"database/#_7","text":"\u6570\u636e\u5e93\u63d0\u4f9b\u7684\u56db\u79cd\u9694\u79bb\u7ea7\u522b\uff1a Read uncommitted(\u8bfb\u672a\u63d0\u4ea4) \uff1a\u6700\u4f4e\u7ea7\u522b\uff0c\u4efb\u4f55\u60c5\u51b5\u90fd\u4f1a\u53d1\u751f\u3002 Read Committed(\u8bfb\u5df2\u63d0\u4ea4) \uff1a\u53ef\u907f\u514d\u810f\u8bfb\u7684\u53d1\u751f\uff0c\u4f1a\u53d1\u751f\u4e0d\u53ef\u91cd\u590d\u8bfb\u3002 Repeatable read(\u53ef\u91cd\u590d\u8bfb) \uff1a\u53ef\u907f\u514d\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u7684\u53d1\u751f\u3002 Serializable(\u4e32\u884c\u5316) \uff1a\u907f\u514d\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u5e7b\u8bfb\u7684\u53d1\u751f\u3002","title":"\u9694\u79bb\u7ea7\u522b\uff1a"},{"location":"database/#inoodbrr","text":"","title":"InooDB\u4e0bRR\u7ea7\u522b\u5982\u4f55\u907f\u514d\u5e7b\u8bfb"},{"location":"database/#next-keygap","text":"","title":"next-key\u9501\uff1a\u884c\u9501+Gap\u9501"},{"location":"database/#gap","text":"","title":"gap\u9501\uff1a"},{"location":"intnet/","text":"TCP\u4e09\u6b21\u63e1\u624b \u5f53\u5e94\u7528\u7a0b\u5e8f\u5e0c\u671b\u4e0e\u53e6\u4e00\u5e94\u7528\u7a0b\u5e8f\u5efa\u7acb\u901a\u4fe1\u65f6\uff0c\u4f1a\u8fdb\u884cTCP\u4e09\u6b21\u63e1\u624b\u3002\u5b8c\u6210\u4e09\u6b21\u63e1\u624b\u540e\uff0cTCP\u5c06\u5728\u4e24\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5efa\u7acb\u4e00\u4e2a\u5168\u53cc\u5de5\u901a\u4fe1\u3002 * \u7b2c\u4e00\u6b21\u63e1\u624b -\u5ba2\u6237\u7aef\u7ed9\u670d\u52a1\u7aef\u53d1\u9001\u4e00\u4e2aSYN\u62a5\u6587\uff0c\u5e76\u6307\u660e\u5ba2\u6237\u7aef\u7684\u521d\u59cb\u5316\u5e8f\u5217\u53f7\uff08syn=x\uff09,\u6b64\u65f6\u5ba2\u6237\u7aef\u5904\u4e8eSYN_Send\u72b6\u6001\u3002 * \u7b2c\u4e8c\u6b21\u63e1\u624b -\u670d\u52a1\u7aef\u5728\u63a5\u6536\u5230\u5ba2\u6237\u7aef\u53d1\u9001\u7684SYN\u62a5\u6587\u540e\u5bf9\u5176\u8fdb\u884c\u786e\u8ba4\uff08ack=x+1\uff09\uff0c\u540c\u65f6\u4ee5\u81ea\u5df1\u7684SYN\u62a5\u6587\u4f5c\u4e3a\u5e94\u7b54\uff0c\u5e76\u4e14\u4e5f\u6307\u5b9a\u81ea\u5df1\u7684\u521d\u59cb\u5316\u5e8f\u5217\u53f7\uff08syn=y\uff09,\u6b64\u65f6\u670d\u52a1\u5668\u5904\u4e8eSYN_REVD\u72b6\u6001\u3002 * \u7b2c\u4e09\u6b21\u63e1\u624b -\u5ba2\u6237\u7aef\u5728\u63a5\u6536\u5230SYN\u62a5\u6587\u540e,\u5411\u670d\u52a1\u5668\u53d1\u9001\u786e\u8ba4\u5305ACK(ack=y+1)\uff0c\u6b64\u65f6\u5ba2\u6237\u7aef\u5904\u4e8eestablised \u72b6\u6001\u3002\u670d\u52a1\u5668\u6536\u5230 ACK\u62a5\u6587\u4e4b\u540e\uff0c\u4e5f\u5904\u4e8eestablised \u72b6\u6001\uff0c\u6b64\u65f6\uff0c\u53cc\u65b9\u4ee5\u5efa\u7acb\u8d77\u4e86\u94fe\u63a5\u3002 \u4e09\u6b21\u63e1\u624b\u8fc7\u7a0b\u5982\u4e0b\uff1a SYN \u8868\u793a\u8bf7\u6c42\u5efa\u7acb\u8fde\u63a5, ACK \u8868\u793a\u786e\u8ba4\u5e8f\u53f7\uff0c seq \u4e3a\u6807\u5fd7\u6570\u636e\u5305\u5e8f\u53f7\uff0c ack \u786e\u8ba4\u5e8f\u53f7\uff08\u671f\u671b\u6536\u5230\u4e0b\u4e00\u4e2a\u6570\u636e\u5305\u7684\u5e8f\u53f7\uff09\u3002 \u4e3a\u4ec0\u4e48\u5efa\u7acb\u4e09\u6b21\u63e1\u624b \u786e\u8ba4\u5ba2\u6237\u7aef\u670d\u52a1\u7aef\u53d1\u9001\u548c\u63a5\u6536\u80fd\u529b\u662f\u5426\u6b63\u5e38\u3002 \u6307\u5b9a\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684\u521d\u59cb\u5316\u5e8f\u5217\u53f7\uff0c\u4e3a\u540e\u9762\u53ef\u9760\u4f20\u8f93\u505a\u51c6\u5907\u3002 \u91c7\u7528\u4e09\u6b21\u63e1\u624b\u662f\u4e3a\u4e86\u9632\u6b62\u5931\u6548\u7684\u8fde\u63a5\u8bf7\u6c42\u62a5\u6587\u6bb5\u7a81\u7136\u53c8\u4f20\u9001\u5230\u4e3b\u673a B \uff0c\u56e0\u800c\u4ea7\u751f\u9519 \u8bef\u3002 \u91c7\u7528\u4e24\u6b21\u63e1\u624b\u51fa\u73b0\u7684\u95ee\u9898 \u6709\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff0c\u5f53A\u53d1\u9001\u4e00\u4e2a\u6d88\u606f\u7ed9B\uff0c\u4f46\u662f\u7531\u4e8e\u7f51\u7edc\u539f\u56e0\uff0c\u6d88\u606f\u88ab\u963b\u585e\u5728\u4e86\u67d0\u4e2a\u8282\u70b9\uff0c\u7136\u540e\u963b\u585e\u7684\u65f6\u95f4\u8d85\u51fa\u8bbe\u5b9a\u7684\u65f6\u95f4\uff0cA\u4f1a\u8ba4\u4e3a\u8fd9\u4e2a\u6d88\u606f\u4e22\u5931\u4e86\uff0c\u7136\u540e\u91cd\u65b0\u53d1\u9001\u6d88\u606f\u3002\u5f53A\u548cB\u901a\u4fe1\u5b8c\u6210\u540e\uff0c\u8fd9\u4e2a\u88abA\u8ba4\u4e3a\u5931\u6548\u7684\u6d88\u606f\uff0c\u5230\u8fbe\u4e86B\u3002\u5bf9\u4e8eB\u800c\u8a00\uff0c\u4ee5\u4e3a\u8fd9\u662f\u4e00\u4e2a\u65b0\u7684\u8bf7\u6c42\u94fe\u63a5\u6d88\u606f\uff0c\u5c31\u5411A\u53d1\u9001\u786e\u8ba4\uff0c \u5bf9\u4e8eA\u800c\u8a00\uff0c\u5b83\u8ba4\u4e3a\u6ca1\u6709\u7ed9B\u518d\u6b21\u53d1\u9001\u6d88\u606f\uff08\u56e0\u4e3a\u4e0a\u6b21\u7684\u901a\u8bdd\u5df2\u7ecf\u7ed3\u675f\uff09\u6240\u6709A\u4e0d\u4f1a\u7406\u776cB\u7684\u8fd9\u4e2a\u786e\u8ba4\uff0c\u4f46\u662fB\u5219\u4f1a\u4e00\u76f4\u7b49\u5f85A\u7684\u6d88\u606f\u3002 \u8fd9\u5c31\u5bfc\u81f4\u4e86B\u7684\u65f6\u95f4\u88ab\u6d6a\u8d39\uff08\u5bf9\u4e8e\u670d\u52a1\u5668\u800c\u8a00\uff0cCPU\u7b49\u8d44\u6e90\u662f\u4e00\u79cd\u6d6a\u8d39\uff09\uff0c\u8fd9\u6837\u662f\u4e0d\u53ef\u884c\u7684\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u4e24\u6b21\u63e1\u624b\u7684\u539f\u56e0\u4e86\u3002 \u7b2c\u4e09\u6b21\u63e1\u624b\u770b\u4f3c\u591a\u4f59\u5176\u5b9e\u4e0d\u7136\uff0c\u8fd9\u4e3b\u8981\u662f\u4e3a\u4e86\u9632\u6b62\u5df2\u5931\u6548\u7684\u8bf7\u6c42\u62a5\u6587\u6bb5\u7a81\u7136\u53c8\u4f20\u9001\u5230\u4e86\u670d\u52a1\u7aef\u800c\u4ea7\u751f\u8fde\u63a5\u7684\u8bef\u5224\u3002 TCP 4\u6b21\u6325\u624b \u7b2c\u4e00\u6b21\u63e1\u624b \uff1a\u5ba2\u6237\u7aef\u53d1\u9001FIN\u5305\uff0cFIN=1,\u5e8f\u5217\u53f7seq=u,\u5173\u95ed\u5ba2\u6237\u7aef\u5230\u670d\u52a1\u7aef\u7684\u6570\u636e\u4f20\u9001\uff0c\u5ba2\u6237\u7aef\u5904\u4e8eFIN_WAITE1\u72b6\u6001\u3002 \u7b2c\u4e8c\u6b21\u63e1\u624b \uff1a\u670d\u52a1\u5668\u7aef\u63a5\u6536\u5230FIN\u5305\uff0c\u53d1\u9001\u4e00\u4e2aACK\u5305\uff0cACK=1,ack=u+1,seq=v,serve\u8fdb\u5165CLOSE_WAITE\u72b6\u6001\uff0c\u6b64\u65f6\u670d\u52a1\u5668\u53ef\u4ee5\u7ee7\u7eed\u53d1\u9001\u5176\u4ed6\u6570\u636e\u5305\u3002\u5ba2\u6237\u7aef\u6536\u5230ACK\u5305\u540e\u8fdb\u5165FIN_WAITE2\u72b6\u6001. \u7b2c\u4e09\u6b21\u63e1\u624b \uff1a\u670d\u52a1\u5668\u7aef\u53d1\u9001FIN\u5305\uff0c\u7528\u6765\u5173\u95ed\u670d\u52a1\u5668\u5230\u5ba2\u6237\u7aef\u7684\u6570\u636e\u53d1\u9001\uff0cseq=w,ack=u+1,serve\u8fdb\u5165LAST_ACK\u72b6\u6001\u3002 \u7b2c\u56db\u6b21\u63e1\u624b \uff1a\u5ba2\u6237\u7aef\u6536\u5230FIN\u5305\uff0c\u5ba2\u6237\u7aef\u8fdb\u5165TIME_WAIT\u72b6\u6001\uff0c\u63a5\u7740\u53d1\u9001\u4e00\u4e2aACK\u5305\uff0cack=w+1\uff0cseq=u+1,serve\u8fdb\u5165CLOSED\u72b6\u6001,\u5b8c\u6210\u7b2c\u56db\u6b21\u63e1\u624b\u3002 4\u6b21\u6325\u624b\u56fe\u7247\u5982\u4e0b\uff1a UDP \u9762\u5411\u975e\u8fde\u63a5\uff0c\u4e0d\u7ef4\u62a4\u8fde\u63a5\u72b6\u6001\u3002 \u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\u3002 \u652f\u6301\u5e7f\u64ad\uff0c\u5373\u540c\u65f6\u5411\u591a\u4e2a\u5ba2\u6237\u7aef\u4f20\u8f93\u76f8\u540c\u4fe1\u606f\u3002 \u6570\u636e\u5305\u53ea\u67098\u4e2a\u5b57\u8282\uff08TCP20\u4e2a\u5b57\u8282\uff09\uff0c\u5f00\u9500\u5c0f\u3002 UDP\u548cTCP\u533a\u522b TCP\u9762\u5411\u8fde\u63a5\u9700\u8981\u7ef4\u6301\u8fde\u63a5\u72b6\u6001\uff0cUDP\u662f\u65e0\u8fde\u63a5\u7684\u3002 TCP\u4fdd\u8bc1\u53ef\u9760\u6027,\u901f\u5ea6\u76f8\u5bf9\u6162\uff1bUDP\u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\uff0c\u4e0d\u4fdd\u8bc1\u53ef\u9760\u6027\u3002 TCP\u5229\u7528\u5e8f\u5217\u53f7\u4fdd\u8bc1\u6570\u636e\u5305\u7684\u987a\u5e8f\u4ea4\u4ed8\uff0cUDP\u662f\u65e0\u5e8f\u7684\u3002 TCP\u536020\u4e2a\u5b57\u8282\uff0c\u76f8\u5bf9\u8f83\u5927\uff0cUDP8\u4e2a\u5b57\u8282\u76f8\u5bf9\u8f83\u5c0f\u3002 \u5728\u6d4f\u89c8\u5668\u4e2d\u952e\u5165URL\u540e\u7ecf\u5386\u7684\u8fc7\u7a0b 1.DNS\u89e3\u6790\uff0c\u5c06URL\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684IP\uff08\u6d4f\u89c8\u5668\u4f1a\u73b0\u5728\u672c\u5730\u7f13\u5b58\u627e\u5230URL\u5bf9\u5e94\u7684IP,\u6ca1\u6709\uff0c\u4f9d\u6b21\u5230\u64cd\u4f5c\u7cfb\u7edfDNS\u7f13\u5b58->\u64cd\u4f5c\u7cfb\u7edf\u7684host\u6587\u4ef6->\u64cd\u4f5c\u7cfb\u7edf\u5c06\u57df\u540d\u53d1\u9001\u5230\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\uff09\u3002 2.TCP\u8fde\u63a5\uff0c\u627e\u5230\u5bf9\u5e94\u7684IP\u5730\u5740\u540e\uff0c\u5ba2\u6237\u7aef\u4f1a\u4e0e\u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5\u3002 3.\u53d1\u9001HTTP\u8bf7\u6c42\uff0c\u5efa\u7acbTCP\u8fde\u63a5\u6210\u529f\u540e\uff0c\u6d4f\u89c8\u5668\u4f1a\u53d1\u9001Http\u8bf7\u6c42\u7ed9\u670d\u52a1\u5668\u3002 4.\u670d\u52a1\u5668\u5904\u7406Http\u8bf7\u6c42\uff0c\u5e76\u8fd4\u56deHTTP\u62a5\u6587\u3002 5.\u65ad\u5f00TCP\u8fde\u63a5,\u6d4f\u89c8\u5668\u89e3\u6790\u6e32\u67d3\u9875\u9762\u3002 http\u6d4f\u89c8\u5668\u7f13\u5b58\u673a\u5236 \u5f85\u8865\u5145 http\u548chttps\u7684\u533a\u522b \u5f85\u8865\u5145 get\u8bf7\u6c42\u548cPOST\u7684\u533a\u522b http\u5c42\u9762 -GET\u8bf7\u6c42\u5c06\u6570\u636e\u653e\u5728\u4e86URLh\u540e\u9762\uff0cPOST\u653e\u5728Request body\u91cc\u9762\u3002 \u6570\u636e\u5e93\u5c42\u9762 -GET\u8bf7\u6c42\u7b26\u5408\u5e42\u7b49\u6027\uff08\u540c\u4e00\u4e2aurl\u548c\u540c\u6837\u7684get\u53c2\u6570\uff0c\u5448\u73b0\u7ed9\u7528\u6237\u90fd\u662f\u540c\u6837\u7684\u7ed3\u679c\uff09\u548c\u5b89\u5168\u6027\uff08get\u4e0d\u4f1a\u5f15\u8d77\u6570\u636e\u7684\u53d8\u5316\uff0c\u4f8b\u5982\u8bf4\u5bf9\u6570\u636e\u5e93\u7684\u589e\u5220\u6539\uff09\uff0cPOST\u4e0d\u7b26\u5408\u3002 \u5176\u4ed6\u65b9\u9762 -GET\u8bf7\u6c42\u53ef\u4ee5\u88ab\u4e3b\u52a8\u7f13\u5b58\uff0c\u8fd8\u6709\u957f\u5ea6\u9650\u5236\uff0c\u800cPSOT\u4e0d\u884c\uff08\u88ab\u52a8\u7f13\u5b58\uff09\u3002 \u7ec6\u8282 -GET\u4ea7\u751f\u4e00\u4e2aTCP\u6570\u636e\u5305\uff08\u5bf9\u4e8eGET\u65b9\u5f0f\u7684\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u4f1a\u628ahttp header\u548cdata\u4e00\u5e76\u53d1\u9001\u51fa\u53bb\uff0c\u670d\u52a1\u5668\u54cd\u5e94200\uff08\u8fd4\u56de\u6570\u636e\uff09\uff09; POST\u4ea7\u751f\u4e24\u4e2aTCP\u6570\u636e\u5305\uff08\u5bf9\u4e8ePOST\uff0c\u6d4f\u89c8\u5668\u5148\u53d1\u9001header\uff0c\u670d\u52a1\u5668\u54cd\u5e94100 continue\uff0c\u6d4f\u89c8\u5668\u518d\u53d1\u9001data\uff0c\u670d\u52a1\u5668\u54cd\u5e94200 ok\uff08\u8fd4\u56de\u6570\u636e\uff09\uff09\u3002 session\u548ccookies\u7684\u533a\u522b cookies *\u662f\u7531\u670d\u52a1\u5668\u53d1\u7ed9\u5ba2\u6237\u7aef\u7684\u7279\u6b8a\u4fe1\u606f \u3002 * \u5ba2\u6237\u7aef\u518d\u6b21\u8bf7\u6c42\u65f6\uff0c\u4f1a\u628acookies\u56de\u53d1\u3002 * \u670d\u52a1\u5668\u63a5\u6536\u5230\u540e\uff0c\u4f1a\u89e3\u6790cookie\u751f\u6210\u4e0e\u5ba2\u6237\u7aef\u5bf9\u5e94\u7684\u5185\u5bb9\u3002 Cooike\u7684\u8bbe\u7f6e\u53ca\u53d1\u9001\u8fc7\u7a0b\u5982\u56fe\uff1a session * \u670d\u52a1\u5668\u7aef\u7684\u673a\u5236\uff0c\u5728\u670d\u52a1\u5668\u4e0a\u4fdd\u5b58\u4fe1\u606f\u3002 * \u89e3\u6790\u5ba2\u6237\u7aef\u8bf7\u6c42\u5e76\u64cd\u4f5csession id,\u6309\u9700\u4fdd\u5b58\u72b6\u6001\u4fe1\u606f\u3002 \u533a\u522b * cookies\u5b58\u653e\u5728\u6d4f\u89c8\u5668\u4e0a\uff0csession\u6570\u636e\u653e\u5728\u670d\u52a1\u5668\u4e0a\uff0ccooKie\u4e0d\u5360\u670d\u52a1\u5668\u8d44\u6e90\u3002 * Session\u76f8\u5bf9\u4e8eCookie\u66f4\u5b89\u5168\u3002 \uff081\uff09cookie\u4e0d\u662f\u5f88\u5b89\u5168\uff0c\u522b\u4eba\u53ef\u4ee5\u5206\u6790\u5b58\u653e\u5728\u672c\u5730\u7684cookie\u5e76\u8fdb\u884ccookie\u6b3a\u9a97\uff0c\u8003\u8651\u5230\u5b89\u5168\u5e94\u5f53\u4f7f\u7528session\u3002 \uff082\uff09session\u4f1a\u5728\u4e00\u5b9a\u65f6\u95f4\u5185\u4fdd\u5b58\u5728\u670d\u52a1\u5668\u4e0a\u3002\u5f53\u8bbf\u95ee\u589e\u591a\uff0c\u4f1a\u6bd4\u8f83\u5360\u7528\u4f60\u670d\u52a1\u5668\u7684\u6027\u80fd\uff0c\u8003\u8651\u5230\u51cf\u8f7b\u670d\u52a1\u5668\u6027\u80fd\u65b9\u9762\uff0c\u5e94\u5f53\u4f7f\u7528cookie\u3002 stocket\u901a\u4fe1 socket\u662f\u5728\u5e94\u7528\u5c42\u548c\u4f20\u8f93\u5c42\u4e4b\u95f4\u7684\u4e00\u4e2a\u62bd\u8c61\u5c42\uff0c\u5b83\u628aTCP/IP\u5c42\u590d\u6742\u7684\u64cd\u4f5c\u62bd\u8c61\u4e3a\u51e0\u4e2a\u7b80\u5355\u7684\u63a5\u53e3\u4f9b\u5e94\u7528\u5c42\u8c03\u7528\u5df2\u5b9e\u73b0\u8fdb\u7a0b\u5728\u7f51\u7edc\u4e2d\u901a\u4fe1\u3002 \u901a\u4fe1\u56fe\uff1a","title":"\u8ba1\u7b97\u673a\u7f51\u7edc"},{"location":"intnet/#_1","text":"\u786e\u8ba4\u5ba2\u6237\u7aef\u670d\u52a1\u7aef\u53d1\u9001\u548c\u63a5\u6536\u80fd\u529b\u662f\u5426\u6b63\u5e38\u3002 \u6307\u5b9a\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684\u521d\u59cb\u5316\u5e8f\u5217\u53f7\uff0c\u4e3a\u540e\u9762\u53ef\u9760\u4f20\u8f93\u505a\u51c6\u5907\u3002 \u91c7\u7528\u4e09\u6b21\u63e1\u624b\u662f\u4e3a\u4e86\u9632\u6b62\u5931\u6548\u7684\u8fde\u63a5\u8bf7\u6c42\u62a5\u6587\u6bb5\u7a81\u7136\u53c8\u4f20\u9001\u5230\u4e3b\u673a B \uff0c\u56e0\u800c\u4ea7\u751f\u9519 \u8bef\u3002","title":"\u4e3a\u4ec0\u4e48\u5efa\u7acb\u4e09\u6b21\u63e1\u624b"},{"location":"intnet/#_2","text":"\u6709\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff0c\u5f53A\u53d1\u9001\u4e00\u4e2a\u6d88\u606f\u7ed9B\uff0c\u4f46\u662f\u7531\u4e8e\u7f51\u7edc\u539f\u56e0\uff0c\u6d88\u606f\u88ab\u963b\u585e\u5728\u4e86\u67d0\u4e2a\u8282\u70b9\uff0c\u7136\u540e\u963b\u585e\u7684\u65f6\u95f4\u8d85\u51fa\u8bbe\u5b9a\u7684\u65f6\u95f4\uff0cA\u4f1a\u8ba4\u4e3a\u8fd9\u4e2a\u6d88\u606f\u4e22\u5931\u4e86\uff0c\u7136\u540e\u91cd\u65b0\u53d1\u9001\u6d88\u606f\u3002\u5f53A\u548cB\u901a\u4fe1\u5b8c\u6210\u540e\uff0c\u8fd9\u4e2a\u88abA\u8ba4\u4e3a\u5931\u6548\u7684\u6d88\u606f\uff0c\u5230\u8fbe\u4e86B\u3002\u5bf9\u4e8eB\u800c\u8a00\uff0c\u4ee5\u4e3a\u8fd9\u662f\u4e00\u4e2a\u65b0\u7684\u8bf7\u6c42\u94fe\u63a5\u6d88\u606f\uff0c\u5c31\u5411A\u53d1\u9001\u786e\u8ba4\uff0c \u5bf9\u4e8eA\u800c\u8a00\uff0c\u5b83\u8ba4\u4e3a\u6ca1\u6709\u7ed9B\u518d\u6b21\u53d1\u9001\u6d88\u606f\uff08\u56e0\u4e3a\u4e0a\u6b21\u7684\u901a\u8bdd\u5df2\u7ecf\u7ed3\u675f\uff09\u6240\u6709A\u4e0d\u4f1a\u7406\u776cB\u7684\u8fd9\u4e2a\u786e\u8ba4\uff0c\u4f46\u662fB\u5219\u4f1a\u4e00\u76f4\u7b49\u5f85A\u7684\u6d88\u606f\u3002 \u8fd9\u5c31\u5bfc\u81f4\u4e86B\u7684\u65f6\u95f4\u88ab\u6d6a\u8d39\uff08\u5bf9\u4e8e\u670d\u52a1\u5668\u800c\u8a00\uff0cCPU\u7b49\u8d44\u6e90\u662f\u4e00\u79cd\u6d6a\u8d39\uff09\uff0c\u8fd9\u6837\u662f\u4e0d\u53ef\u884c\u7684\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u4e24\u6b21\u63e1\u624b\u7684\u539f\u56e0\u4e86\u3002 \u7b2c\u4e09\u6b21\u63e1\u624b\u770b\u4f3c\u591a\u4f59\u5176\u5b9e\u4e0d\u7136\uff0c\u8fd9\u4e3b\u8981\u662f\u4e3a\u4e86\u9632\u6b62\u5df2\u5931\u6548\u7684\u8bf7\u6c42\u62a5\u6587\u6bb5\u7a81\u7136\u53c8\u4f20\u9001\u5230\u4e86\u670d\u52a1\u7aef\u800c\u4ea7\u751f\u8fde\u63a5\u7684\u8bef\u5224\u3002","title":"\u91c7\u7528\u4e24\u6b21\u63e1\u624b\u51fa\u73b0\u7684\u95ee\u9898"},{"location":"intnet/#udp","text":"\u9762\u5411\u975e\u8fde\u63a5\uff0c\u4e0d\u7ef4\u62a4\u8fde\u63a5\u72b6\u6001\u3002 \u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\u3002 \u652f\u6301\u5e7f\u64ad\uff0c\u5373\u540c\u65f6\u5411\u591a\u4e2a\u5ba2\u6237\u7aef\u4f20\u8f93\u76f8\u540c\u4fe1\u606f\u3002 \u6570\u636e\u5305\u53ea\u67098\u4e2a\u5b57\u8282\uff08TCP20\u4e2a\u5b57\u8282\uff09\uff0c\u5f00\u9500\u5c0f\u3002","title":"UDP"},{"location":"intnet/#udptcp","text":"TCP\u9762\u5411\u8fde\u63a5\u9700\u8981\u7ef4\u6301\u8fde\u63a5\u72b6\u6001\uff0cUDP\u662f\u65e0\u8fde\u63a5\u7684\u3002 TCP\u4fdd\u8bc1\u53ef\u9760\u6027,\u901f\u5ea6\u76f8\u5bf9\u6162\uff1bUDP\u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\uff0c\u4e0d\u4fdd\u8bc1\u53ef\u9760\u6027\u3002 TCP\u5229\u7528\u5e8f\u5217\u53f7\u4fdd\u8bc1\u6570\u636e\u5305\u7684\u987a\u5e8f\u4ea4\u4ed8\uff0cUDP\u662f\u65e0\u5e8f\u7684\u3002 TCP\u536020\u4e2a\u5b57\u8282\uff0c\u76f8\u5bf9\u8f83\u5927\uff0cUDP8\u4e2a\u5b57\u8282\u76f8\u5bf9\u8f83\u5c0f\u3002","title":"UDP\u548cTCP\u533a\u522b"},{"location":"intnet/#url","text":"1.DNS\u89e3\u6790\uff0c\u5c06URL\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684IP\uff08\u6d4f\u89c8\u5668\u4f1a\u73b0\u5728\u672c\u5730\u7f13\u5b58\u627e\u5230URL\u5bf9\u5e94\u7684IP,\u6ca1\u6709\uff0c\u4f9d\u6b21\u5230\u64cd\u4f5c\u7cfb\u7edfDNS\u7f13\u5b58->\u64cd\u4f5c\u7cfb\u7edf\u7684host\u6587\u4ef6->\u64cd\u4f5c\u7cfb\u7edf\u5c06\u57df\u540d\u53d1\u9001\u5230\u672c\u5730\u57df\u540d\u670d\u52a1\u5668\uff09\u3002 2.TCP\u8fde\u63a5\uff0c\u627e\u5230\u5bf9\u5e94\u7684IP\u5730\u5740\u540e\uff0c\u5ba2\u6237\u7aef\u4f1a\u4e0e\u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5\u3002 3.\u53d1\u9001HTTP\u8bf7\u6c42\uff0c\u5efa\u7acbTCP\u8fde\u63a5\u6210\u529f\u540e\uff0c\u6d4f\u89c8\u5668\u4f1a\u53d1\u9001Http\u8bf7\u6c42\u7ed9\u670d\u52a1\u5668\u3002 4.\u670d\u52a1\u5668\u5904\u7406Http\u8bf7\u6c42\uff0c\u5e76\u8fd4\u56deHTTP\u62a5\u6587\u3002 5.\u65ad\u5f00TCP\u8fde\u63a5,\u6d4f\u89c8\u5668\u89e3\u6790\u6e32\u67d3\u9875\u9762\u3002","title":"\u5728\u6d4f\u89c8\u5668\u4e2d\u952e\u5165URL\u540e\u7ecf\u5386\u7684\u8fc7\u7a0b"},{"location":"intnet/#http","text":"\u5f85\u8865\u5145","title":"http\u6d4f\u89c8\u5668\u7f13\u5b58\u673a\u5236"},{"location":"intnet/#httphttps","text":"\u5f85\u8865\u5145","title":"http\u548chttps\u7684\u533a\u522b"},{"location":"intnet/#getpost","text":"http\u5c42\u9762 -GET\u8bf7\u6c42\u5c06\u6570\u636e\u653e\u5728\u4e86URLh\u540e\u9762\uff0cPOST\u653e\u5728Request body\u91cc\u9762\u3002 \u6570\u636e\u5e93\u5c42\u9762 -GET\u8bf7\u6c42\u7b26\u5408\u5e42\u7b49\u6027\uff08\u540c\u4e00\u4e2aurl\u548c\u540c\u6837\u7684get\u53c2\u6570\uff0c\u5448\u73b0\u7ed9\u7528\u6237\u90fd\u662f\u540c\u6837\u7684\u7ed3\u679c\uff09\u548c\u5b89\u5168\u6027\uff08get\u4e0d\u4f1a\u5f15\u8d77\u6570\u636e\u7684\u53d8\u5316\uff0c\u4f8b\u5982\u8bf4\u5bf9\u6570\u636e\u5e93\u7684\u589e\u5220\u6539\uff09\uff0cPOST\u4e0d\u7b26\u5408\u3002 \u5176\u4ed6\u65b9\u9762 -GET\u8bf7\u6c42\u53ef\u4ee5\u88ab\u4e3b\u52a8\u7f13\u5b58\uff0c\u8fd8\u6709\u957f\u5ea6\u9650\u5236\uff0c\u800cPSOT\u4e0d\u884c\uff08\u88ab\u52a8\u7f13\u5b58\uff09\u3002 \u7ec6\u8282 -GET\u4ea7\u751f\u4e00\u4e2aTCP\u6570\u636e\u5305\uff08\u5bf9\u4e8eGET\u65b9\u5f0f\u7684\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u4f1a\u628ahttp header\u548cdata\u4e00\u5e76\u53d1\u9001\u51fa\u53bb\uff0c\u670d\u52a1\u5668\u54cd\u5e94200\uff08\u8fd4\u56de\u6570\u636e\uff09\uff09; POST\u4ea7\u751f\u4e24\u4e2aTCP\u6570\u636e\u5305\uff08\u5bf9\u4e8ePOST\uff0c\u6d4f\u89c8\u5668\u5148\u53d1\u9001header\uff0c\u670d\u52a1\u5668\u54cd\u5e94100 continue\uff0c\u6d4f\u89c8\u5668\u518d\u53d1\u9001data\uff0c\u670d\u52a1\u5668\u54cd\u5e94200 ok\uff08\u8fd4\u56de\u6570\u636e\uff09\uff09\u3002","title":"get\u8bf7\u6c42\u548cPOST\u7684\u533a\u522b"},{"location":"intnet/#sessioncookies","text":"","title":"session\u548ccookies\u7684\u533a\u522b"},{"location":"intnet/#stocket","text":"socket\u662f\u5728\u5e94\u7528\u5c42\u548c\u4f20\u8f93\u5c42\u4e4b\u95f4\u7684\u4e00\u4e2a\u62bd\u8c61\u5c42\uff0c\u5b83\u628aTCP/IP\u5c42\u590d\u6742\u7684\u64cd\u4f5c\u62bd\u8c61\u4e3a\u51e0\u4e2a\u7b80\u5355\u7684\u63a5\u53e3\u4f9b\u5e94\u7528\u5c42\u8c03\u7528\u5df2\u5b9e\u73b0\u8fdb\u7a0b\u5728\u7f51\u7edc\u4e2d\u901a\u4fe1\u3002 \u901a\u4fe1\u56fe\uff1a","title":"stocket\u901a\u4fe1"},{"location":"javaGC/","text":"java\u5783\u573e\u56de\u6536\u673a\u5236 \u5bf9\u8c61\u88ab\u5224\u5b9a\u4e3a\u5783\u573e\u7684\u6807\u51c6 \u5f53\u67d0\u4e2a\u5bf9\u8c61\u4e0d\u88ab\u5f15\u7528\u3002 \u65b9\u6cd5\uff1a\u5f15\u7528\u8ba1\u6570\u6cd5\u548c\u548c\u53ef\u8fbe\u6027\u5206\u6790\u3002 \u5f15\u7528\u8ba1\u6570\u6cd5 \u901a\u8fc7\u5224\u65ad\u5bf9\u8c61\u7684\u5f15\u7528\u6570\u91cf\u6765\u51b3\u5b9a\u5bf9\u8c61\u662f\u5426\u53ef\u4ee5\u88ab\u56de\u6536\u3002 \u6bcf\u4e2a\u5bf9\u8c61\u90fd\u6709\u4e00\u4e2a\u5f15\u7528\u8ba1\u6570\u5668\uff0c\u6bcf\u5f53\u6709\u4e00\u4e2a\u5730\u65b9\u5f15\u7528\u5b83\uff0c\u5219\u8ba1\u6570\u5668+1\uff0c\u5f15\u7528\u5931\u6548-1\u3002\u5f53\u4efb\u4f55\u5f15\u7528\u8ba1\u6570\u4e3a0\u7684\u5bf9\u8c61\u5b9e\u5217\u53ef\u4ee5\u88ab\u5f53\u4f5c\u5783\u573e\u6536\u96c6\u3002 \u4f18\u70b9,\u7f3a\u70b9 \u4f18\u70b9\uff1a\u6267\u884c\u6548\u7387\u9ad8\uff0c\u7a0b\u5e8f\u6267\u884c\u53d7\u5f71\u54cd\u8f83\u5c0f\u3002 \u7f3a\u70b9\uff1a\u65e0\u6cd5\u68c0\u6d4b\u51fa\u5faa\u73af\u5f15\u7528\u7684\u60c5\u51b5\uff0c\u5bfc\u81f4\u5185\u5b58\u6cc4\u6f0f\u3002 \u53ef\u8fbe\u6027\u5206\u6790 \u901a\u8fc7\u4e00\u7cfb\u5217\u540d\u4e3aGCRoot\u7684\u5bf9\u8c61\u4f5c\u4e3a\u8d77\u59cb\u70b9\uff0c\u4ece\u8fd9\u4e9b\u8282\u70b9\u5f00\u59cb\u5411\u4e0b\u641c\u7d22\uff0c\u641c\u7d22\u8d70\u8fc7\u7684\u8def\u5f84\u79f0\u4e3a\u5f15\u7528\u94fe\uff0c\u5f53\u4e00\u4e2a\u5bf9\u8c61\u5230GCROOT\u6ca1\u6709\u4efb\u4f55\u5f15\u7528\u94fe\u76f8\u8fde\u65f6\uff0c\u5bf9\u8c61\u4e3a\u4e0d\u53ef\u8fbe\uff0c\u5373\u5224\u5b9a\u4e3a\u53ef\u56de\u6536\u5bf9\u8c61\u3002 \u53ef\u4ee5\u4f5c\u4e3aGCROOt\u5bf9\u8c61\u7684\u6709\uff1a a\uff1a\u865a\u62df\u673a\u6808\u4e2d\u6240\u5f15\u7528\u7684\u5bf9\u8c61\u3002 b\uff1a\u65b9\u6cd5\u533a\u4e2d\u7c7b\u9759\u6001\u5c5e\u6027\u5f15\u7528\u7684\u5bf9\u8c61\u3002 c\uff1a\u65b9\u6cd5\u533a\u5e38\u91cf\u5f15\u7528\u7684\u5bf9\u8c61\u3002 d:\u672c\u5730\u65b9\u6cd5\u6808\u4e2dJNI\u7684\u5f15\u7528\u5bf9\u8c61\u3002 \u5783\u573e\u56de\u6536\u7b97\u6cd5\u3002 \u6807\u8bb0-\u6e05\u9664\u7b97\u6cd5\uff0c\u590d\u5236\u7b97\u6cd5\uff0c\u6807\u8bb0\u6574\u7406\u7b97\u6cd5\uff0c\u5206\u4ee3\u6536\u96c6\u7b97\u6cd5 \u6807\u8bb0-\u6e05\u9664\u7b97\u6cd5 \u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\uff1a\u6807\u8bb0\u548c\u6e05\u9664\u3002 \u6807\u8bb0 :\u4ece\u6839\uff08GCROOT\uff09\u96c6\u5408\u8fdb\u884c\u626b\u63cf\uff0c\u5bf9\u5b58\u6d3b\u5bf9\u8c61\u8fdb\u884c\u6807\u8bb0\u3002 \u6e05\u7406 :\u5bf9\u5806\u5185\u5b58\u8fdb\u884c\u4ece\u5934\u5230\u5c3e\u8fdb\u884c\u626b\u63cf\uff0c\u56de\u6536\u4e0d\u53ef\u8fbe\u5bf9\u8c61\u3002 \u7f3a\u70b9\uff1a\u5bb9\u6613\u4ea7\u751f\u5927\u91cf\u5185\u5b58\u788e\u7247\uff0c\u5982\u679c\u7a7a\u95f2\u788e\u7247\u592a\u591a\uff0c\u5f53\u7a0b\u5e8f\u5206\u914d\u5927\u5bf9\u8c61\u65f6\u5bb9\u6613\u4ea7\u751fGC\u3002 \u5236\u7b97\u6cd5 \u5c06\u5185\u5b58\u6309\u5bb9\u91cf\u5206\u4e3a\u5927\u5c0f\u76f8\u7b49\u4e24\u5757\u3002 \u5728\u5176\u4e2d\u4e00\u5757\u5206\u914d\u5bf9\u8c61\u3002\u5f53\u8fd9\u5757\u5185\u5b58\u4f7f\u7528\u5b8c\u3002 \u5c06\u5b58\u6d3b\u7684\u5bf9\u8c61\u6309\u987a\u5e8f\u590d\u5236\u5230\u53e6\u4e00\u5757\u4e0a\u3002\u628a\u5df2\u4f7f\u7528\u7684\u5185\u5b58\u4e00\u6b21\u6e05\u7406\u6389\u3002\u8fd9\u6837 \u4e0d\u7528\u8003\u8651\u5185\u5b58\u788e\u7247\u7684\u95ee\u9898\uff0c\u53ea\u8981\u79fb\u52a8\u5806\u9876\u6307\u9488\uff0c\u6309\u987a\u5e8f\u5206\u914d\u5373\u53ef\u3002 \u4f18\u70b9\uff1a \u4e0d\u4f1a\u4ea7\u751f\u5185\u5b58\u788e\u7247\u3002 \u987a\u5e8f\u5206\u914d\u5185\u5b58\u7b80\u5355\u9ad8\u6548\u3002 \u4f7f\u7528\u4e8e\u5bf9\u8c61\u5b58\u6d3b\u7387\u4f4e\u7684\u573a\u666f\u3002 \u6807\u8bb0\u6574\u7406\u7b97\u6cd5 '\u6807\u8bb0'\uff1a\u4ece\u6839\uff08GCROOT\uff09\u96c6\u5408\u8fdb\u884c\u626b\u63cf\uff0c\u5bf9\u5b58\u6d3b\u5bf9\u8c61\u8fdb\u884c\u6807\u8bb0\u3002 '\u6e05\u9664':\u79fb\u52a8\u6240\u6709\u5b58\u6d3b\u5bf9\u8c61\u90fd\u4e00\u7aef(\u6309\u7167\u5185\u5b58\u5730\u5740\u987a\u5e8f\u4f9d\u6b21\u6392\u5217)\uff0c\u7136\u540e\u5c06\u672b\u7aef\u5185\u5b58\u5730\u5740\u4ee5\u540e\u7684\u5185\u5b58\u5168\u90e8\u56de\u6536\u3002 \u4f18\u70b9\uff1a\u907f\u514d\u4e86\u4ea7\u751f\u5185\u5b58\u788e\u7247\uff0c\u4e14\u4e0d\u7528\u8bbe\u7f6e\u4e24\u5757\u5185\u5b58\u4e92\u6362\u3002 \u5206\u4ee3\u6536\u96c6\u7b97\u6cd5 \u5e74\u8f7b\u4ee3\u5bf9\u8c61\u5b58\u6d3b\u7387\u4f4e\uff0c\u91c7\u7528\u590d\u5236\u7b97\u6cd5\u3002 \u8001\u5e74\u4ee3\u4e2d\u56e0\u4e3a\u5bf9\u8c61\u5b58\u6d3b\u7387\u9ad8\u3001\u6ca1\u6709\u989d\u5916\u7a7a\u95f4\u5bf9\u5b83\u8fdb\u884c\u5206\u914d\u62c5\u4fdd\uff0c\u5c31 \u5fc5\u987b\u4f7f\u7528\u201c\u6807\u8bb0-\u6e05\u7406\u201d\u6216\u8005\u201c\u6807\u8bb0-\u6574\u7406\u201d\u7b97\u6cd5\u6765\u8fdb\u884c\u56de\u6536\u3002 java\u5783\u573e\u56de\u6536\u673a\u5236 GC\u5206\u7c7b\uff1aMinor GC(\u5e74\u8f7b\u4ee3)\u548cFull GC\u3002 Minor GC \u53d1\u751fMinorGC\uff08Eden\u6ee1\u89e6\u53d1),\u91c7\u7528\u590d\u5236\u7b97\u6cd5\uff08\u5e74\u8f7b\u4ee3\u5206\u4e3aEden\u533a\u548c\u4e24\u4e2aSurivor\u533a) \u5e74\u8f7b\u4ee3\u5206\u4e3aeden\u533a\u3001from\u533a\u3001to\u533a\uff0c\u65b0\u5efa\u5bf9\u8c61\u603b\u662f\u5728eden\u533a\u4e2d\u88ab\u521b\u5efa\uff0c\u5f53eden\u533a\u7a7a\u95f4\u5df2\u6ee1\uff0c\u5c31\u89e6\u53d1\u4e00\u6b21Minorgc\uff0c\u5c06\u8fd8\u88ab\u4f7f\u7528\u7684\u5bf9\u8c61\u590d\u5236\u5230from\u533a\uff0c\u8fd9\u6837\u6574\u4e2aeden\u533a\u90fd\u662f\u672a\u88ab\u4f7f\u7528\u7684\u7a7a\u95f4\uff0c\u53ef\u4f9b\u7ee7\u7eed\u521b\u5efa\u5bf9\u8c61\uff0c\u5f53eden\u533a\u518d\u6b21\u7528\u5b8c\uff0c\u518d\u89e6\u53d1\u4e00\u6b21Minorgc\uff0c\u5c06eden\u533a\u548cfrom\u533a\u8fd8\u5728\u88ab\u4f7f\u7528\u7684\u5bf9\u8c61\u590d\u5236\u5230to\u533a\uff0c\u4e0b\u4e00\u6b21Minorgc\u5219\u662f\u5c06eden\u533a\u548cto\u533a\u8fd8\u88ab\u4f7f\u7528\u7684\u5bf9\u8c61\u590d\u5236\u5230from\u533a\u3002\u56e0\u6b64\uff0c\u7ecf\u8fc7\u591a\u6b21Minorgc\uff0c\u67d0\u4e9b\u5bf9\u8c61\u4f1a\u5728from\u533a\u548cto\u533a\u591a\u6b21\u590d\u5236\uff0c\u5982\u679c \u8d85\u8fc7\u67d0\u4e2a\u9608\u503c\u5bf9\u8c61\u8fd8\u672a\u88ab\u91ca\u653e\uff0c\u5219\u5c06\u5bf9\u8c61\u590d\u5236\u5230\u8001\u5e74\u4ee3\u3002\u5982\u679c\u8001\u5e74\u4ee3\u7a7a\u95f4\u4e5f\u5df2\u7528\u5b8c\uff0c\u90a3\u4e48\u5c31\u4f1a\u89e6\u53d1fullgc\uff0c\u5373\u6240\u8c13\u7684\u5168\u91cf\u56de\u6536\u3002 1\u3001\u590d\u5236\u5bf9\u8c61\u65e0\u6cd5\u5168\u90e8\u653e\u5165Survivor\uff0c\u53ea\u597d\u901a\u8fc7\u5206\u914d\u62c5\u4fdd\u673a\u5236\u63d0\u524d\u8f6c\u79fb\u5230\u8001\u5e74\u4ee3\u4e2d 2\u3001\u5927\u5bf9\u8c61\uff08\u957f\u5b57\u7b26\u4e32\u6216\u957f\u6570\u7ec4\u7b49\u9700\u8981\u5927\u91cf\u8fde\u7eed\u7a7a\u95f4\u7684\u5bf9\u8c61\uff09\u76f4\u63a5\u8fdb\u5165\u8001\u5e74\u4ee3(\u9632\u6b62\u5927\u5bf9\u8c61\u5728eden\u548cSurvivor\u4e2d\u7ecf\u5e38\u590d\u5236\uff09\u901a\u8fc7 -XX:PretenureSizeThreshold \u53c2\u6570\u8bbe\u7f6e\uff08\u59823MB\uff09\uff0c\u5927\u4e8e\u8fd9\u4e2a\u53c2\u6570\u7684\u76f4\u63a5\u8fdb\u5165\u8001\u5e74\u4ee3 3\u3001\u957f\u671f\u5b58\u6d3b\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\uff08\u9ed8\u8ba415\u5c81\uff09 \u8c03\u4f18\u53c2\u6570 -XX:SurvivorRatio:Eden\u548cSurvivor\u7684\u6bd4\u503c\uff0c\u9ed8\u8ba48\uff1a1 -XX:NewRatio:\u8001\u5e74\u4ee3\u548c\u5e74\u8f7b\u4ee3\u7684\u6bd4\u503c\u3002 -XX:MaxTenuringThreshold:\u5bf9\u8c61\u4ece\u5e74\u8f7b\u4ee3\u664b\u5347\u4e3a\u8001\u5e74\u4ee3\u7ecf\u8fc7GC\u6b21\u6570\u7684\u6700\u5927\u9608\u503c\u3002 \u8001\u5e74\u4ee3 \u89e6\u53d1FULLGC\u7684\u6761\u4ef6: 1\u3001\u6bcf\u6b21\u8fdb\u884cMinorGC\u65f6\uff0cJVM\u4f1a\u8ba1\u7b97Survivor\u533a\u79fb\u81f3\u8001\u5e74\u533a\u7684\u5bf9\u8c61\u7684\u5e73\u5747\u5927\u5c0f\uff0c\u5982\u679c\u8fd9\u4e2a\u503c\u5927\u4e8e\u8001\u5e74\u533a\u7684\u5269\u4f59\u503c\u5927\u5c0f\u5219\u8fdb\u884c\u4e00\u6b21FullGC 2\u3001\u8001\u5e74\u4ee3\u7a7a\u95f4\u4e0d\u8db3\u65f6\u89e6\u53d1FullGC\uff0c\u53ea\u6709\u5728\u65b0\u751f\u4ee3\u5bf9\u8c61\u8f6c\u5165\u6216\u521b\u5efa\u4e3a\u5927\u5bf9\u8c61\u3001\u5927\u6570\u7ec4\u65f6\u624d\u4f1a\u51fa\u73b0\u4e0d\u8db3\u7684\u73b0\u8c61\uff08\u5927\u5bf9\u8c61\u76f4\u63a5\u8fdb\u5165\u8001\u5e74\u4ee3\uff09\uff0c\u5206\u914d\u62c5\u4fdd 3\u3001\u6c38\u4e45\u4ee3\u6ee1\uff08\u6c38\u4e45\u4ee3JDK8\u88ab\u79fb\u9664,java8\u5143\u7a7a\u95f4\u6839\u672c\u5730\u5185\u5b58\u5173\u8054\uff09 4.\u8c03\u7528System.GC(\u80af\u80fd\u4f1a\u89e6\u53d1) Object finalize()\u65b9\u6cd5\u4f5c\u7528\u4e0eC++\u6790\u6784\u51fd\u6570\u4f5c\u7528\u533a\u522b C++\u7684\u6790\u6784\u51fd\u6570\u8c03\u7528\u662f\u786e\u5b9a\uff0c\u800cfinalize()\u662f\u4e0d\u786e\u5b9a\u7684\u3002 \u4f7f\u5728\u53ef\u8fbe\u6027\u5206\u6790\u7b97\u6cd5\u4e2d\u4e0d\u53ef\u8fbe\u7684\u5bf9\u8c61\uff0c\u4e5f\u5e76\u975e\u662f\u201c\u975e\u6b7b\u4e0d\u53ef\u201d\u7684\uff0c\u8fd9\u65f6\u5019\u5b83\u4eec\u6682\u65f6\u5904\u4e8e\u201c\u7f13\u5211\u201d\u9636\u6bb5\uff0c\u8981\u771f\u6b63\u5ba3\u544a\u4e00\u4e2a\u5bf9\u8c61\u6b7b\u4ea1\uff0c\u81f3\u5c11\u8981\u7ecf\u5386\u4e24\u6b21\u6807\u8bb0\u8fc7\u7a0b\u3002\u6807\u8bb0\u7684\u524d\u63d0\u662f\u5bf9\u8c61\u5728\u8fdb\u884c\u53ef\u8fbe\u6027\u5206\u6790\u540e\u53d1\u73b0\u6ca1\u6709\u4e0eGCRoots\u76f8\u8fde\u63a5\u7684\u5f15\u7528\u94fe\u3002 \u7b2c\u4e00\u6b21\u6807\u8bb0 :\u5982\u679c\u5bf9\u8c61\u5728\u8fdb\u884c\u53ef\u8fbe\u6027\u5206\u6790\u540e\u53d1\u73b0\u6ca1\u6709\u4e0eGC Roots\u76f8\u8fde\u63a5\u7684\u5f15\u7528\u94fe\uff0c\u90a3\u5b83\u5c06\u4f1a\u88ab\u7b2c\u4e00\u6b21\u6807\u8bb0\u5e76\u4e14\u8fdb\u884c\u4e00\u6b21\u7b5b\u9009\uff0c\u7b5b\u9009\u7684\u6761\u4ef6\u662f\u6b64\u5bf9\u8c61\u662f\u5426\u6709\u5fc5\u8981\u6267\u884cfinalize()\u65b9\u6cd5\u3002\u5f53\u5bf9\u8c61\u6ca1\u6709\u8986\u76d6finalize()\u65b9\u6cd5\uff0c\u6216\u8005finalize()\u65b9\u6cd5\u5df2\u7ecf\u88ab\u865a\u62df\u673a\u8c03\u7528\u8fc7\uff0c\u865a\u62df\u673a\u5c06\u8fd9\u4e24\u79cd\u60c5\u51b5\u90fd\u89c6\u4e3a\u201c\u6ca1\u6709\u5fc5\u8981\u6267\u884c\u201d\uff0c\u88ab\u56de\u6536\u3002 \u5982\u679c\u8fd9\u4e2a\u5bf9\u8c61\u88ab\u5224\u5b9a\u4e3a\u6709\u5fc5\u8981\u6267\u884cfinalize\u65b9\u6cd5\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5bf9\u8c61\u5c06\u4f1a\u653e\u7f6e\u5728\u4e00\u4e2a\u53eb\u505a F-Queue \u7684\u961f\u5217\u4e4b\u4e2d\uff0c\u5e76\u5728\u7a0d\u540e\u7531\u4e00\u4e2a\u7531\u865a\u62df\u673a\u81ea\u52a8\u5efa\u7acb\u7684\u3001\u4f4e\u4f18\u5148\u7ea7\u7684Finalizer\u7ebf\u7a0b\u53bb\u6267\u884c\u5b83(\u4e0d\u4fdd\u8bc1finalize\u65b9\u6cd5\u4f1a\u6267\u884c\u5b8c\uff0c\u968f\u65f6\u53ef\u80fd\u7ec8\u6b62)\u3002 \u7b2c\u4e8c\u6b21\u6807\u8bb0 \uff1aGC\u5c06\u5bf9F-Queue\u4e2d\u7684\u5bf9\u8c61\u8fdb\u884c\u7b2c\u4e8c\u6b21\u5c0f\u89c4\u6a21\u7684\u6807\u8bb0\uff0c\u5982\u679c\u5bf9\u8c61\u8981\u5728finalize()\u4e2d\u6210\u529f\u62ef\u6551\u81ea\u5df1\u2014\u2014\u53ea\u8981\u91cd\u65b0\u4e0e\u5f15\u7528\u94fe\u4e0a\u7684\u4efb\u4f55\u4e00\u4e2a\u5bf9\u8c61\u5efa\u7acb\u5173\u8054\u5373\u53ef\uff0c\u8b6c\u5982\u628a\u81ea\u5df1\uff08this\u5173\u952e\u5b57\uff09\u8d4b\u503c\u7ed9\u67d0\u4e2a\u7c7b\u53d8\u91cf\u6216\u8005\u5bf9\u8c61\u7684\u6210\u5458\u53d8\u91cf\uff0c\u90a3\u5728\u7b2c\u4e8c\u6b21\u6807\u8bb0\u65f6\u5b83\u5c06\u88ab\u79fb\u9664\u51fa\u201c\u5373\u5c06\u56de\u6536\u201d\u7684\u96c6\u5408\uff1b\u5982\u679c\u5bf9\u8c61\u8fd9\u65f6\u5019\u8fd8\u6ca1\u6709\u9003\u8131\uff0c\u90a3\u57fa\u672c\u4e0a\u5b83\u5c31\u771f\u7684\u88ab\u56de\u6536\u4e86\u3002(\u4e3a\u5bf9\u8c61\u63d0\u4f9b\u4e86\u91cd\u751f\u7684\u673a\u4f1a)","title":"GC"},{"location":"javaGC/#_1","text":"\u5f53\u67d0\u4e2a\u5bf9\u8c61\u4e0d\u88ab\u5f15\u7528\u3002 \u65b9\u6cd5\uff1a\u5f15\u7528\u8ba1\u6570\u6cd5\u548c\u548c\u53ef\u8fbe\u6027\u5206\u6790\u3002","title":"\u5bf9\u8c61\u88ab\u5224\u5b9a\u4e3a\u5783\u573e\u7684\u6807\u51c6"},{"location":"javaGC/#_2","text":"\u901a\u8fc7\u5224\u65ad\u5bf9\u8c61\u7684\u5f15\u7528\u6570\u91cf\u6765\u51b3\u5b9a\u5bf9\u8c61\u662f\u5426\u53ef\u4ee5\u88ab\u56de\u6536\u3002 \u6bcf\u4e2a\u5bf9\u8c61\u90fd\u6709\u4e00\u4e2a\u5f15\u7528\u8ba1\u6570\u5668\uff0c\u6bcf\u5f53\u6709\u4e00\u4e2a\u5730\u65b9\u5f15\u7528\u5b83\uff0c\u5219\u8ba1\u6570\u5668+1\uff0c\u5f15\u7528\u5931\u6548-1\u3002\u5f53\u4efb\u4f55\u5f15\u7528\u8ba1\u6570\u4e3a0\u7684\u5bf9\u8c61\u5b9e\u5217\u53ef\u4ee5\u88ab\u5f53\u4f5c\u5783\u573e\u6536\u96c6\u3002","title":"\u5f15\u7528\u8ba1\u6570\u6cd5"},{"location":"javaGC/#_3","text":"\u4f18\u70b9\uff1a\u6267\u884c\u6548\u7387\u9ad8\uff0c\u7a0b\u5e8f\u6267\u884c\u53d7\u5f71\u54cd\u8f83\u5c0f\u3002 \u7f3a\u70b9\uff1a\u65e0\u6cd5\u68c0\u6d4b\u51fa\u5faa\u73af\u5f15\u7528\u7684\u60c5\u51b5\uff0c\u5bfc\u81f4\u5185\u5b58\u6cc4\u6f0f\u3002","title":"\u4f18\u70b9,\u7f3a\u70b9"},{"location":"javaGC/#_4","text":"\u901a\u8fc7\u4e00\u7cfb\u5217\u540d\u4e3aGCRoot\u7684\u5bf9\u8c61\u4f5c\u4e3a\u8d77\u59cb\u70b9\uff0c\u4ece\u8fd9\u4e9b\u8282\u70b9\u5f00\u59cb\u5411\u4e0b\u641c\u7d22\uff0c\u641c\u7d22\u8d70\u8fc7\u7684\u8def\u5f84\u79f0\u4e3a\u5f15\u7528\u94fe\uff0c\u5f53\u4e00\u4e2a\u5bf9\u8c61\u5230GCROOT\u6ca1\u6709\u4efb\u4f55\u5f15\u7528\u94fe\u76f8\u8fde\u65f6\uff0c\u5bf9\u8c61\u4e3a\u4e0d\u53ef\u8fbe\uff0c\u5373\u5224\u5b9a\u4e3a\u53ef\u56de\u6536\u5bf9\u8c61\u3002","title":"\u53ef\u8fbe\u6027\u5206\u6790"},{"location":"javaGC/#gcroot","text":"a\uff1a\u865a\u62df\u673a\u6808\u4e2d\u6240\u5f15\u7528\u7684\u5bf9\u8c61\u3002 b\uff1a\u65b9\u6cd5\u533a\u4e2d\u7c7b\u9759\u6001\u5c5e\u6027\u5f15\u7528\u7684\u5bf9\u8c61\u3002 c\uff1a\u65b9\u6cd5\u533a\u5e38\u91cf\u5f15\u7528\u7684\u5bf9\u8c61\u3002 d:\u672c\u5730\u65b9\u6cd5\u6808\u4e2dJNI\u7684\u5f15\u7528\u5bf9\u8c61\u3002","title":"\u53ef\u4ee5\u4f5c\u4e3aGCROOt\u5bf9\u8c61\u7684\u6709\uff1a"},{"location":"javaGC/#_5","text":"\u6807\u8bb0-\u6e05\u9664\u7b97\u6cd5\uff0c\u590d\u5236\u7b97\u6cd5\uff0c\u6807\u8bb0\u6574\u7406\u7b97\u6cd5\uff0c\u5206\u4ee3\u6536\u96c6\u7b97\u6cd5","title":"\u5783\u573e\u56de\u6536\u7b97\u6cd5\u3002"},{"location":"javaGC/#-","text":"\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\uff1a\u6807\u8bb0\u548c\u6e05\u9664\u3002 \u6807\u8bb0 :\u4ece\u6839\uff08GCROOT\uff09\u96c6\u5408\u8fdb\u884c\u626b\u63cf\uff0c\u5bf9\u5b58\u6d3b\u5bf9\u8c61\u8fdb\u884c\u6807\u8bb0\u3002 \u6e05\u7406 :\u5bf9\u5806\u5185\u5b58\u8fdb\u884c\u4ece\u5934\u5230\u5c3e\u8fdb\u884c\u626b\u63cf\uff0c\u56de\u6536\u4e0d\u53ef\u8fbe\u5bf9\u8c61\u3002 \u7f3a\u70b9\uff1a\u5bb9\u6613\u4ea7\u751f\u5927\u91cf\u5185\u5b58\u788e\u7247\uff0c\u5982\u679c\u7a7a\u95f2\u788e\u7247\u592a\u591a\uff0c\u5f53\u7a0b\u5e8f\u5206\u914d\u5927\u5bf9\u8c61\u65f6\u5bb9\u6613\u4ea7\u751fGC\u3002","title":"\u6807\u8bb0-\u6e05\u9664\u7b97\u6cd5"},{"location":"javaGC/#_6","text":"\u5c06\u5185\u5b58\u6309\u5bb9\u91cf\u5206\u4e3a\u5927\u5c0f\u76f8\u7b49\u4e24\u5757\u3002 \u5728\u5176\u4e2d\u4e00\u5757\u5206\u914d\u5bf9\u8c61\u3002\u5f53\u8fd9\u5757\u5185\u5b58\u4f7f\u7528\u5b8c\u3002 \u5c06\u5b58\u6d3b\u7684\u5bf9\u8c61\u6309\u987a\u5e8f\u590d\u5236\u5230\u53e6\u4e00\u5757\u4e0a\u3002\u628a\u5df2\u4f7f\u7528\u7684\u5185\u5b58\u4e00\u6b21\u6e05\u7406\u6389\u3002\u8fd9\u6837 \u4e0d\u7528\u8003\u8651\u5185\u5b58\u788e\u7247\u7684\u95ee\u9898\uff0c\u53ea\u8981\u79fb\u52a8\u5806\u9876\u6307\u9488\uff0c\u6309\u987a\u5e8f\u5206\u914d\u5373\u53ef\u3002 \u4f18\u70b9\uff1a \u4e0d\u4f1a\u4ea7\u751f\u5185\u5b58\u788e\u7247\u3002 \u987a\u5e8f\u5206\u914d\u5185\u5b58\u7b80\u5355\u9ad8\u6548\u3002 \u4f7f\u7528\u4e8e\u5bf9\u8c61\u5b58\u6d3b\u7387\u4f4e\u7684\u573a\u666f\u3002","title":"\u5236\u7b97\u6cd5"},{"location":"javaGC/#_7","text":"'\u6807\u8bb0'\uff1a\u4ece\u6839\uff08GCROOT\uff09\u96c6\u5408\u8fdb\u884c\u626b\u63cf\uff0c\u5bf9\u5b58\u6d3b\u5bf9\u8c61\u8fdb\u884c\u6807\u8bb0\u3002 '\u6e05\u9664':\u79fb\u52a8\u6240\u6709\u5b58\u6d3b\u5bf9\u8c61\u90fd\u4e00\u7aef(\u6309\u7167\u5185\u5b58\u5730\u5740\u987a\u5e8f\u4f9d\u6b21\u6392\u5217)\uff0c\u7136\u540e\u5c06\u672b\u7aef\u5185\u5b58\u5730\u5740\u4ee5\u540e\u7684\u5185\u5b58\u5168\u90e8\u56de\u6536\u3002 \u4f18\u70b9\uff1a\u907f\u514d\u4e86\u4ea7\u751f\u5185\u5b58\u788e\u7247\uff0c\u4e14\u4e0d\u7528\u8bbe\u7f6e\u4e24\u5757\u5185\u5b58\u4e92\u6362\u3002","title":"\u6807\u8bb0\u6574\u7406\u7b97\u6cd5"},{"location":"javaGC/#_8","text":"\u5e74\u8f7b\u4ee3\u5bf9\u8c61\u5b58\u6d3b\u7387\u4f4e\uff0c\u91c7\u7528\u590d\u5236\u7b97\u6cd5\u3002 \u8001\u5e74\u4ee3\u4e2d\u56e0\u4e3a\u5bf9\u8c61\u5b58\u6d3b\u7387\u9ad8\u3001\u6ca1\u6709\u989d\u5916\u7a7a\u95f4\u5bf9\u5b83\u8fdb\u884c\u5206\u914d\u62c5\u4fdd\uff0c\u5c31 \u5fc5\u987b\u4f7f\u7528\u201c\u6807\u8bb0-\u6e05\u7406\u201d\u6216\u8005\u201c\u6807\u8bb0-\u6574\u7406\u201d\u7b97\u6cd5\u6765\u8fdb\u884c\u56de\u6536\u3002","title":"\u5206\u4ee3\u6536\u96c6\u7b97\u6cd5"},{"location":"javaGC/#java","text":"GC\u5206\u7c7b\uff1aMinor GC(\u5e74\u8f7b\u4ee3)\u548cFull GC\u3002 Minor GC \u53d1\u751fMinorGC\uff08Eden\u6ee1\u89e6\u53d1),\u91c7\u7528\u590d\u5236\u7b97\u6cd5\uff08\u5e74\u8f7b\u4ee3\u5206\u4e3aEden\u533a\u548c\u4e24\u4e2aSurivor\u533a) \u5e74\u8f7b\u4ee3\u5206\u4e3aeden\u533a\u3001from\u533a\u3001to\u533a\uff0c\u65b0\u5efa\u5bf9\u8c61\u603b\u662f\u5728eden\u533a\u4e2d\u88ab\u521b\u5efa\uff0c\u5f53eden\u533a\u7a7a\u95f4\u5df2\u6ee1\uff0c\u5c31\u89e6\u53d1\u4e00\u6b21Minorgc\uff0c\u5c06\u8fd8\u88ab\u4f7f\u7528\u7684\u5bf9\u8c61\u590d\u5236\u5230from\u533a\uff0c\u8fd9\u6837\u6574\u4e2aeden\u533a\u90fd\u662f\u672a\u88ab\u4f7f\u7528\u7684\u7a7a\u95f4\uff0c\u53ef\u4f9b\u7ee7\u7eed\u521b\u5efa\u5bf9\u8c61\uff0c\u5f53eden\u533a\u518d\u6b21\u7528\u5b8c\uff0c\u518d\u89e6\u53d1\u4e00\u6b21Minorgc\uff0c\u5c06eden\u533a\u548cfrom\u533a\u8fd8\u5728\u88ab\u4f7f\u7528\u7684\u5bf9\u8c61\u590d\u5236\u5230to\u533a\uff0c\u4e0b\u4e00\u6b21Minorgc\u5219\u662f\u5c06eden\u533a\u548cto\u533a\u8fd8\u88ab\u4f7f\u7528\u7684\u5bf9\u8c61\u590d\u5236\u5230from\u533a\u3002\u56e0\u6b64\uff0c\u7ecf\u8fc7\u591a\u6b21Minorgc\uff0c\u67d0\u4e9b\u5bf9\u8c61\u4f1a\u5728from\u533a\u548cto\u533a\u591a\u6b21\u590d\u5236\uff0c\u5982\u679c \u8d85\u8fc7\u67d0\u4e2a\u9608\u503c\u5bf9\u8c61\u8fd8\u672a\u88ab\u91ca\u653e\uff0c\u5219\u5c06\u5bf9\u8c61\u590d\u5236\u5230\u8001\u5e74\u4ee3\u3002\u5982\u679c\u8001\u5e74\u4ee3\u7a7a\u95f4\u4e5f\u5df2\u7528\u5b8c\uff0c\u90a3\u4e48\u5c31\u4f1a\u89e6\u53d1fullgc\uff0c\u5373\u6240\u8c13\u7684\u5168\u91cf\u56de\u6536\u3002 1\u3001\u590d\u5236\u5bf9\u8c61\u65e0\u6cd5\u5168\u90e8\u653e\u5165Survivor\uff0c\u53ea\u597d\u901a\u8fc7\u5206\u914d\u62c5\u4fdd\u673a\u5236\u63d0\u524d\u8f6c\u79fb\u5230\u8001\u5e74\u4ee3\u4e2d 2\u3001\u5927\u5bf9\u8c61\uff08\u957f\u5b57\u7b26\u4e32\u6216\u957f\u6570\u7ec4\u7b49\u9700\u8981\u5927\u91cf\u8fde\u7eed\u7a7a\u95f4\u7684\u5bf9\u8c61\uff09\u76f4\u63a5\u8fdb\u5165\u8001\u5e74\u4ee3(\u9632\u6b62\u5927\u5bf9\u8c61\u5728eden\u548cSurvivor\u4e2d\u7ecf\u5e38\u590d\u5236\uff09\u901a\u8fc7 -XX:PretenureSizeThreshold \u53c2\u6570\u8bbe\u7f6e\uff08\u59823MB\uff09\uff0c\u5927\u4e8e\u8fd9\u4e2a\u53c2\u6570\u7684\u76f4\u63a5\u8fdb\u5165\u8001\u5e74\u4ee3 3\u3001\u957f\u671f\u5b58\u6d3b\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\uff08\u9ed8\u8ba415\u5c81\uff09","title":"java\u5783\u573e\u56de\u6536\u673a\u5236"},{"location":"javaGC/#_9","text":"-XX:SurvivorRatio:Eden\u548cSurvivor\u7684\u6bd4\u503c\uff0c\u9ed8\u8ba48\uff1a1 -XX:NewRatio:\u8001\u5e74\u4ee3\u548c\u5e74\u8f7b\u4ee3\u7684\u6bd4\u503c\u3002 -XX:MaxTenuringThreshold:\u5bf9\u8c61\u4ece\u5e74\u8f7b\u4ee3\u664b\u5347\u4e3a\u8001\u5e74\u4ee3\u7ecf\u8fc7GC\u6b21\u6570\u7684\u6700\u5927\u9608\u503c\u3002","title":"\u8c03\u4f18\u53c2\u6570"},{"location":"javaGC/#_10","text":"\u89e6\u53d1FULLGC\u7684\u6761\u4ef6: 1\u3001\u6bcf\u6b21\u8fdb\u884cMinorGC\u65f6\uff0cJVM\u4f1a\u8ba1\u7b97Survivor\u533a\u79fb\u81f3\u8001\u5e74\u533a\u7684\u5bf9\u8c61\u7684\u5e73\u5747\u5927\u5c0f\uff0c\u5982\u679c\u8fd9\u4e2a\u503c\u5927\u4e8e\u8001\u5e74\u533a\u7684\u5269\u4f59\u503c\u5927\u5c0f\u5219\u8fdb\u884c\u4e00\u6b21FullGC 2\u3001\u8001\u5e74\u4ee3\u7a7a\u95f4\u4e0d\u8db3\u65f6\u89e6\u53d1FullGC\uff0c\u53ea\u6709\u5728\u65b0\u751f\u4ee3\u5bf9\u8c61\u8f6c\u5165\u6216\u521b\u5efa\u4e3a\u5927\u5bf9\u8c61\u3001\u5927\u6570\u7ec4\u65f6\u624d\u4f1a\u51fa\u73b0\u4e0d\u8db3\u7684\u73b0\u8c61\uff08\u5927\u5bf9\u8c61\u76f4\u63a5\u8fdb\u5165\u8001\u5e74\u4ee3\uff09\uff0c\u5206\u914d\u62c5\u4fdd 3\u3001\u6c38\u4e45\u4ee3\u6ee1\uff08\u6c38\u4e45\u4ee3JDK8\u88ab\u79fb\u9664,java8\u5143\u7a7a\u95f4\u6839\u672c\u5730\u5185\u5b58\u5173\u8054\uff09 4.\u8c03\u7528System.GC(\u80af\u80fd\u4f1a\u89e6\u53d1)","title":"\u8001\u5e74\u4ee3"},{"location":"javaGC/#object-finalizec","text":"C++\u7684\u6790\u6784\u51fd\u6570\u8c03\u7528\u662f\u786e\u5b9a\uff0c\u800cfinalize()\u662f\u4e0d\u786e\u5b9a\u7684\u3002 \u4f7f\u5728\u53ef\u8fbe\u6027\u5206\u6790\u7b97\u6cd5\u4e2d\u4e0d\u53ef\u8fbe\u7684\u5bf9\u8c61\uff0c\u4e5f\u5e76\u975e\u662f\u201c\u975e\u6b7b\u4e0d\u53ef\u201d\u7684\uff0c\u8fd9\u65f6\u5019\u5b83\u4eec\u6682\u65f6\u5904\u4e8e\u201c\u7f13\u5211\u201d\u9636\u6bb5\uff0c\u8981\u771f\u6b63\u5ba3\u544a\u4e00\u4e2a\u5bf9\u8c61\u6b7b\u4ea1\uff0c\u81f3\u5c11\u8981\u7ecf\u5386\u4e24\u6b21\u6807\u8bb0\u8fc7\u7a0b\u3002\u6807\u8bb0\u7684\u524d\u63d0\u662f\u5bf9\u8c61\u5728\u8fdb\u884c\u53ef\u8fbe\u6027\u5206\u6790\u540e\u53d1\u73b0\u6ca1\u6709\u4e0eGCRoots\u76f8\u8fde\u63a5\u7684\u5f15\u7528\u94fe\u3002 \u7b2c\u4e00\u6b21\u6807\u8bb0 :\u5982\u679c\u5bf9\u8c61\u5728\u8fdb\u884c\u53ef\u8fbe\u6027\u5206\u6790\u540e\u53d1\u73b0\u6ca1\u6709\u4e0eGC Roots\u76f8\u8fde\u63a5\u7684\u5f15\u7528\u94fe\uff0c\u90a3\u5b83\u5c06\u4f1a\u88ab\u7b2c\u4e00\u6b21\u6807\u8bb0\u5e76\u4e14\u8fdb\u884c\u4e00\u6b21\u7b5b\u9009\uff0c\u7b5b\u9009\u7684\u6761\u4ef6\u662f\u6b64\u5bf9\u8c61\u662f\u5426\u6709\u5fc5\u8981\u6267\u884cfinalize()\u65b9\u6cd5\u3002\u5f53\u5bf9\u8c61\u6ca1\u6709\u8986\u76d6finalize()\u65b9\u6cd5\uff0c\u6216\u8005finalize()\u65b9\u6cd5\u5df2\u7ecf\u88ab\u865a\u62df\u673a\u8c03\u7528\u8fc7\uff0c\u865a\u62df\u673a\u5c06\u8fd9\u4e24\u79cd\u60c5\u51b5\u90fd\u89c6\u4e3a\u201c\u6ca1\u6709\u5fc5\u8981\u6267\u884c\u201d\uff0c\u88ab\u56de\u6536\u3002 \u5982\u679c\u8fd9\u4e2a\u5bf9\u8c61\u88ab\u5224\u5b9a\u4e3a\u6709\u5fc5\u8981\u6267\u884cfinalize\u65b9\u6cd5\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5bf9\u8c61\u5c06\u4f1a\u653e\u7f6e\u5728\u4e00\u4e2a\u53eb\u505a F-Queue \u7684\u961f\u5217\u4e4b\u4e2d\uff0c\u5e76\u5728\u7a0d\u540e\u7531\u4e00\u4e2a\u7531\u865a\u62df\u673a\u81ea\u52a8\u5efa\u7acb\u7684\u3001\u4f4e\u4f18\u5148\u7ea7\u7684Finalizer\u7ebf\u7a0b\u53bb\u6267\u884c\u5b83(\u4e0d\u4fdd\u8bc1finalize\u65b9\u6cd5\u4f1a\u6267\u884c\u5b8c\uff0c\u968f\u65f6\u53ef\u80fd\u7ec8\u6b62)\u3002 \u7b2c\u4e8c\u6b21\u6807\u8bb0 \uff1aGC\u5c06\u5bf9F-Queue\u4e2d\u7684\u5bf9\u8c61\u8fdb\u884c\u7b2c\u4e8c\u6b21\u5c0f\u89c4\u6a21\u7684\u6807\u8bb0\uff0c\u5982\u679c\u5bf9\u8c61\u8981\u5728finalize()\u4e2d\u6210\u529f\u62ef\u6551\u81ea\u5df1\u2014\u2014\u53ea\u8981\u91cd\u65b0\u4e0e\u5f15\u7528\u94fe\u4e0a\u7684\u4efb\u4f55\u4e00\u4e2a\u5bf9\u8c61\u5efa\u7acb\u5173\u8054\u5373\u53ef\uff0c\u8b6c\u5982\u628a\u81ea\u5df1\uff08this\u5173\u952e\u5b57\uff09\u8d4b\u503c\u7ed9\u67d0\u4e2a\u7c7b\u53d8\u91cf\u6216\u8005\u5bf9\u8c61\u7684\u6210\u5458\u53d8\u91cf\uff0c\u90a3\u5728\u7b2c\u4e8c\u6b21\u6807\u8bb0\u65f6\u5b83\u5c06\u88ab\u79fb\u9664\u51fa\u201c\u5373\u5c06\u56de\u6536\u201d\u7684\u96c6\u5408\uff1b\u5982\u679c\u5bf9\u8c61\u8fd9\u65f6\u5019\u8fd8\u6ca1\u6709\u9003\u8131\uff0c\u90a3\u57fa\u672c\u4e0a\u5b83\u5c31\u771f\u7684\u88ab\u56de\u6536\u4e86\u3002(\u4e3a\u5bf9\u8c61\u63d0\u4f9b\u4e86\u91cd\u751f\u7684\u673a\u4f1a)","title":"Object finalize()\u65b9\u6cd5\u4f5c\u7528\u4e0eC++\u6790\u6784\u51fd\u6570\u4f5c\u7528\u533a\u522b"},{"location":"lock/","text":"Synchronized \u9501\u5206\u7c7b\uff1a\u5bf9\u8c61\u9501\u548c\u7c7b\u9501\u3002 \u83b7\u53d6\u5bf9\u8c61\u9501\u7684\u4e24\u79cd\u65b9\u5f0f 1\u540c\u6b65\u4ee3\u7801\u5757 synchronized(this){ //\u76f8\u5e94\u4ee3\u7801\u5757 //\u9501\u662f\u5c0f\u62ec\u53f7\u4e2d\u7684\u5b9e\u4f8b\u5bf9\u8c61 } 2\u540c\u6b65\u975e\u9759\u6001\u65b9\u6cd5\uff08synchronized method),\u9501\u662f\u5f53\u524d\u5bf9\u8c61\u7684\u5b9e\u4f8b\u5bf9\u8c61\u3002 \u83b7\u53d6\u7c7b\u9501 1\u540c\u6b65\u4ee3\u7801\u5757 synchronized(\u7c7b.class){} 2\u540c\u6b65\u9759\u6001\u65b9\u6cd5\uff08synchronized static method\uff09 \u5bf9\u8c61\u9501\u548c\u7c7b\u9501\uff1a \u5f53\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u53d6\u5bf9\u8c61\u9501\u540e\uff0c\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u8be5\u5bf9\u8c61\u7684\u975e\u540c\u6b65\u65b9\u6cd5\u3002 \u540c\u4e00\u4e2a\u7c7b\u5404\u4e2a\u5bf9\u8c61\u7684\u5bf9\u8c61\u9501\u4e92\u4e0d\u5e72\u6270\uff0c\u7c7b\u9501\u548c\u5bf9\u8c61\u9501\u4e92\u4e0d\u5e72\u6270\u3002 synchronized \u5e95\u5c42\u5b9e\u73b0 \u57fa\u7840 \u5bf9\u8c61\u5934 Monitor \u5bf9\u8c61\u5728\u5185\u5b58\u4e2d\u7684\u5e03\u5c40 \u5bf9\u8c61\u5934 \u5b9e\u4f8b\u6570\u636e \u5bf9\u9f50\u586b\u5145 \u5bf9\u8c61\u5934\u7531 Mark Word \u548c Class Metadata Address Mark word\u7ed3\u6784\uff1a Monitor Monitor:\u6bcf\u4e2ajava\u5bf9\u8c61\u5929\u751f\u81ea\u5e26\u7684\u4e00\u628a\u770b\u4e0d\u89c1\u7684\u9501\u3002 ObjectMonitor() { _header = NULL;//markOop\u5bf9\u8c61\u5934 _count = 0; //\u5f97\u5230\u9501\u8ba1\u6570+1\uff0c\u91cd\u5165\u4e00\u6b21\u518d\u52a01 _waiters = 0,//\u7b49\u5f85\u7ebf\u7a0b\u6570 _recursions = 0;//\u91cd\u5165\u6b21\u6570 //\u76d1\u89c6\u5668\u9501\u5bc4\u751f\u7684\u5bf9\u8c61\u3002\u9501\u4e0d\u662f\u5e73\u767d\u51fa\u73b0\u7684\uff0c\u800c\u662f\u5bc4\u6258\u5b58\u50a8\u4e8e\u5bf9\u8c61\u4e2d _object = NULL; _owner = NULL;//\u6307\u5411\u83b7\u5f97ObjectMonitor\u5bf9\u8c61\u7684\u7ebf\u7a0b\u6216\u57fa\u7840\u9501 _WaitSet = NULL;//\u5904\u4e8ewait\u72b6\u6001\u7684\u7ebf\u7a0b\uff0c\u4f1a\u88ab\u52a0\u5165\u5230wait set\uff1b _WaitSetLock = 0 ; _Responsible = NULL ; _succ = NULL ; _cxq = NULL ; FreeNext = NULL ; _EntryList = NULL ;//\u5904\u4e8e\u7b49\u5f85\u9501\u7684\u7ebf\u7a0b\uff0c\u4f1a\u88ab\u52a0\u5165\u5230entry set\uff1b _SpinFreq = 0 ; _SpinClock = 0 ; OwnerIsThread = 0 ;// _owner is (Thread *) vs SP/BasicLock _previous_owner_tid = 0; // \u76d1\u89c6\u5668\u524d\u4e00\u4e2a\u62e5\u6709\u8005\u7ebf\u7a0b\u7684ID } JDK6\u4e4b\u524dsynchronized \u5c5e\u4e8e\u91cd\u91cf\u7ea7\u9501\uff0c\u4f9d\u8d56\u4e8eMutex Lock\u5b9e\u73b0\u3002 \u7ebf\u7a0b\u4e4b\u95f4\u5207\u6362\u9700\u8981\u4ece\u7528\u6237\u6001\u8f6c\u5230\u6838\u5fc3\u6001\uff0c\u5f00\u9500\u5927\u3002 JAVA6\u4e4b\u540e\uff0cSynchronized\u7684\u6539\u8fdb\u3002 \u5f85\u8865\u5145 \u81ea\u65cb\u9501 \u901a\u8fc7\u7ebf\u7a0b\u6267\u884c\u5fd9\u5faa\u73af\u7b49\u5f85\u9501\u7684\u91ca\u653e\uff0c\u4e0d\u8ba9\u51faCPU\u3002\u5171\u4eab\u6570\u636e\u7684\u9501\u5b9a\u72b6\u6001\u6301\u7eed\u65f6\u95f4\u8f83\u77ed\uff0c\u5207\u6362\u7ebf\u7a0b\u4e0d\u503c\u5f97\uff0c\u907f\u514d\u7ebf\u7a0b\u4e4b\u95f4\u7684\u5f00\u9500\u3002 \u7f3a\u70b9\uff1a\u82e5\u9501\u88ab\u5176\u4ed6\u7ebf\u7a0b\u957f\u65f6\u95f4\u5360\u7528\uff0c\u4f1a\u5e26\u6765\u8bb8\u591a\u6027\u80fd\u4e0a\u7684\u5f00\u9500\u3002\uff08\u6539\u8fdb\uff1a\u901a\u8fc7-XX:PreBlockSpin\u8bbe\u5b9a\u81ea\u65cb\u6b21\u6570 \uff0c\u5982\u679c\u8d85\u8fc7\u8be5\u503c\uff0c\u91ca\u653eCPU)\u3002 \u81ea\u9002\u5e94\u81ea\u65cb\u9501 \u81ea\u65cb\u7684\u6b21\u6570\u4e0d\u518d\u56fa\u5b9a\u3002 \u7531\u524d\u4e00\u6b21\u5728\u540c\u4e00\u4e2a\u9501\u4e0a\u7684\u81ea\u65cb\u65f6\u95f4\u53ca\u9501\u7684\u62e5\u6709\u8005\u7684\u72b6\u6001\u6765\u51b3\u5b9a\u3002 \u9501\u6d88\u9664 \u9501\u7c97\u5316 synchronized\u7684\u56db\u79cd\u72b6\u6001 \u65e0\u9501\uff0c\u504f\u5411\u9501\uff0c\u8f7b\u91cf\u7ea7\u9501\uff0c\u91cd\u91cf\u7ea7\u9501\u3002 \u9501\u7684\u5347\u7ea7\u65b9\u5411\uff1a\u65e0\u9501\u2014\u2014>\u504f\u5411\u9501\u2014\u2014>\u8f7b\u91cf\u7ea7\u9501\u2014\u2014>\u91cd\u91cf\u7ea7\u9501\u3002 \u504f\u5411\u9501\uff1a \u51cf\u5c11\u540c\u4e00\u7ebf\u7a0b\u83b7\u53d6\u9501\u7684\u4ee3\u4ef7 \u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6240\u4e0d\u5b58\u5728\u591a\u7ebf\u7a0b\u7ade\u4e89\uff0c\u603b\u662f\u7531\u540c\u4e00\u4e2a\u7ebf\u7a0b\u591a\u6b21\u83b7\u5f97\u3002 \u6838\u5fc3\u601d\u60f3\uff1a\u5982\u679c\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u5f97\u4e86\u9501\uff0c\u5c31\u8fdb\u5165\u504f\u5411\u9501\u6a21\u5f0f\uff0c\u6b64\u65f6MarkWord \u7684\u7ed3\u6784\u4e5f\u53d8\u6210\u4e86\u504f\u5411\u9501\uff0c\u5f53\u7ebf\u7a0b\u518d\u6b21\u8bf7\u6c42\u9501\u65f6\uff0c\u65e0\u9700\u518d\u505a\u4efb\u4f55\u540c\u6b65\u64cd\u4f5c\uff0c\u5373\u83b7\u53d6\u9501\u7684\u8fc7\u7a0b\u53ea\u9700\u8981\u68c0\u67e5Mark word\u7684\u9501\u6807\u8bb0\u4e3a\u504f\u5411\u9501\u4ee5\u53ca\u5f53\u524d\u7ebf\u7a0bID\u7b49\u4e8eMarkWord\u7684ThreadID\u5373\u53ef\u3002\u8fd9\u6837\u5c31\u7701\u53bb\u4e86\u5927\u91cf\u6709\u5173\u9501\u7533\u8bf7\u7684\u64cd\u4f5c\u3002\u4e0d\u9002\u7528\u4e8e\u9501\u7ade\u4e89\u6fc0\u70c8\u7684\u591a\u7ebf\u7a0b\u573a\u5408 \u8f7b\u91cf\u7ea7\u9501 \uff1a\u7531\u504f\u5411\u9501\u5347\u7ea7\u6765\u7684\uff0c\u504f\u5411\u9501\u8fd0\u884c\u5728\u4e00\u4e2a\u7ebf\u7a0b\u8fdb\u5165\u540c\u6b65\u5757\u7684\u60c5\u51b5\u4e0b\uff0c\u5f53\u7b2c\u4e8c\u4e2a\u7ebf\u7a0b\u52a0\u5165\u9501\u4e89\u7528\u7684\u65f6\u5019\uff0c\u504f\u5411\u9501\u5c31\u5347\u7ea7\u4e3a\u8f7b\u91cf\u7ea7\u9501\u3002 \u9002\u5e94\u573a\u666f\u7ebf\u7a0b\u4ea4\u66ff\u6267\u884c\u540c\u6b65\u5757\u3002\u82e5\u5b58\u5728\u540c\u4e00\u65f6\u95f4\u8bbf\u95ee\u540c\u4e00\u9501\u7684\u60c5\u51b5\uff0c\u8f7b\u91cf\u7ea7\u9501\u5c31\u4f1a\u5347\u7ea7\u4e3a\u91cd\u91cf\u7ea7\u9501\u3002 \u9501\u6c47\u4e2d\uff1a sychronized\u548cReentrantLock\u7684\u533a\u522b ReentrantLock(\u53ef\u91cd\u5165\u9501) 1 :\u4f4d\u4e8ejava.util.comcurrent.locks\u5305\u3002 2 :\u548cCountDownLatch\uff0cFutureTsak,Semaphore\u4e00\u6837\u57fa\u4e8eAQS\u5b9e\u73b0\u3002 3 :\u80fd\u591f\u5b9e\u73b0\u6bd4Synchronized\u66f4\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236\uff0c\u63a7\u5236\u516c\u5e73,synchroized\u975e\u516c\u5e73\u3002 4 :\u8c03\u7528lock()\u540e\u5fc5\u987b\u8c03\u7528unlock()\u91ca\u653e\u9501\u3002 //\u8bbe\u7f6e\u516c\u5e73\u9501\uff0c\u5c06\u8d4b\u4e88\u7b49\u5f85\u65f6\u95f4\u6700\u4e45\u7684\u7ebf\u7a0b(\u5373\u6309\u83b7\u53d6\u9501\u7684\u5148\u540e\u987a\u5e8f\u8c03\u7528lock\u65b9\u6cd5) ReentrantLock fairLock=new ReentrantLock(true); ReentrantLock\u5c06\u9501\u5bf9\u8c61\u5316 1 :\u5224\u65ad\u662f\u5426\u6709\u7ebf\u7a0b\u5728\u6392\u961f\u7b49\u5f85\u9501\u3002 2 :\u5e26\u8d85\u65f6\u7684\u83b7\u53d6\u9501\u5c1d\u8bd5\uff0c\u5982\u679c\u8d85\u65f6\u5219\u653e\u5f03\u83b7\u53d6(tryLock(long time, TimeUnit unit))\u3002 * 3 :\u80fd\u611f\u77e5\u6709\u6ca1\u6709\u6210\u529f\u83b7\u53d6\u9501\u3002 isFair() //\u5224\u65ad\u9501\u662f\u5426\u662f\u516c\u5e73\u9501 isLocked() //\u5224\u65ad\u9501\u662f\u5426\u88ab\u4efb\u4f55\u7ebf\u7a0b\u83b7\u53d6\u4e86 isHeldByCurrentThread() //\u5224\u65ad\u9501\u662f\u5426\u88ab\u5f53\u524d\u7ebf\u7a0b\u83b7\u53d6\u4e86 hasQueuedThreads() //\u5224\u65ad\u662f\u5426\u6709\u7ebf\u7a0b\u5728\u7b49\u5f85\u8be5\u9501 \u603b\u7ed3 synchronized\u662f\u5173\u952e\u5b57\uff0cReentranLock\u662f\u7c7b\u3002 ReentrantLock\u53ef\u4ee5\u5bf9\u83b7\u53d6\u9501\u7684\u7b49\u5f85\u65f6\u95f4\u8fdb\u884c\u8bbe\u7f6e\uff0c\u907f\u514d\u6b7b\u9501\u3002 ReentrantLock\u53ef\u4ee5\u83b7\u53d6\u5404\u79cd\u9501\u4fe1\u606f\u3002 ReentrantLock\u53ef\u4ee5\u7075\u6d3b\u5b9e\u73b0\u591a\u8def\u901a\u77e5\u3002 * \u673a\u5236 \uff1async\u64cd\u4f5cMark Word,lock()\u8c03\u7528Unsafe\u7c7b\u7684park()\u65b9\u6cd5\u3002 java\u5185\u5b58\u6a21\u578bJMM java\u5185\u5b58\u6a21\u578b\u662f\u4e00\u4e2a\u62bd\u8c61\u6982\u5ff5\uff0c\u63cf\u8ff0\u4e86\u7a0b\u5e8f\u4e2d\u5404\u4e2a\u53d8\u91cf\u7684\u8bbf\u95ee\u89c4\u5219,\u3001java\u5185\u5b58\u6a21\u578b\u5bf9\u5e76\u53d1\u63d0\u4f9b\u7684\u4fdd\u969c\uff1a\u539f\u5b50\u6027\u3001\u53ef\u89c1\u6027\u3002\u6709\u5e8f\u6027\u3002 jvm\u4e3b\u5185\u5b58 \u5b58\u50a8java\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5305\u62ec\uff08\u6210\u5458\u53d8\u91cf\uff0c\u7c7b\u4fe1\u606f\uff0c\u5e38\u91cf\uff0c\u9759\u6001\u53d8\u91cf\u7b49\uff09\uff0c\u5c5e\u4e8e\u6570\u636e\u5171\u4eab\u533a\u57df\uff0c\u591a\u7ebf\u7a0b\u5e76\u53d1\u64cd\u4f5c\u65f6\u4f1a\u5f15\u8d77\u7ebf\u7a0b\u5b89\u5168\u3002 jvm\u5de5\u4f5c\u5185\u5b58 *\u5b58\u50a8\u5f53\u524d\u65b9\u6cd5\u7684\u6240\u6709\u672c\u5730\u53d8\u91cf\u4fe1\u606f\uff0c\u5bf9\u5176\u4ed6\u7ebf\u7a0b\u4e0d\u53ef\u89c1\u3002\u5c5e\u4e8e\u7ebf\u7a0b\u79c1\u6709\u4fe1\u606f\uff0c\u4e0d\u5b58\u5728\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u3002\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u5bf9\u5e94\u7740\u4e00\u4e2a\u5de5\u4f5c\u7ebf\u7a0b\uff0c\u4e3b\u5185\u5b58\u4e2d\u7684\u53d8\u91cf\u90fd\u4f1a\u590d\u5236\u4e00\u4efd\u5230\u6bcf\u4e2a\u7ebf\u7a0b\u7684\u81ea\u5df1\u7684\u5de5\u4f5c\u7a7a\u95f4\uff0c\u7ebf\u7a0b\u5bf9\u53d8\u91cf\u7684\u64cd\u4f5c\u90fd\u5728\u81ea\u5df1\u7684\u5de5\u4f5c\u5185\u5b58\u4e2d\uff0c\u64cd\u4f5c\u5b8c\u6210\u540e\u518d\u5c06\u53d8\u91cf\u66f4\u65b0\u81f3\u4e3b\u5185\u5b58\u3002 \u6307\u4ee4\u91cd\u6392\u9700\u8981\u6ee1\u8db3\u6761\u4ef6 java\u7684\u7f16\u8bd1\u5668\u4f1a\u5bf9\u4ee3\u7801\u8fdb\u884c\u4f18\u5316\uff0c\u8fdb\u884c\u6307\u4ee4\u91cd\u6392\u3002\u6307\u4ee4\u91cd\u6392\u5fc5\u987b\u6ee1\u8db3\u7684\u6761\u4ef6\u5982\u4e0b\uff1a \u5728\u5355\u7ebf\u7a0b\u4e0b\u4e0d\u80fd\u6539\u53d8\u7a0b\u5e8f\u8fd0\u884c\u7ed3\u679c \u5b58\u5728\u6570\u636e\u4f9d\u8d56\u5173\u7cfb\u7684\u4e0d\u5141\u8bb8\u91cd\u6392\u3002\u4e0d\u5b58\u5728happen-before\u7684\u624d\u80fd\u6307\u4ee4\u91cd\u6392\u3002\u5982\u679c\u64cd\u4f5cAhappens-before \u64cd\u4f5cB,\u90a3\u4e48\u64cd\u4f5cA\u5728\u5185\u5b58\u4e0a\u6240\u505a\u64cd\u4f5c\u90fd\u5bf9B\u6240\u89c1\u3002 volatile Volatile\u662fjava\u865a\u62df\u673a\u63d0\u4f9b\u7684\u6700\u8f7b\u91cf\u7ea7\u7684\u540c\u6b65\u673a\u5236\uff0c\u5b83\u5177\u6709\u53ef\u89c1\u6027\u548c\u6709\u5e8f\u6027\uff0c\u4f46\u4e0d\u4fdd\u8bc1\u539f\u5b50\u6027\u3002 volatile\u53d8\u91cf\u7acb\u5373\u53ef\u89c1 \u5f53\u5199\u4e00\u4e2avolatile\u53d8\u91cf\u65f6\uff0cJMM\u4f1a\u628a\u8be5\u7ebf\u7a0b\u5bf9\u5e94\u7684\u5de5\u4f5c\u5185\u5b58\u4e2d\u7684\u5171\u4eab\u53d8\u91cf\u5237\u65b0\u5230\u4e3b\u5185\u5b58\u4e2d\u3002 \u5f53\u8bfb\u53d6\u4e00\u4e2avolatile\u53d8\u91cf\u65f6\uff0cJMM\u4f1a\u628a\u8be5\u7ebf\u7a0b\u5bf9\u5e94\u7684\u5de5\u4f5c\u5185\u5b58\u8bbe\u7f6e\u4e3a\u65e0\u6548\u3002 volatile\u5982\u4f55\u7981\u6b62\u91cd\u6392\u4f18\u5316 volatile\u5b9e\u9645\u4e0a\u5c31\u4f7f\u7528\u5230\u4e86\u5185\u5b58\u5c4f\u969c\u6280\u672f\u6765\u4fdd\u8bc1\u5176\u53d8\u91cf\u7684\u4fee\u6539\u5bf9\u5176\u4ed6CPU\u7acb\u5373\u53ef\u89c1\u3002\u5185\u5b58\u5c4f\u969c\u4fdd\u8bc1\u4e86\u7279\u5b9a\u64cd\u4f5c\u7684\u6267\u884c\u987a\u5e8f\u3002 \u901a\u8fc7\u63d2\u5165 \u5185\u5b58\u5c4f\u969c\u6307\u4ee4\u7981\u6b62\u5185\u5b58\u5c4f\u969c\u524d\u540e\u7684\u6307\u4ee4\u6267\u884c\u91cd\u6392\u4f18\u5316\u3002 volatile\u548csynchronized\u533a\u522b volatile\u672c\u8d28\u662f\u5728\u544a\u8bc9jvm\u5f53\u524d\u53d8\u91cf\u5728\u5bc4\u5b58\u5668\uff08\u5de5\u4f5c\u5185\u5b58\uff09\u4e2d\u7684\u503c\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u9700\u8981\u4ece\u4e3b\u5b58\u4e2d\u8bfb\u53d6\uff1b synchronized\u5219\u662f\u9501\u5b9a\u5f53\u524d\u53d8\u91cf\uff0c\u53ea\u6709\u5f53\u524d\u7ebf\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u8be5\u53d8\u91cf\uff0c\u5176\u4ed6\u7ebf\u7a0b\u88ab\u963b\u585e\u4f4f\u3002 volatile\u4ec5\u80fd\u4f7f\u7528\u5728\u53d8\u91cf\u7ea7\u522b\uff1b synchronized\u5219\u53ef\u4ee5\u4f7f\u7528\u5728\u53d8\u91cf\u3001\u65b9\u6cd5\u3001\u548c\u7c7b\u7ea7\u522b\u7684 volatile\u4e0d\u4f1a\u9020\u6210\u7ebf\u7a0b\u7684\u963b\u585e\uff1b synchronized\u53ef\u80fd\u4f1a\u9020\u6210\u7ebf\u7a0b\u7684\u963b\u585e\u3002 volatile\u6807\u8bb0\u7684\u53d8\u91cf\u4e0d\u4f1a\u88ab\u7f16\u8bd1\u5668\u4f18\u5316\uff1bsynchronized\u6807\u8bb0\u7684\u53d8\u91cf\u53ef\u4ee5\u88ab\u7f16\u8bd1\u5668\u4f18\u5316 *volatile\u4ec5\u80fd\u5b9e\u73b0\u53d8\u91cf\u7684\u4fee\u6539\u53ef\u89c1\u6027\uff0c\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u539f\u5b50\u6027\uff1bsynchronized\u5219\u53ef\u4ee5\u4fdd\u8bc1\u53d8\u91cf\u7684\u4fee\u6539\u53ef\u89c1\u6027\u548c\u539f\u5b50\u6027","title":"\u591a\u7ebf\u7a0b\u548c\u5e76\u53d1"},{"location":"lock/#_1","text":"1\u540c\u6b65\u4ee3\u7801\u5757 synchronized(this){ //\u76f8\u5e94\u4ee3\u7801\u5757 //\u9501\u662f\u5c0f\u62ec\u53f7\u4e2d\u7684\u5b9e\u4f8b\u5bf9\u8c61 } 2\u540c\u6b65\u975e\u9759\u6001\u65b9\u6cd5\uff08synchronized method),\u9501\u662f\u5f53\u524d\u5bf9\u8c61\u7684\u5b9e\u4f8b\u5bf9\u8c61\u3002","title":"\u83b7\u53d6\u5bf9\u8c61\u9501\u7684\u4e24\u79cd\u65b9\u5f0f"},{"location":"lock/#_2","text":"1\u540c\u6b65\u4ee3\u7801\u5757 synchronized(\u7c7b.class){} 2\u540c\u6b65\u9759\u6001\u65b9\u6cd5\uff08synchronized static method\uff09","title":"\u83b7\u53d6\u7c7b\u9501"},{"location":"lock/#_3","text":"\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u53d6\u5bf9\u8c61\u9501\u540e\uff0c\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u8be5\u5bf9\u8c61\u7684\u975e\u540c\u6b65\u65b9\u6cd5\u3002 \u540c\u4e00\u4e2a\u7c7b\u5404\u4e2a\u5bf9\u8c61\u7684\u5bf9\u8c61\u9501\u4e92\u4e0d\u5e72\u6270\uff0c\u7c7b\u9501\u548c\u5bf9\u8c61\u9501\u4e92\u4e0d\u5e72\u6270\u3002","title":"\u5bf9\u8c61\u9501\u548c\u7c7b\u9501\uff1a"},{"location":"lock/#synchronized","text":"","title":"synchronized \u5e95\u5c42\u5b9e\u73b0"},{"location":"lock/#_4","text":"\u5bf9\u8c61\u5934 Monitor","title":"\u57fa\u7840"},{"location":"lock/#_5","text":"\u5bf9\u8c61\u5934 \u5b9e\u4f8b\u6570\u636e \u5bf9\u9f50\u586b\u5145 \u5bf9\u8c61\u5934\u7531 Mark Word \u548c Class Metadata Address Mark word\u7ed3\u6784\uff1a","title":"\u5bf9\u8c61\u5728\u5185\u5b58\u4e2d\u7684\u5e03\u5c40"},{"location":"lock/#monitor","text":"Monitor:\u6bcf\u4e2ajava\u5bf9\u8c61\u5929\u751f\u81ea\u5e26\u7684\u4e00\u628a\u770b\u4e0d\u89c1\u7684\u9501\u3002 ObjectMonitor() { _header = NULL;//markOop\u5bf9\u8c61\u5934 _count = 0; //\u5f97\u5230\u9501\u8ba1\u6570+1\uff0c\u91cd\u5165\u4e00\u6b21\u518d\u52a01 _waiters = 0,//\u7b49\u5f85\u7ebf\u7a0b\u6570 _recursions = 0;//\u91cd\u5165\u6b21\u6570 //\u76d1\u89c6\u5668\u9501\u5bc4\u751f\u7684\u5bf9\u8c61\u3002\u9501\u4e0d\u662f\u5e73\u767d\u51fa\u73b0\u7684\uff0c\u800c\u662f\u5bc4\u6258\u5b58\u50a8\u4e8e\u5bf9\u8c61\u4e2d _object = NULL; _owner = NULL;//\u6307\u5411\u83b7\u5f97ObjectMonitor\u5bf9\u8c61\u7684\u7ebf\u7a0b\u6216\u57fa\u7840\u9501 _WaitSet = NULL;//\u5904\u4e8ewait\u72b6\u6001\u7684\u7ebf\u7a0b\uff0c\u4f1a\u88ab\u52a0\u5165\u5230wait set\uff1b _WaitSetLock = 0 ; _Responsible = NULL ; _succ = NULL ; _cxq = NULL ; FreeNext = NULL ; _EntryList = NULL ;//\u5904\u4e8e\u7b49\u5f85\u9501\u7684\u7ebf\u7a0b\uff0c\u4f1a\u88ab\u52a0\u5165\u5230entry set\uff1b _SpinFreq = 0 ; _SpinClock = 0 ; OwnerIsThread = 0 ;// _owner is (Thread *) vs SP/BasicLock _previous_owner_tid = 0; // \u76d1\u89c6\u5668\u524d\u4e00\u4e2a\u62e5\u6709\u8005\u7ebf\u7a0b\u7684ID }","title":"Monitor"},{"location":"lock/#jdk6synchronized","text":"\u5c5e\u4e8e\u91cd\u91cf\u7ea7\u9501\uff0c\u4f9d\u8d56\u4e8eMutex Lock\u5b9e\u73b0\u3002 \u7ebf\u7a0b\u4e4b\u95f4\u5207\u6362\u9700\u8981\u4ece\u7528\u6237\u6001\u8f6c\u5230\u6838\u5fc3\u6001\uff0c\u5f00\u9500\u5927\u3002","title":"JDK6\u4e4b\u524dsynchronized"},{"location":"lock/#java6synchronized","text":"\u5f85\u8865\u5145","title":"JAVA6\u4e4b\u540e\uff0cSynchronized\u7684\u6539\u8fdb\u3002"},{"location":"lock/#_6","text":"\u901a\u8fc7\u7ebf\u7a0b\u6267\u884c\u5fd9\u5faa\u73af\u7b49\u5f85\u9501\u7684\u91ca\u653e\uff0c\u4e0d\u8ba9\u51faCPU\u3002\u5171\u4eab\u6570\u636e\u7684\u9501\u5b9a\u72b6\u6001\u6301\u7eed\u65f6\u95f4\u8f83\u77ed\uff0c\u5207\u6362\u7ebf\u7a0b\u4e0d\u503c\u5f97\uff0c\u907f\u514d\u7ebf\u7a0b\u4e4b\u95f4\u7684\u5f00\u9500\u3002 \u7f3a\u70b9\uff1a\u82e5\u9501\u88ab\u5176\u4ed6\u7ebf\u7a0b\u957f\u65f6\u95f4\u5360\u7528\uff0c\u4f1a\u5e26\u6765\u8bb8\u591a\u6027\u80fd\u4e0a\u7684\u5f00\u9500\u3002\uff08\u6539\u8fdb\uff1a\u901a\u8fc7-XX:PreBlockSpin\u8bbe\u5b9a\u81ea\u65cb\u6b21\u6570 \uff0c\u5982\u679c\u8d85\u8fc7\u8be5\u503c\uff0c\u91ca\u653eCPU)\u3002","title":"\u81ea\u65cb\u9501"},{"location":"lock/#_7","text":"\u81ea\u65cb\u7684\u6b21\u6570\u4e0d\u518d\u56fa\u5b9a\u3002 \u7531\u524d\u4e00\u6b21\u5728\u540c\u4e00\u4e2a\u9501\u4e0a\u7684\u81ea\u65cb\u65f6\u95f4\u53ca\u9501\u7684\u62e5\u6709\u8005\u7684\u72b6\u6001\u6765\u51b3\u5b9a\u3002","title":"\u81ea\u9002\u5e94\u81ea\u65cb\u9501"},{"location":"lock/#_8","text":"","title":"\u9501\u6d88\u9664"},{"location":"lock/#_9","text":"","title":"\u9501\u7c97\u5316"},{"location":"lock/#synchronized_1","text":"\u65e0\u9501\uff0c\u504f\u5411\u9501\uff0c\u8f7b\u91cf\u7ea7\u9501\uff0c\u91cd\u91cf\u7ea7\u9501\u3002 \u9501\u7684\u5347\u7ea7\u65b9\u5411\uff1a\u65e0\u9501\u2014\u2014>\u504f\u5411\u9501\u2014\u2014>\u8f7b\u91cf\u7ea7\u9501\u2014\u2014>\u91cd\u91cf\u7ea7\u9501\u3002 \u504f\u5411\u9501\uff1a \u51cf\u5c11\u540c\u4e00\u7ebf\u7a0b\u83b7\u53d6\u9501\u7684\u4ee3\u4ef7 \u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6240\u4e0d\u5b58\u5728\u591a\u7ebf\u7a0b\u7ade\u4e89\uff0c\u603b\u662f\u7531\u540c\u4e00\u4e2a\u7ebf\u7a0b\u591a\u6b21\u83b7\u5f97\u3002 \u6838\u5fc3\u601d\u60f3\uff1a\u5982\u679c\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u5f97\u4e86\u9501\uff0c\u5c31\u8fdb\u5165\u504f\u5411\u9501\u6a21\u5f0f\uff0c\u6b64\u65f6MarkWord \u7684\u7ed3\u6784\u4e5f\u53d8\u6210\u4e86\u504f\u5411\u9501\uff0c\u5f53\u7ebf\u7a0b\u518d\u6b21\u8bf7\u6c42\u9501\u65f6\uff0c\u65e0\u9700\u518d\u505a\u4efb\u4f55\u540c\u6b65\u64cd\u4f5c\uff0c\u5373\u83b7\u53d6\u9501\u7684\u8fc7\u7a0b\u53ea\u9700\u8981\u68c0\u67e5Mark word\u7684\u9501\u6807\u8bb0\u4e3a\u504f\u5411\u9501\u4ee5\u53ca\u5f53\u524d\u7ebf\u7a0bID\u7b49\u4e8eMarkWord\u7684ThreadID\u5373\u53ef\u3002\u8fd9\u6837\u5c31\u7701\u53bb\u4e86\u5927\u91cf\u6709\u5173\u9501\u7533\u8bf7\u7684\u64cd\u4f5c\u3002\u4e0d\u9002\u7528\u4e8e\u9501\u7ade\u4e89\u6fc0\u70c8\u7684\u591a\u7ebf\u7a0b\u573a\u5408 \u8f7b\u91cf\u7ea7\u9501 \uff1a\u7531\u504f\u5411\u9501\u5347\u7ea7\u6765\u7684\uff0c\u504f\u5411\u9501\u8fd0\u884c\u5728\u4e00\u4e2a\u7ebf\u7a0b\u8fdb\u5165\u540c\u6b65\u5757\u7684\u60c5\u51b5\u4e0b\uff0c\u5f53\u7b2c\u4e8c\u4e2a\u7ebf\u7a0b\u52a0\u5165\u9501\u4e89\u7528\u7684\u65f6\u5019\uff0c\u504f\u5411\u9501\u5c31\u5347\u7ea7\u4e3a\u8f7b\u91cf\u7ea7\u9501\u3002 \u9002\u5e94\u573a\u666f\u7ebf\u7a0b\u4ea4\u66ff\u6267\u884c\u540c\u6b65\u5757\u3002\u82e5\u5b58\u5728\u540c\u4e00\u65f6\u95f4\u8bbf\u95ee\u540c\u4e00\u9501\u7684\u60c5\u51b5\uff0c\u8f7b\u91cf\u7ea7\u9501\u5c31\u4f1a\u5347\u7ea7\u4e3a\u91cd\u91cf\u7ea7\u9501\u3002 \u9501\u6c47\u4e2d\uff1a","title":"synchronized\u7684\u56db\u79cd\u72b6\u6001"},{"location":"lock/#sychronizedreentrantlock","text":"","title":"sychronized\u548cReentrantLock\u7684\u533a\u522b"},{"location":"lock/#reentrantlock","text":"1 :\u4f4d\u4e8ejava.util.comcurrent.locks\u5305\u3002 2 :\u548cCountDownLatch\uff0cFutureTsak,Semaphore\u4e00\u6837\u57fa\u4e8eAQS\u5b9e\u73b0\u3002 3 :\u80fd\u591f\u5b9e\u73b0\u6bd4Synchronized\u66f4\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236\uff0c\u63a7\u5236\u516c\u5e73,synchroized\u975e\u516c\u5e73\u3002 4 :\u8c03\u7528lock()\u540e\u5fc5\u987b\u8c03\u7528unlock()\u91ca\u653e\u9501\u3002 //\u8bbe\u7f6e\u516c\u5e73\u9501\uff0c\u5c06\u8d4b\u4e88\u7b49\u5f85\u65f6\u95f4\u6700\u4e45\u7684\u7ebf\u7a0b(\u5373\u6309\u83b7\u53d6\u9501\u7684\u5148\u540e\u987a\u5e8f\u8c03\u7528lock\u65b9\u6cd5) ReentrantLock fairLock=new ReentrantLock(true);","title":"ReentrantLock(\u53ef\u91cd\u5165\u9501)"},{"location":"lock/#reentrantlock_1","text":"1 :\u5224\u65ad\u662f\u5426\u6709\u7ebf\u7a0b\u5728\u6392\u961f\u7b49\u5f85\u9501\u3002 2 :\u5e26\u8d85\u65f6\u7684\u83b7\u53d6\u9501\u5c1d\u8bd5\uff0c\u5982\u679c\u8d85\u65f6\u5219\u653e\u5f03\u83b7\u53d6(tryLock(long time, TimeUnit unit))\u3002 * 3 :\u80fd\u611f\u77e5\u6709\u6ca1\u6709\u6210\u529f\u83b7\u53d6\u9501\u3002 isFair() //\u5224\u65ad\u9501\u662f\u5426\u662f\u516c\u5e73\u9501 isLocked() //\u5224\u65ad\u9501\u662f\u5426\u88ab\u4efb\u4f55\u7ebf\u7a0b\u83b7\u53d6\u4e86 isHeldByCurrentThread() //\u5224\u65ad\u9501\u662f\u5426\u88ab\u5f53\u524d\u7ebf\u7a0b\u83b7\u53d6\u4e86 hasQueuedThreads() //\u5224\u65ad\u662f\u5426\u6709\u7ebf\u7a0b\u5728\u7b49\u5f85\u8be5\u9501","title":"ReentrantLock\u5c06\u9501\u5bf9\u8c61\u5316"},{"location":"lock/#_10","text":"synchronized\u662f\u5173\u952e\u5b57\uff0cReentranLock\u662f\u7c7b\u3002 ReentrantLock\u53ef\u4ee5\u5bf9\u83b7\u53d6\u9501\u7684\u7b49\u5f85\u65f6\u95f4\u8fdb\u884c\u8bbe\u7f6e\uff0c\u907f\u514d\u6b7b\u9501\u3002 ReentrantLock\u53ef\u4ee5\u83b7\u53d6\u5404\u79cd\u9501\u4fe1\u606f\u3002 ReentrantLock\u53ef\u4ee5\u7075\u6d3b\u5b9e\u73b0\u591a\u8def\u901a\u77e5\u3002 * \u673a\u5236 \uff1async\u64cd\u4f5cMark Word,lock()\u8c03\u7528Unsafe\u7c7b\u7684park()\u65b9\u6cd5\u3002","title":"\u603b\u7ed3"},{"location":"lock/#javajmm","text":"java\u5185\u5b58\u6a21\u578b\u662f\u4e00\u4e2a\u62bd\u8c61\u6982\u5ff5\uff0c\u63cf\u8ff0\u4e86\u7a0b\u5e8f\u4e2d\u5404\u4e2a\u53d8\u91cf\u7684\u8bbf\u95ee\u89c4\u5219,\u3001java\u5185\u5b58\u6a21\u578b\u5bf9\u5e76\u53d1\u63d0\u4f9b\u7684\u4fdd\u969c\uff1a\u539f\u5b50\u6027\u3001\u53ef\u89c1\u6027\u3002\u6709\u5e8f\u6027\u3002","title":"java\u5185\u5b58\u6a21\u578bJMM"},{"location":"lock/#jvm","text":"\u5b58\u50a8java\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5305\u62ec\uff08\u6210\u5458\u53d8\u91cf\uff0c\u7c7b\u4fe1\u606f\uff0c\u5e38\u91cf\uff0c\u9759\u6001\u53d8\u91cf\u7b49\uff09\uff0c\u5c5e\u4e8e\u6570\u636e\u5171\u4eab\u533a\u57df\uff0c\u591a\u7ebf\u7a0b\u5e76\u53d1\u64cd\u4f5c\u65f6\u4f1a\u5f15\u8d77\u7ebf\u7a0b\u5b89\u5168\u3002","title":"jvm\u4e3b\u5185\u5b58"},{"location":"lock/#jvm_1","text":"*\u5b58\u50a8\u5f53\u524d\u65b9\u6cd5\u7684\u6240\u6709\u672c\u5730\u53d8\u91cf\u4fe1\u606f\uff0c\u5bf9\u5176\u4ed6\u7ebf\u7a0b\u4e0d\u53ef\u89c1\u3002\u5c5e\u4e8e\u7ebf\u7a0b\u79c1\u6709\u4fe1\u606f\uff0c\u4e0d\u5b58\u5728\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u3002\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u5bf9\u5e94\u7740\u4e00\u4e2a\u5de5\u4f5c\u7ebf\u7a0b\uff0c\u4e3b\u5185\u5b58\u4e2d\u7684\u53d8\u91cf\u90fd\u4f1a\u590d\u5236\u4e00\u4efd\u5230\u6bcf\u4e2a\u7ebf\u7a0b\u7684\u81ea\u5df1\u7684\u5de5\u4f5c\u7a7a\u95f4\uff0c\u7ebf\u7a0b\u5bf9\u53d8\u91cf\u7684\u64cd\u4f5c\u90fd\u5728\u81ea\u5df1\u7684\u5de5\u4f5c\u5185\u5b58\u4e2d\uff0c\u64cd\u4f5c\u5b8c\u6210\u540e\u518d\u5c06\u53d8\u91cf\u66f4\u65b0\u81f3\u4e3b\u5185\u5b58\u3002","title":"jvm\u5de5\u4f5c\u5185\u5b58"},{"location":"lock/#_11","text":"java\u7684\u7f16\u8bd1\u5668\u4f1a\u5bf9\u4ee3\u7801\u8fdb\u884c\u4f18\u5316\uff0c\u8fdb\u884c\u6307\u4ee4\u91cd\u6392\u3002\u6307\u4ee4\u91cd\u6392\u5fc5\u987b\u6ee1\u8db3\u7684\u6761\u4ef6\u5982\u4e0b\uff1a \u5728\u5355\u7ebf\u7a0b\u4e0b\u4e0d\u80fd\u6539\u53d8\u7a0b\u5e8f\u8fd0\u884c\u7ed3\u679c \u5b58\u5728\u6570\u636e\u4f9d\u8d56\u5173\u7cfb\u7684\u4e0d\u5141\u8bb8\u91cd\u6392\u3002\u4e0d\u5b58\u5728happen-before\u7684\u624d\u80fd\u6307\u4ee4\u91cd\u6392\u3002\u5982\u679c\u64cd\u4f5cAhappens-before \u64cd\u4f5cB,\u90a3\u4e48\u64cd\u4f5cA\u5728\u5185\u5b58\u4e0a\u6240\u505a\u64cd\u4f5c\u90fd\u5bf9B\u6240\u89c1\u3002","title":"\u6307\u4ee4\u91cd\u6392\u9700\u8981\u6ee1\u8db3\u6761\u4ef6"},{"location":"lock/#volatile","text":"Volatile\u662fjava\u865a\u62df\u673a\u63d0\u4f9b\u7684\u6700\u8f7b\u91cf\u7ea7\u7684\u540c\u6b65\u673a\u5236\uff0c\u5b83\u5177\u6709\u53ef\u89c1\u6027\u548c\u6709\u5e8f\u6027\uff0c\u4f46\u4e0d\u4fdd\u8bc1\u539f\u5b50\u6027\u3002","title":"volatile"},{"location":"lock/#volatile_1","text":"\u5f53\u5199\u4e00\u4e2avolatile\u53d8\u91cf\u65f6\uff0cJMM\u4f1a\u628a\u8be5\u7ebf\u7a0b\u5bf9\u5e94\u7684\u5de5\u4f5c\u5185\u5b58\u4e2d\u7684\u5171\u4eab\u53d8\u91cf\u5237\u65b0\u5230\u4e3b\u5185\u5b58\u4e2d\u3002 \u5f53\u8bfb\u53d6\u4e00\u4e2avolatile\u53d8\u91cf\u65f6\uff0cJMM\u4f1a\u628a\u8be5\u7ebf\u7a0b\u5bf9\u5e94\u7684\u5de5\u4f5c\u5185\u5b58\u8bbe\u7f6e\u4e3a\u65e0\u6548\u3002","title":"volatile\u53d8\u91cf\u7acb\u5373\u53ef\u89c1"},{"location":"lock/#volatile_2","text":"volatile\u5b9e\u9645\u4e0a\u5c31\u4f7f\u7528\u5230\u4e86\u5185\u5b58\u5c4f\u969c\u6280\u672f\u6765\u4fdd\u8bc1\u5176\u53d8\u91cf\u7684\u4fee\u6539\u5bf9\u5176\u4ed6CPU\u7acb\u5373\u53ef\u89c1\u3002\u5185\u5b58\u5c4f\u969c\u4fdd\u8bc1\u4e86\u7279\u5b9a\u64cd\u4f5c\u7684\u6267\u884c\u987a\u5e8f\u3002 \u901a\u8fc7\u63d2\u5165 \u5185\u5b58\u5c4f\u969c\u6307\u4ee4\u7981\u6b62\u5185\u5b58\u5c4f\u969c\u524d\u540e\u7684\u6307\u4ee4\u6267\u884c\u91cd\u6392\u4f18\u5316\u3002","title":"volatile\u5982\u4f55\u7981\u6b62\u91cd\u6392\u4f18\u5316"},{"location":"lock/#volatilesynchronized","text":"volatile\u672c\u8d28\u662f\u5728\u544a\u8bc9jvm\u5f53\u524d\u53d8\u91cf\u5728\u5bc4\u5b58\u5668\uff08\u5de5\u4f5c\u5185\u5b58\uff09\u4e2d\u7684\u503c\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u9700\u8981\u4ece\u4e3b\u5b58\u4e2d\u8bfb\u53d6\uff1b synchronized\u5219\u662f\u9501\u5b9a\u5f53\u524d\u53d8\u91cf\uff0c\u53ea\u6709\u5f53\u524d\u7ebf\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u8be5\u53d8\u91cf\uff0c\u5176\u4ed6\u7ebf\u7a0b\u88ab\u963b\u585e\u4f4f\u3002 volatile\u4ec5\u80fd\u4f7f\u7528\u5728\u53d8\u91cf\u7ea7\u522b\uff1b synchronized\u5219\u53ef\u4ee5\u4f7f\u7528\u5728\u53d8\u91cf\u3001\u65b9\u6cd5\u3001\u548c\u7c7b\u7ea7\u522b\u7684 volatile\u4e0d\u4f1a\u9020\u6210\u7ebf\u7a0b\u7684\u963b\u585e\uff1b synchronized\u53ef\u80fd\u4f1a\u9020\u6210\u7ebf\u7a0b\u7684\u963b\u585e\u3002 volatile\u6807\u8bb0\u7684\u53d8\u91cf\u4e0d\u4f1a\u88ab\u7f16\u8bd1\u5668\u4f18\u5316\uff1bsynchronized\u6807\u8bb0\u7684\u53d8\u91cf\u53ef\u4ee5\u88ab\u7f16\u8bd1\u5668\u4f18\u5316 *volatile\u4ec5\u80fd\u5b9e\u73b0\u53d8\u91cf\u7684\u4fee\u6539\u53ef\u89c1\u6027\uff0c\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u539f\u5b50\u6027\uff1bsynchronized\u5219\u53ef\u4ee5\u4fdd\u8bc1\u53d8\u91cf\u7684\u4fee\u6539\u53ef\u89c1\u6027\u548c\u539f\u5b50\u6027","title":"volatile\u548csynchronized\u533a\u522b"}]}